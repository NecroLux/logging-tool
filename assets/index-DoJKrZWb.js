import{r as ne,a as Xe,g as Ue,c as Me,b as Qe,R as Fe}from"./vendor-CyBwq7db.js";import{j as Ze,h as _e,a as qe,_ as ke}from"./pdf-BvPGsvip.js";(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const k of document.querySelectorAll('link[rel="modulepreload"]'))H(k);new MutationObserver(k=>{for(const Q of k)if(Q.type==="childList")for(const X of Q.addedNodes)X.tagName==="LINK"&&X.rel==="modulepreload"&&H(X)}).observe(document,{childList:!0,subtree:!0});function oe(k){const Q={};return k.integrity&&(Q.integrity=k.integrity),k.referrerPolicy&&(Q.referrerPolicy=k.referrerPolicy),k.crossOrigin==="use-credentials"?Q.credentials="include":k.crossOrigin==="anonymous"?Q.credentials="omit":Q.credentials="same-origin",Q}function H(k){if(k.ep)return;k.ep=!0;const Q=oe(k);fetch(k.href,Q)}})();var Ke={exports:{}},De={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var et=ne,tt=Symbol.for("react.element"),rt=Symbol.for("react.fragment"),nt=Object.prototype.hasOwnProperty,ot=et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,st={key:!0,ref:!0,__self:!0,__source:!0};function Ve(J,_,oe){var H,k={},Q=null,X=null;oe!==void 0&&(Q=""+oe),_.key!==void 0&&(Q=""+_.key),_.ref!==void 0&&(X=_.ref);for(H in _)nt.call(_,H)&&!st.hasOwnProperty(H)&&(k[H]=_[H]);if(J&&J.defaultProps)for(H in _=J.defaultProps,_)k[H]===void 0&&(k[H]=_[H]);return{$$typeof:tt,type:J,key:Q,ref:X,props:k,_owner:ot.current}}De.Fragment=rt;De.jsx=Ve;De.jsxs=Ve;Ke.exports=De;var t=Ke.exports,ze,Be=Xe;ze=Be.createRoot,Be.hydrateRoot;function at(){const[J,_]=ne.useState("patrol"),[oe,H]=ne.useState(""),[k,Q]=ne.useState(""),[X,ae]=ne.useState(""),[i,p]=ne.useState(""),[e,n]=ne.useState("Gullinbursti"),[s,r]=ne.useState(""),[d,u]=ne.useState(""),[f,l]=ne.useState(""),[a,o]=ne.useState(""),[c,m]=ne.useState(""),[j,b]=ne.useState(""),[N,T]=ne.useState("Athena"),[w,C]=ne.useState([]),[R,I]=ne.useState(!1),[y,h]=ne.useState(!1),[E,L]=ne.useState("Charm"),[K,P]=ne.useState("Charm"),[g,G]=ne.useState(1),[D,re]=ne.useState(1),[x,A]=ne.useState(""),[B,M]=ne.useState(""),[U,W]=ne.useState("");ne.useEffect(()=>{const ee=localStorage.getItem("mode");ee&&_(ee);const ce=localStorage.getItem("voyageNumber");ce&&A(ce);const de=localStorage.getItem("ancientCoins");de&&M(de);const pe=localStorage.getItem("fishCaught");pe&&W(pe);const we=localStorage.getItem("parchment");we&&G(Number(we)||1);const ve=localStorage.getItem("frame");ve&&re(Number(ve)||0)},[]),ne.useEffect(()=>{d===""&&u(JSON.stringify([{id:String(Date.now()),name:"",discord:"",rank:"",role:""}]))},[]);const te=(ee,ce)=>{let de;return(...pe)=>{de&&clearTimeout(de),de=setTimeout(()=>ee(...pe),ce)}};ne.useEffect(()=>{te(()=>{localStorage.setItem("mode",J),localStorage.setItem("body",k),localStorage.setItem("signature",X),localStorage.setItem("subtitle",i),localStorage.setItem("events",s),localStorage.setItem("crew",d),localStorage.setItem("gold",f),localStorage.setItem("doubloons",a),localStorage.setItem("ourTeam",N),localStorage.setItem("dives",JSON.stringify(w)),localStorage.setItem("selectedShip",e),localStorage.setItem("titleFont",E),localStorage.setItem("bodyFont",K),localStorage.setItem("parchment",String(g)),localStorage.setItem("frame",String(D)),localStorage.setItem("voyageNumber",x),localStorage.setItem("ancientCoins",B),localStorage.setItem("fishCaught",U)},500)()},[J,k,X,i,s,d,f,a,N,w,e,E,K,x,B,U,g,D]);const q=()=>{const ee={ourTeam:N,enemyTeam:N==="Athena"?"Reaper":"Athena",outcome:"win",notes:""};C([...w,ee])},V=(ee,ce)=>{C(w.map((de,pe)=>pe===ee?{...de,...ce}:de))},le=ee=>{C(w.filter((ce,de)=>de!==ee))},me=()=>{H("Log Title"),Q(""),ae(""),p(""),r(""),u(""),l(""),o(""),T("Athena"),C([]),A(""),M(""),W(""),m(""),b(""),n("Gullinbursti"),L("Felipa"),P("Jim Nightshade"),G(1),re(1)},Oe=ee=>ee?ee.split(`
`).filter(ce=>ce.trim()!==""):[],Ne=ee=>{const ce=Number(ee);if(!Number.isFinite(ce)||ce===0)return"nth";const de=ce%100;if(de>=11&&de<=13)return`${ce}th`;const pe=ce%10;return pe===1?`${ce}st`:pe===2?`${ce}nd`:pe===3?`${ce}rd`:`${ce}th`},Ie=()=>{let ee=[];try{ee=JSON.parse(d||"[]")}catch{ee=[]}const ce=ee.find(fe=>fe.id===X),de=(ce==null?void 0:ce.discord)||"000000000000000000",pe=["Recruit","Seaman","Marine","Lance Corporal","Able Seaman","Corporal","Junior Petty Officer","Staff Sergeant","Petty Officer","Gunnery Sergeant","Chief Petty Officer","Master Sergeant","Senior Chief Petty Officer","Second Lieutenant","Midshipman","Marine Captain","Lieutenant","Major","Lieutenant Commander","Lieutenant Colonel","Commander","Colonel","Captain","Brigadier General","Commodore","Major General","Rear Admiral","Vice Admiral","Admiral"];ee.sort((fe,v)=>{const S=pe.indexOf(fe.rank);return pe.indexOf(v.rank)-S});const we={Helm:":Wheel:",Cannons:":Cannon:",Carpenter:":Planks:",Flex:":SwordFight:"},ve=ee.filter(fe=>fe.discord&&fe.role).map(fe=>{const v=we[fe.role]||"",S=fe.isRep?" [REP]":"";return`<@${fe.discord}> - ${fe.role} ${v}${S}`.trim()}).join(`
`),Se=(s||"").split(`
`).filter(Boolean).join(`
`),Pe=e==="Gullinbursti"?"":", auxiliary to the USS Gullinbursti",je=x?Ne(x):"nth";if(J==="patrol"){const fe=[];return fe.push(`:Gold: Gold: ${f||"0"}`),fe.push(`:Doubloons: Doubloons: ${a||"0"}`),B&&parseInt(B)>0&&fe.push(`:AncientCoin: Ancient Coins: ${B}`),U&&parseInt(U)>0&&fe.push(`:fish: Fish: ${U}`),`<@${de}>'s log of the ${je} voyage (Patrol) aboard the USS ${e}${Pe}.

**Entry Log**
${k||""}

**Loot Confiscated:**
${fe.join(`
`)}

**Events:**
${Se||"None"}

**Crew:**
${ve||"No crew assigned"}

:Gullinbursti: Charging Forth, Radiant and Unyielding :Gullinbursti:`}else{const fe=w.length?w.map((v,S)=>`${S+1}. ${v.ourTeam} vs ${v.enemyTeam} (${v.outcome})${v.notes?` - ${v.notes}`:""}`).join(`
`):"No dives recorded";return`<@${de}>'s log of the ${je} voyage (Skirmish) aboard the USS ${e}${Pe}.

**Entry Log**
${k||""}

**Team:** ${N}

**Crew:**
${ve||"No crew assigned"}

**Dives:**
${fe}

:Gullinbursti: Charging Forth, Radiant and Unyielding :Gullinbursti:`}},ge=ne.useRef(null);return ne.useEffect(()=>{const ee=ve=>{if(!ve)return 0;const Se=parseFloat(ve.replace(/[^0-9.-]/g,""));return Number.isFinite(Se)?Se:0},ce=ee(c),pe=ee(j)-ce,we=pe?String(pe):"";(f===""||ge.current===f)&&(l(we),ge.current=we)},[c,j]),{mode:J,setMode:_,selectedShip:e,setSelectedShip:n,events:s,setEvents:r,crew:d,setCrew:u,gold:f,setGold:l,doubloons:a,setDoubloons:o,startgold:c,setStartgold:m,endgold:j,setEndgold:b,signature:X,setSignature:ae,subtitle:i,setSubtitle:p,title:oe,setTitle:H,ourTeam:N,setOurTeam:T,body:k,setBody:Q,titleFont:E,setTitleFont:L,bodyFont:K,setBodyFont:P,formatList:Oe,voyageNumber:x,setVoyageNumber:A,formatDiscordMessage:Ie,isModalOpen:R,setIsModalOpen:I,isCopyModalOpen:y,setIsCopyModalOpen:h,ancientCoins:B,setAncientCoins:M,fishCaught:U,setFishCaught:W,parchment:g,setParchment:G,frame:D,setFrame:re,dives:w,updateDive:V,removeDive:le,addNewDive:q,resetState:me,loadTestingData:()=>{const ee=[{id:"1",name:"John Blackhook",discord:"123456789",rank:"Admiral",role:"Helm",isRep:!1},{id:"2",name:"Ruper Ironside",discord:"234567890",rank:"Captain",role:"Cannons",isRep:!1},{id:"3",name:"Dirk Wavecrest",discord:"345678901",rank:"Lieutenant",role:"Carpenter",isRep:!1},{id:"4",name:"Jorg Stormbreaker",discord:"456789012",rank:"Seaman",role:"Flex",isRep:!1},{id:"5",name:"Erik Saltbeard",discord:"567890123",rank:"Marine",role:"Helm",isRep:!0}];J==="patrol"?(A("5"),Q("Set sail at dawn under favorable winds. Encountered three merchant vessels and one skeleton galleon. All encounters resolved favorably. Crew performed excellently throughout the expedition. Returned to port with full holds and morale high."),ae(ee[0].id),r(`Merchant Vessel Encountered
Skeleton Galleon Vanquished
Kraken Tentacle Spotted
Legendary Treasure Map Found`),l("5,250"),o("180"),m("1,000"),b("6,250"),M("25"),W("12")):(A("3"),Q("Competed in intense skirmish battles against rival crews. Team displayed exceptional coordination and tactical prowess. Multiple close matches showcased the skill of our sailors."),ae(ee[0].id),T("Athena"),C([{ourTeam:"Athena",enemyTeam:"Reaper",outcome:"win",notes:"Superior cannon work and smart positioning"},{ourTeam:"Athena",enemyTeam:"Reaper",outcome:"loss",notes:"Caught off guard by their anchor strategy"},{ourTeam:"Athena",enemyTeam:"Reaper",outcome:"win",notes:"Excellent teamwork, clean victory"}])),u(JSON.stringify(ee)),setTimeout(()=>{u("[]"),setTimeout(()=>{u(JSON.stringify(ee))},10)},10)}}}var We={exports:{}};const it=Ue(Ze),lt=Ue(_e);/*!
 * html2pdf.js v0.10.2
 * Copyright (c) 2024 Erik Koopmans
 * Released under the MIT License.
 */(function(J,_){(function(H,k){J.exports=k(it,lt)})(self,function(oe,H){return function(){var k={"./src/plugin/hyperlinks.js":function(i,p,e){e.r(p),e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),e("./node_modules/core-js/modules/es.string.link.js");var n=e("./src/worker.js"),s=e("./src/utils.js"),r=[],d={toContainer:n.default.prototype.toContainer,toPdf:n.default.prototype.toPdf};n.default.prototype.toContainer=function(){return d.toContainer.call(this).then(function(){if(this.opt.enableLinks){var l=this.prop.container,a=l.querySelectorAll("a"),o=(0,s.unitConvert)(l.getBoundingClientRect(),this.prop.pageSize.k);r=[],Array.prototype.forEach.call(a,function(c){for(var m=c.getClientRects(),j=0;j<m.length;j++){var b=(0,s.unitConvert)(m[j],this.prop.pageSize.k);b.left-=o.left,b.top-=o.top;var N=Math.floor(b.top/this.prop.pageSize.inner.height)+1,T=this.opt.margin[0]+b.top%this.prop.pageSize.inner.height,w=this.opt.margin[1]+b.left;r.push({page:N,top:T,left:w,clientRect:b,link:c})}},this)}})},n.default.prototype.toPdf=function(){return d.toPdf.call(this).then(function(){if(this.opt.enableLinks){r.forEach(function(a){this.prop.pdf.setPage(a.page),this.prop.pdf.link(a.left,a.top,a.clientRect.width,a.clientRect.height,{url:a.link.href})},this);var l=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(l)}})}},"./src/plugin/jspdf-plugin.js":function(i,p,e){e.r(p),e("./node_modules/core-js/modules/es.symbol.js"),e("./node_modules/core-js/modules/es.symbol.description.js"),e("./node_modules/core-js/modules/es.object.to-string.js"),e("./node_modules/core-js/modules/es.symbol.iterator.js"),e("./node_modules/core-js/modules/es.array.iterator.js"),e("./node_modules/core-js/modules/es.string.iterator.js"),e("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=e("jspdf");function s(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(u){return typeof u}:s=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(r)}n.jsPDF.getPageSize=function(r,d,u){if(s(r)==="object"){var f=r;r=f.orientation,d=f.unit||d,u=f.format||u}d=d||"mm",u=u||"a4",r=(""+(r||"P")).toLowerCase();var l=(""+u).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":var o=1;break;case"mm":var o=72/25.4;break;case"cm":var o=72/2.54;break;case"in":var o=72;break;case"px":var o=72/96;break;case"pc":var o=12;break;case"em":var o=12;break;case"ex":var o=6;break;default:throw"Invalid unit: "+d}if(a.hasOwnProperty(l))var c=a[l][1]/o,m=a[l][0]/o;else try{var c=u[1],m=u[0]}catch{throw new Error("Invalid format: "+u)}if(r==="p"||r==="portrait"){if(r="p",m>c){var j=m;m=c,c=j}}else if(r==="l"||r==="landscape"){if(r="l",c>m){var j=m;m=c,c=j}}else throw"Invalid orientation: "+r;var b={width:m,height:c,unit:d,k:o};return b},p.default=n.jsPDF},"./src/plugin/pagebreaks.js":function(i,p,e){e.r(p),e("./node_modules/core-js/modules/es.array.concat.js"),e("./node_modules/core-js/modules/es.array.slice.js"),e("./node_modules/core-js/modules/es.array.join.js"),e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),e("./node_modules/core-js/modules/es.object.keys.js");var n=e("./src/worker.js"),s=e("./src/utils.js"),r={toContainer:n.default.prototype.toContainer};n.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},n.default.prototype.toContainer=function(){return r.toContainer.call(this).then(function(){var f=this.prop.container,l=this.prop.pageSize.inner.px.height,a=[].concat(this.opt.pagebreak.mode),o={avoidAll:a.indexOf("avoid-all")!==-1,css:a.indexOf("css")!==-1,legacy:a.indexOf("legacy")!==-1},c={},m=this;["before","after","avoid"].forEach(function(N){var T=o.avoidAll&&N==="avoid";c[N]=T?[]:[].concat(m.opt.pagebreak[N]||[]),c[N].length>0&&(c[N]=Array.prototype.slice.call(f.querySelectorAll(c[N].join(", "))))});var j=f.querySelectorAll(".html2pdf__page-break");j=Array.prototype.slice.call(j);var b=f.querySelectorAll("*");Array.prototype.forEach.call(b,function(T){var w={before:!1,after:o.legacy&&j.indexOf(T)!==-1,avoid:o.avoidAll};if(o.css){var C=window.getComputedStyle(T),R=["always","page","left","right"],I=["avoid","avoid-page"];w={before:w.before||R.indexOf(C.breakBefore||C.pageBreakBefore)!==-1,after:w.after||R.indexOf(C.breakAfter||C.pageBreakAfter)!==-1,avoid:w.avoid||I.indexOf(C.breakInside||C.pageBreakInside)!==-1}}Object.keys(w).forEach(function(P){w[P]=w[P]||c[P].indexOf(T)!==-1});var y=T.getBoundingClientRect();if(w.avoid&&!w.before){var h=Math.floor(y.top/l),E=Math.floor(y.bottom/l),L=Math.abs(y.bottom-y.top)/l;E!==h&&L<=1&&(w.before=!0)}if(w.before){var K=(0,s.createElement)("div",{style:{display:"block",height:l-y.top%l+"px"}});T.parentNode.insertBefore(K,T)}if(w.after){var K=(0,s.createElement)("div",{style:{display:"block",height:l-y.bottom%l+"px"}});T.parentNode.insertBefore(K,T.nextSibling)}})})}},"./src/utils.js":function(i,p,e){e.r(p),e.d(p,{objType:function(){return s},createElement:function(){return r},cloneNode:function(){return d},unitConvert:function(){return u},toPx:function(){return f}}),e("./node_modules/core-js/modules/es.number.constructor.js"),e("./node_modules/core-js/modules/es.symbol.js"),e("./node_modules/core-js/modules/es.symbol.description.js"),e("./node_modules/core-js/modules/es.object.to-string.js"),e("./node_modules/core-js/modules/es.symbol.iterator.js"),e("./node_modules/core-js/modules/es.array.iterator.js"),e("./node_modules/core-js/modules/es.string.iterator.js"),e("./node_modules/core-js/modules/web.dom-collections.iterator.js");function n(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(o){return typeof o}:n=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},n(l)}var s=function(a){var o=n(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},r=function(a,o){var c=document.createElement(a);if(o.className&&(c.className=o.className),o.innerHTML){c.innerHTML=o.innerHTML;for(var m=c.getElementsByTagName("script"),j=m.length;j-- >0;null)m[j].parentNode.removeChild(m[j])}for(var b in o.style)c.style[b]=o.style[b];return c},d=function l(a,o){for(var c=a.nodeType===3?document.createTextNode(a.nodeValue):a.cloneNode(!1),m=a.firstChild;m;m=m.nextSibling)(o===!0||m.nodeType!==1||m.nodeName!=="SCRIPT")&&c.appendChild(l(m,o));return a.nodeType===1&&(a.nodeName==="CANVAS"?(c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0)):(a.nodeName==="TEXTAREA"||a.nodeName==="SELECT")&&(c.value=a.value),c.addEventListener("load",function(){c.scrollTop=a.scrollTop,c.scrollLeft=a.scrollLeft},!0)),c},u=function(a,o){if(s(a)==="number")return a*72/96/o;var c={};for(var m in a)c[m]=a[m]*72/96/o;return c},f=function(a,o){return Math.floor(a*o/72*96)}},"./src/worker.js":function(i,p,e){e.r(p),e("./node_modules/core-js/modules/es.object.assign.js"),e("./node_modules/core-js/modules/es.array.map.js"),e("./node_modules/core-js/modules/es.object.keys.js"),e("./node_modules/core-js/modules/es.array.concat.js"),e("./node_modules/core-js/modules/es.object.to-string.js"),e("./node_modules/core-js/modules/es.regexp.to-string.js"),e("./node_modules/core-js/modules/es.function.name.js"),e("./node_modules/core-js/modules/web.dom-collections.for-each.js");var n=e("jspdf"),s=e("html2canvas"),r=e("./src/utils.js"),d=e("./node_modules/es6-promise/dist/es6-promise.js"),u=e.n(d),f=u().Promise,l=function a(o){var c=Object.assign(a.convert(f.resolve()),JSON.parse(JSON.stringify(a.template))),m=a.convert(f.resolve(),c);return m=m.setProgress(1,a,1,[a]),m=m.set(o),m};l.prototype=Object.create(f.prototype),l.prototype.constructor=l,l.convert=function(o,c){return o.__proto__=c||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},l.prototype.from=function(o,c){function m(j){switch((0,r.objType)(j)){case"string":return"string";case"element":return j.nodeName.toLowerCase&&j.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(c=c||m(o),c){case"string":return this.set({src:(0,r.createElement)("div",{innerHTML:o})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){var o=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(o).then(function(){var m={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},j={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};m.opacity=0;var b=(0,r.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,r.createElement)("div",{className:"html2pdf__overlay",style:m}),this.prop.container=(0,r.createElement)("div",{className:"html2pdf__container",style:j}),this.prop.container.appendChild(b),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(function(){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,s(this.prop.container,m)}).then(function(m){var j=this.opt.html2canvas.onrendered||function(){};j(m),this.prop.canvas=m,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){var o=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(o).then(function(){var m=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=m})},l.prototype.toPdf=function(){var o=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(o).then(function(){var m=this.prop.canvas,j=this.opt,b=m.height,N=Math.floor(m.width*this.prop.pageSize.inner.ratio),T=Math.ceil(b/N),w=this.prop.pageSize.inner.height,C=document.createElement("canvas"),R=C.getContext("2d");C.width=m.width,C.height=N,this.prop.pdf=this.prop.pdf||new n.jsPDF(j.jsPDF);for(var I=0;I<T;I++){I===T-1&&b%N!==0&&(C.height=b%N,w=C.height*this.prop.pageSize.inner.width/C.width);var y=C.width,h=C.height;R.fillStyle="white",R.fillRect(0,0,y,h),R.drawImage(m,0,I*N,y,h,0,0,y,h),I&&this.prop.pdf.addPage();var E=C.toDataURL("image/"+j.image.type,j.image.quality);this.prop.pdf.addImage(E,j.image.type,j.margin[1],j.margin[0],this.prop.pageSize.inner.width,w)}})},l.prototype.output=function(o,c,m){return m=m||"pdf",m.toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},l.prototype.outputPdf=function(o,c){var m=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(m).then(function(){return this.prop.pdf.output(o,c)})},l.prototype.outputImg=function(o,c){var m=[function(){return this.prop.img||this.toImg()}];return this.thenList(m).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){var c=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(c).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.set=function(o){if((0,r.objType)(o)!=="object")return this;var c=Object.keys(o||{}).map(function(m){switch(m){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return m in l.template.prop?function(){this.prop[m]=o[m]}:function(){this.opt[m]=o[m]}}},this);return this.then(function(){return this.thenList(c)})},l.prototype.get=function(o,c){return this.then(function(){var j=o in l.template.prop?this.prop[o]:this.opt[o];return c?c(j):j})},l.prototype.setMargin=function(o){return this.then(function(){switch((0,r.objType)(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){return this.then(function(){o=o||n.jsPDF.getPageSize(this.opt.jsPDF),o.hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:(0,r.toPx)(o.inner.width,o.k),height:(0,r.toPx)(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,c,m,j){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),m!=null&&(this.progress.n=m),j!=null&&(this.progress.stack=j),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,c,m,j){return this.setProgress(o?this.progress.val+o:null,c||null,m?this.progress.n+m:null,j?this.progress.stack.concat(j):null)},l.prototype.then=function(o,c){var m=this;return this.thenCore(o,c,function(b,N){return m.updateProgress(null,null,1,[b]),f.prototype.then.call(this,function(w){return m.updateProgress(null,b),w}).then(b,N).then(function(w){return m.updateProgress(1),w})})},l.prototype.thenCore=function(o,c,m){m=m||f.prototype.then;var j=this;o&&(o=o.bind(j)),c&&(c=c.bind(j));var b=f.toString().indexOf("[native code]")!==-1&&f.name==="Promise",N=b?j:l.convert(Object.assign({},j),f.prototype),T=m.call(N,o,c);return l.convert(T,j.__proto__)},l.prototype.thenExternal=function(o,c){return f.prototype.then.call(this,o,c)},l.prototype.thenList=function(o){var c=this;return o.forEach(function(j){c=c.thenCore(j)}),c},l.prototype.catch=function(a){a&&(a=a.bind(this));var o=f.prototype.catch.call(this,a);return l.convert(o,this)},l.prototype.catchExternal=function(o){return f.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,p.default=l},"./node_modules/core-js/internals/a-function.js":function(i){i.exports=function(p){if(typeof p!="function")throw TypeError(String(p)+" is not a function");return p}},"./node_modules/core-js/internals/a-possible-prototype.js":function(i,p,e){var n=e("./node_modules/core-js/internals/is-object.js");i.exports=function(s){if(!n(s)&&s!==null)throw TypeError("Can't set "+String(s)+" as a prototype");return s}},"./node_modules/core-js/internals/add-to-unscopables.js":function(i,p,e){var n=e("./node_modules/core-js/internals/well-known-symbol.js"),s=e("./node_modules/core-js/internals/object-create.js"),r=e("./node_modules/core-js/internals/object-define-property.js"),d=n("unscopables"),u=Array.prototype;u[d]==null&&r.f(u,d,{configurable:!0,value:s(null)}),i.exports=function(f){u[d][f]=!0}},"./node_modules/core-js/internals/an-object.js":function(i,p,e){var n=e("./node_modules/core-js/internals/is-object.js");i.exports=function(s){if(!n(s))throw TypeError(String(s)+" is not an object");return s}},"./node_modules/core-js/internals/array-for-each.js":function(i,p,e){var n=e("./node_modules/core-js/internals/array-iteration.js").forEach,s=e("./node_modules/core-js/internals/array-method-is-strict.js"),r=s("forEach");i.exports=r?[].forEach:function(u){return n(this,u,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-includes.js":function(i,p,e){var n=e("./node_modules/core-js/internals/to-indexed-object.js"),s=e("./node_modules/core-js/internals/to-length.js"),r=e("./node_modules/core-js/internals/to-absolute-index.js"),d=function(u){return function(f,l,a){var o=n(f),c=s(o.length),m=r(a,c),j;if(u&&l!=l){for(;c>m;)if(j=o[m++],j!=j)return!0}else for(;c>m;m++)if((u||m in o)&&o[m]===l)return u||m||0;return!u&&-1}};i.exports={includes:d(!0),indexOf:d(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(i,p,e){var n=e("./node_modules/core-js/internals/function-bind-context.js"),s=e("./node_modules/core-js/internals/indexed-object.js"),r=e("./node_modules/core-js/internals/to-object.js"),d=e("./node_modules/core-js/internals/to-length.js"),u=e("./node_modules/core-js/internals/array-species-create.js"),f=[].push,l=function(a){var o=a==1,c=a==2,m=a==3,j=a==4,b=a==6,N=a==7,T=a==5||b;return function(w,C,R,I){for(var y=r(w),h=s(y),E=n(C,R,3),L=d(h.length),K=0,P=I||u,g=o?P(w,L):c||N?P(w,0):void 0,G,D;L>K;K++)if((T||K in h)&&(G=h[K],D=E(G,K,y),a))if(o)g[K]=D;else if(D)switch(a){case 3:return!0;case 5:return G;case 6:return K;case 2:f.call(g,G)}else switch(a){case 4:return!1;case 7:f.call(g,G)}return b?-1:m||j?j:g}};i.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(i,p,e){var n=e("./node_modules/core-js/internals/fails.js"),s=e("./node_modules/core-js/internals/well-known-symbol.js"),r=e("./node_modules/core-js/internals/engine-v8-version.js"),d=s("species");i.exports=function(u){return r>=51||!n(function(){var f=[],l=f.constructor={};return l[d]=function(){return{foo:1}},f[u](Boolean).foo!==1})}},"./node_modules/core-js/internals/array-method-is-strict.js":function(i,p,e){var n=e("./node_modules/core-js/internals/fails.js");i.exports=function(s,r){var d=[][s];return!!d&&n(function(){d.call(null,r||function(){throw 1},1)})}},"./node_modules/core-js/internals/array-species-constructor.js":function(i,p,e){var n=e("./node_modules/core-js/internals/is-object.js"),s=e("./node_modules/core-js/internals/is-array.js"),r=e("./node_modules/core-js/internals/well-known-symbol.js"),d=r("species");i.exports=function(u){var f;return s(u)&&(f=u.constructor,typeof f=="function"&&(f===Array||s(f.prototype))?f=void 0:n(f)&&(f=f[d],f===null&&(f=void 0))),f===void 0?Array:f}},"./node_modules/core-js/internals/array-species-create.js":function(i,p,e){var n=e("./node_modules/core-js/internals/array-species-constructor.js");i.exports=function(s,r){return new(n(s))(r===0?0:r)}},"./node_modules/core-js/internals/classof-raw.js":function(i){var p={}.toString;i.exports=function(e){return p.call(e).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(i,p,e){var n=e("./node_modules/core-js/internals/to-string-tag-support.js"),s=e("./node_modules/core-js/internals/classof-raw.js"),r=e("./node_modules/core-js/internals/well-known-symbol.js"),d=r("toStringTag"),u=s(function(){return arguments}())=="Arguments",f=function(l,a){try{return l[a]}catch{}};i.exports=n?s:function(l){var a,o,c;return l===void 0?"Undefined":l===null?"Null":typeof(o=f(a=Object(l),d))=="string"?o:u?s(a):(c=s(a))=="Object"&&typeof a.callee=="function"?"Arguments":c}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(i,p,e){var n=e("./node_modules/core-js/internals/has.js"),s=e("./node_modules/core-js/internals/own-keys.js"),r=e("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),d=e("./node_modules/core-js/internals/object-define-property.js");i.exports=function(u,f){for(var l=s(f),a=d.f,o=r.f,c=0;c<l.length;c++){var m=l[c];n(u,m)||a(u,m,o(f,m))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(i,p,e){var n=e("./node_modules/core-js/internals/fails.js");i.exports=!n(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},"./node_modules/core-js/internals/create-html.js":function(i,p,e){var n=e("./node_modules/core-js/internals/require-object-coercible.js"),s=e("./node_modules/core-js/internals/to-string.js"),r=/"/g;i.exports=function(d,u,f,l){var a=s(n(d)),o="<"+u;return f!==""&&(o+=" "+f+'="'+s(l).replace(r,"&quot;")+'"'),o+">"+a+"</"+u+">"}},"./node_modules/core-js/internals/create-iterator-constructor.js":function(i,p,e){var n=e("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,s=e("./node_modules/core-js/internals/object-create.js"),r=e("./node_modules/core-js/internals/create-property-descriptor.js"),d=e("./node_modules/core-js/internals/set-to-string-tag.js"),u=e("./node_modules/core-js/internals/iterators.js"),f=function(){return this};i.exports=function(l,a,o){var c=a+" Iterator";return l.prototype=s(n,{next:r(1,o)}),d(l,c,!1,!0),u[c]=f,l}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(i,p,e){var n=e("./node_modules/core-js/internals/descriptors.js"),s=e("./node_modules/core-js/internals/object-define-property.js"),r=e("./node_modules/core-js/internals/create-property-descriptor.js");i.exports=n?function(d,u,f){return s.f(d,u,r(1,f))}:function(d,u,f){return d[u]=f,d}},"./node_modules/core-js/internals/create-property-descriptor.js":function(i){i.exports=function(p,e){return{enumerable:!(p&1),configurable:!(p&2),writable:!(p&4),value:e}}},"./node_modules/core-js/internals/create-property.js":function(i,p,e){var n=e("./node_modules/core-js/internals/to-property-key.js"),s=e("./node_modules/core-js/internals/object-define-property.js"),r=e("./node_modules/core-js/internals/create-property-descriptor.js");i.exports=function(d,u,f){var l=n(u);l in d?s.f(d,l,r(0,f)):d[l]=f}},"./node_modules/core-js/internals/define-iterator.js":function(i,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/create-iterator-constructor.js"),r=e("./node_modules/core-js/internals/object-get-prototype-of.js"),d=e("./node_modules/core-js/internals/object-set-prototype-of.js"),u=e("./node_modules/core-js/internals/set-to-string-tag.js"),f=e("./node_modules/core-js/internals/create-non-enumerable-property.js"),l=e("./node_modules/core-js/internals/redefine.js"),a=e("./node_modules/core-js/internals/well-known-symbol.js"),o=e("./node_modules/core-js/internals/is-pure.js"),c=e("./node_modules/core-js/internals/iterators.js"),m=e("./node_modules/core-js/internals/iterators-core.js"),j=m.IteratorPrototype,b=m.BUGGY_SAFARI_ITERATORS,N=a("iterator"),T="keys",w="values",C="entries",R=function(){return this};i.exports=function(I,y,h,E,L,K,P){s(h,y,E);var g=function(te){if(te===L&&A)return A;if(!b&&te in re)return re[te];switch(te){case T:return function(){return new h(this,te)};case w:return function(){return new h(this,te)};case C:return function(){return new h(this,te)}}return function(){return new h(this)}},G=y+" Iterator",D=!1,re=I.prototype,x=re[N]||re["@@iterator"]||L&&re[L],A=!b&&x||g(L),B=y=="Array"&&re.entries||x,M,U,W;if(B&&(M=r(B.call(new I)),j!==Object.prototype&&M.next&&(!o&&r(M)!==j&&(d?d(M,j):typeof M[N]!="function"&&f(M,N,R)),u(M,G,!0,!0),o&&(c[G]=R))),L==w&&x&&x.name!==w&&(D=!0,A=function(){return x.call(this)}),(!o||P)&&re[N]!==A&&f(re,N,A),c[y]=A,L)if(U={values:g(w),keys:K?A:g(T),entries:g(C)},P)for(W in U)(b||D||!(W in re))&&l(re,W,U[W]);else n({target:y,proto:!0,forced:b||D},U);return U}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(i,p,e){var n=e("./node_modules/core-js/internals/path.js"),s=e("./node_modules/core-js/internals/has.js"),r=e("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),d=e("./node_modules/core-js/internals/object-define-property.js").f;i.exports=function(u){var f=n.Symbol||(n.Symbol={});s(f,u)||d(f,u,{value:r.f(u)})}},"./node_modules/core-js/internals/descriptors.js":function(i,p,e){var n=e("./node_modules/core-js/internals/fails.js");i.exports=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"./node_modules/core-js/internals/document-create-element.js":function(i,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/is-object.js"),r=n.document,d=s(r)&&s(r.createElement);i.exports=function(u){return d?r.createElement(u):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(i){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/engine-user-agent.js":function(i,p,e){var n=e("./node_modules/core-js/internals/get-built-in.js");i.exports=n("navigator","userAgent")||""},"./node_modules/core-js/internals/engine-v8-version.js":function(i,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/engine-user-agent.js"),r=n.process,d=n.Deno,u=r&&r.versions||d&&d.version,f=u&&u.v8,l,a;f?(l=f.split("."),a=l[0]<4?1:l[0]+l[1]):s&&(l=s.match(/Edge\/(\d+)/),(!l||l[1]>=74)&&(l=s.match(/Chrome\/(\d+)/),l&&(a=l[1]))),i.exports=a&&+a},"./node_modules/core-js/internals/enum-bug-keys.js":function(i){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(i,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,r=e("./node_modules/core-js/internals/create-non-enumerable-property.js"),d=e("./node_modules/core-js/internals/redefine.js"),u=e("./node_modules/core-js/internals/set-global.js"),f=e("./node_modules/core-js/internals/copy-constructor-properties.js"),l=e("./node_modules/core-js/internals/is-forced.js");i.exports=function(a,o){var c=a.target,m=a.global,j=a.stat,b,N,T,w,C,R;if(m?N=n:j?N=n[c]||u(c,{}):N=(n[c]||{}).prototype,N)for(T in o){if(C=o[T],a.noTargetGet?(R=s(N,T),w=R&&R.value):w=N[T],b=l(m?T:c+(j?".":"#")+T,a.forced),!b&&w!==void 0){if(typeof C==typeof w)continue;f(C,w)}(a.sham||w&&w.sham)&&r(C,"sham",!0),d(N,T,C,a)}}},"./node_modules/core-js/internals/fails.js":function(i){i.exports=function(p){try{return!!p()}catch{return!0}}},"./node_modules/core-js/internals/function-bind-context.js":function(i,p,e){var n=e("./node_modules/core-js/internals/a-function.js");i.exports=function(s,r,d){if(n(s),r===void 0)return s;switch(d){case 0:return function(){return s.call(r)};case 1:return function(u){return s.call(r,u)};case 2:return function(u,f){return s.call(r,u,f)};case 3:return function(u,f,l){return s.call(r,u,f,l)}}return function(){return s.apply(r,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(i,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=function(r){return typeof r=="function"?r:void 0};i.exports=function(r,d){return arguments.length<2?s(n[r]):n[r]&&n[r][d]}},"./node_modules/core-js/internals/global.js":function(i){var p=function(e){return e&&e.Math==Math&&e};i.exports=p(typeof globalThis=="object"&&globalThis)||p(typeof window=="object"&&window)||p(typeof self=="object"&&self)||p(typeof Me=="object"&&Me)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has.js":function(i,p,e){var n=e("./node_modules/core-js/internals/to-object.js"),s={}.hasOwnProperty;i.exports=Object.hasOwn||function(d,u){return s.call(n(d),u)}},"./node_modules/core-js/internals/hidden-keys.js":function(i){i.exports={}},"./node_modules/core-js/internals/html.js":function(i,p,e){var n=e("./node_modules/core-js/internals/get-built-in.js");i.exports=n("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(i,p,e){var n=e("./node_modules/core-js/internals/descriptors.js"),s=e("./node_modules/core-js/internals/fails.js"),r=e("./node_modules/core-js/internals/document-create-element.js");i.exports=!n&&!s(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(i,p,e){var n=e("./node_modules/core-js/internals/fails.js"),s=e("./node_modules/core-js/internals/classof-raw.js"),r="".split;i.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return s(d)=="String"?r.call(d,""):Object(d)}:Object},"./node_modules/core-js/internals/inherit-if-required.js":function(i,p,e){var n=e("./node_modules/core-js/internals/is-object.js"),s=e("./node_modules/core-js/internals/object-set-prototype-of.js");i.exports=function(r,d,u){var f,l;return s&&typeof(f=d.constructor)=="function"&&f!==u&&n(l=f.prototype)&&l!==u.prototype&&s(r,l),r}},"./node_modules/core-js/internals/inspect-source.js":function(i,p,e){var n=e("./node_modules/core-js/internals/shared-store.js"),s=Function.toString;typeof n.inspectSource!="function"&&(n.inspectSource=function(r){return s.call(r)}),i.exports=n.inspectSource},"./node_modules/core-js/internals/internal-state.js":function(i,p,e){var n=e("./node_modules/core-js/internals/native-weak-map.js"),s=e("./node_modules/core-js/internals/global.js"),r=e("./node_modules/core-js/internals/is-object.js"),d=e("./node_modules/core-js/internals/create-non-enumerable-property.js"),u=e("./node_modules/core-js/internals/has.js"),f=e("./node_modules/core-js/internals/shared-store.js"),l=e("./node_modules/core-js/internals/shared-key.js"),a=e("./node_modules/core-js/internals/hidden-keys.js"),o="Object already initialized",c=s.WeakMap,m,j,b,N=function(h){return b(h)?j(h):m(h,{})},T=function(h){return function(E){var L;if(!r(E)||(L=j(E)).type!==h)throw TypeError("Incompatible receiver, "+h+" required");return L}};if(n||f.state){var w=f.state||(f.state=new c),C=w.get,R=w.has,I=w.set;m=function(h,E){if(R.call(w,h))throw new TypeError(o);return E.facade=h,I.call(w,h,E),E},j=function(h){return C.call(w,h)||{}},b=function(h){return R.call(w,h)}}else{var y=l("state");a[y]=!0,m=function(h,E){if(u(h,y))throw new TypeError(o);return E.facade=h,d(h,y,E),E},j=function(h){return u(h,y)?h[y]:{}},b=function(h){return u(h,y)}}i.exports={set:m,get:j,has:b,enforce:N,getterFor:T}},"./node_modules/core-js/internals/is-array.js":function(i,p,e){var n=e("./node_modules/core-js/internals/classof-raw.js");i.exports=Array.isArray||function(r){return n(r)=="Array"}},"./node_modules/core-js/internals/is-forced.js":function(i,p,e){var n=e("./node_modules/core-js/internals/fails.js"),s=/#|\.prototype\./,r=function(a,o){var c=u[d(a)];return c==l?!0:c==f?!1:typeof o=="function"?n(o):!!o},d=r.normalize=function(a){return String(a).replace(s,".").toLowerCase()},u=r.data={},f=r.NATIVE="N",l=r.POLYFILL="P";i.exports=r},"./node_modules/core-js/internals/is-object.js":function(i){i.exports=function(p){return typeof p=="object"?p!==null:typeof p=="function"}},"./node_modules/core-js/internals/is-pure.js":function(i){i.exports=!1},"./node_modules/core-js/internals/is-symbol.js":function(i,p,e){var n=e("./node_modules/core-js/internals/get-built-in.js"),s=e("./node_modules/core-js/internals/use-symbol-as-uid.js");i.exports=s?function(r){return typeof r=="symbol"}:function(r){var d=n("Symbol");return typeof d=="function"&&Object(r)instanceof d}},"./node_modules/core-js/internals/iterators-core.js":function(i,p,e){var n=e("./node_modules/core-js/internals/fails.js"),s=e("./node_modules/core-js/internals/object-get-prototype-of.js"),r=e("./node_modules/core-js/internals/create-non-enumerable-property.js"),d=e("./node_modules/core-js/internals/has.js"),u=e("./node_modules/core-js/internals/well-known-symbol.js"),f=e("./node_modules/core-js/internals/is-pure.js"),l=u("iterator"),a=!1,o=function(){return this},c,m,j;[].keys&&(j=[].keys(),"next"in j?(m=s(s(j)),m!==Object.prototype&&(c=m)):a=!0);var b=c==null||n(function(){var N={};return c[l].call(N)!==N});b&&(c={}),(!f||b)&&!d(c,l)&&r(c,l,o),i.exports={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:a}},"./node_modules/core-js/internals/iterators.js":function(i){i.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(i,p,e){var n=e("./node_modules/core-js/internals/engine-v8-version.js"),s=e("./node_modules/core-js/internals/fails.js");i.exports=!!Object.getOwnPropertySymbols&&!s(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&n&&n<41})},"./node_modules/core-js/internals/native-weak-map.js":function(i,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/inspect-source.js"),r=n.WeakMap;i.exports=typeof r=="function"&&/native code/.test(s(r))},"./node_modules/core-js/internals/object-assign.js":function(i,p,e){var n=e("./node_modules/core-js/internals/descriptors.js"),s=e("./node_modules/core-js/internals/fails.js"),r=e("./node_modules/core-js/internals/object-keys.js"),d=e("./node_modules/core-js/internals/object-get-own-property-symbols.js"),u=e("./node_modules/core-js/internals/object-property-is-enumerable.js"),f=e("./node_modules/core-js/internals/to-object.js"),l=e("./node_modules/core-js/internals/indexed-object.js"),a=Object.assign,o=Object.defineProperty;i.exports=!a||s(function(){if(n&&a({b:1},a(o({},"a",{enumerable:!0,get:function(){o(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var c={},m={},j=Symbol(),b="abcdefghijklmnopqrst";return c[j]=7,b.split("").forEach(function(N){m[N]=N}),a({},c)[j]!=7||r(a({},m)).join("")!=b})?function(m,j){for(var b=f(m),N=arguments.length,T=1,w=d.f,C=u.f;N>T;)for(var R=l(arguments[T++]),I=w?r(R).concat(w(R)):r(R),y=I.length,h=0,E;y>h;)E=I[h++],(!n||C.call(R,E))&&(b[E]=R[E]);return b}:a},"./node_modules/core-js/internals/object-create.js":function(i,p,e){var n=e("./node_modules/core-js/internals/an-object.js"),s=e("./node_modules/core-js/internals/object-define-properties.js"),r=e("./node_modules/core-js/internals/enum-bug-keys.js"),d=e("./node_modules/core-js/internals/hidden-keys.js"),u=e("./node_modules/core-js/internals/html.js"),f=e("./node_modules/core-js/internals/document-create-element.js"),l=e("./node_modules/core-js/internals/shared-key.js"),a=">",o="<",c="prototype",m="script",j=l("IE_PROTO"),b=function(){},N=function(I){return o+m+a+I+o+"/"+m+a},T=function(I){I.write(N("")),I.close();var y=I.parentWindow.Object;return I=null,y},w=function(){var I=f("iframe"),y="java"+m+":",h;if(I.style)return I.style.display="none",u.appendChild(I),I.src=String(y),h=I.contentWindow.document,h.open(),h.write(N("document.F=Object")),h.close(),h.F},C,R=function(){try{C=new ActiveXObject("htmlfile")}catch{}R=document.domain&&C?T(C):w()||T(C);for(var I=r.length;I--;)delete R[c][r[I]];return R()};d[j]=!0,i.exports=Object.create||function(y,h){var E;return y!==null?(b[c]=n(y),E=new b,b[c]=null,E[j]=y):E=R(),h===void 0?E:s(E,h)}},"./node_modules/core-js/internals/object-define-properties.js":function(i,p,e){var n=e("./node_modules/core-js/internals/descriptors.js"),s=e("./node_modules/core-js/internals/object-define-property.js"),r=e("./node_modules/core-js/internals/an-object.js"),d=e("./node_modules/core-js/internals/object-keys.js");i.exports=n?Object.defineProperties:function(f,l){r(f);for(var a=d(l),o=a.length,c=0,m;o>c;)s.f(f,m=a[c++],l[m]);return f}},"./node_modules/core-js/internals/object-define-property.js":function(i,p,e){var n=e("./node_modules/core-js/internals/descriptors.js"),s=e("./node_modules/core-js/internals/ie8-dom-define.js"),r=e("./node_modules/core-js/internals/an-object.js"),d=e("./node_modules/core-js/internals/to-property-key.js"),u=Object.defineProperty;p.f=n?u:function(l,a,o){if(r(l),a=d(a),r(o),s)try{return u(l,a,o)}catch{}if("get"in o||"set"in o)throw TypeError("Accessors not supported");return"value"in o&&(l[a]=o.value),l}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(i,p,e){var n=e("./node_modules/core-js/internals/descriptors.js"),s=e("./node_modules/core-js/internals/object-property-is-enumerable.js"),r=e("./node_modules/core-js/internals/create-property-descriptor.js"),d=e("./node_modules/core-js/internals/to-indexed-object.js"),u=e("./node_modules/core-js/internals/to-property-key.js"),f=e("./node_modules/core-js/internals/has.js"),l=e("./node_modules/core-js/internals/ie8-dom-define.js"),a=Object.getOwnPropertyDescriptor;p.f=n?a:function(c,m){if(c=d(c),m=u(m),l)try{return a(c,m)}catch{}if(f(c,m))return r(!s.f.call(c,m),c[m])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(i,p,e){var n=e("./node_modules/core-js/internals/to-indexed-object.js"),s=e("./node_modules/core-js/internals/object-get-own-property-names.js").f,r={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(f){try{return s(f)}catch{return d.slice()}};i.exports.f=function(l){return d&&r.call(l)=="[object Window]"?u(l):s(n(l))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(i,p,e){var n=e("./node_modules/core-js/internals/object-keys-internal.js"),s=e("./node_modules/core-js/internals/enum-bug-keys.js"),r=s.concat("length","prototype");p.f=Object.getOwnPropertyNames||function(u){return n(u,r)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(i,p){p.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(i,p,e){var n=e("./node_modules/core-js/internals/has.js"),s=e("./node_modules/core-js/internals/to-object.js"),r=e("./node_modules/core-js/internals/shared-key.js"),d=e("./node_modules/core-js/internals/correct-prototype-getter.js"),u=r("IE_PROTO"),f=Object.prototype;i.exports=d?Object.getPrototypeOf:function(l){return l=s(l),n(l,u)?l[u]:typeof l.constructor=="function"&&l instanceof l.constructor?l.constructor.prototype:l instanceof Object?f:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(i,p,e){var n=e("./node_modules/core-js/internals/has.js"),s=e("./node_modules/core-js/internals/to-indexed-object.js"),r=e("./node_modules/core-js/internals/array-includes.js").indexOf,d=e("./node_modules/core-js/internals/hidden-keys.js");i.exports=function(u,f){var l=s(u),a=0,o=[],c;for(c in l)!n(d,c)&&n(l,c)&&o.push(c);for(;f.length>a;)n(l,c=f[a++])&&(~r(o,c)||o.push(c));return o}},"./node_modules/core-js/internals/object-keys.js":function(i,p,e){var n=e("./node_modules/core-js/internals/object-keys-internal.js"),s=e("./node_modules/core-js/internals/enum-bug-keys.js");i.exports=Object.keys||function(d){return n(d,s)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(i,p){var e={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,s=n&&!e.call({1:2},1);p.f=s?function(d){var u=n(this,d);return!!u&&u.enumerable}:e},"./node_modules/core-js/internals/object-set-prototype-of.js":function(i,p,e){var n=e("./node_modules/core-js/internals/an-object.js"),s=e("./node_modules/core-js/internals/a-possible-prototype.js");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,d={},u;try{u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,u.call(d,[]),r=d instanceof Array}catch{}return function(l,a){return n(l),s(a),r?u.call(l,a):l.__proto__=a,l}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(i,p,e){var n=e("./node_modules/core-js/internals/to-string-tag-support.js"),s=e("./node_modules/core-js/internals/classof.js");i.exports=n?{}.toString:function(){return"[object "+s(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(i,p,e){var n=e("./node_modules/core-js/internals/is-object.js");i.exports=function(s,r){var d,u;if(r==="string"&&typeof(d=s.toString)=="function"&&!n(u=d.call(s))||typeof(d=s.valueOf)=="function"&&!n(u=d.call(s))||r!=="string"&&typeof(d=s.toString)=="function"&&!n(u=d.call(s)))return u;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(i,p,e){var n=e("./node_modules/core-js/internals/get-built-in.js"),s=e("./node_modules/core-js/internals/object-get-own-property-names.js"),r=e("./node_modules/core-js/internals/object-get-own-property-symbols.js"),d=e("./node_modules/core-js/internals/an-object.js");i.exports=n("Reflect","ownKeys")||function(f){var l=s.f(d(f)),a=r.f;return a?l.concat(a(f)):l}},"./node_modules/core-js/internals/path.js":function(i,p,e){var n=e("./node_modules/core-js/internals/global.js");i.exports=n},"./node_modules/core-js/internals/redefine.js":function(i,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/create-non-enumerable-property.js"),r=e("./node_modules/core-js/internals/has.js"),d=e("./node_modules/core-js/internals/set-global.js"),u=e("./node_modules/core-js/internals/inspect-source.js"),f=e("./node_modules/core-js/internals/internal-state.js"),l=f.get,a=f.enforce,o=String(String).split("String");(i.exports=function(c,m,j,b){var N=b?!!b.unsafe:!1,T=b?!!b.enumerable:!1,w=b?!!b.noTargetGet:!1,C;if(typeof j=="function"&&(typeof m=="string"&&!r(j,"name")&&s(j,"name",m),C=a(j),C.source||(C.source=o.join(typeof m=="string"?m:""))),c===n){T?c[m]=j:d(m,j);return}else N?!w&&c[m]&&(T=!0):delete c[m];T?c[m]=j:s(c,m,j)})(Function.prototype,"toString",function(){return typeof this=="function"&&l(this).source||u(this)})},"./node_modules/core-js/internals/regexp-flags.js":function(i,p,e){var n=e("./node_modules/core-js/internals/an-object.js");i.exports=function(){var s=n(this),r="";return s.global&&(r+="g"),s.ignoreCase&&(r+="i"),s.multiline&&(r+="m"),s.dotAll&&(r+="s"),s.unicode&&(r+="u"),s.sticky&&(r+="y"),r}},"./node_modules/core-js/internals/require-object-coercible.js":function(i){i.exports=function(p){if(p==null)throw TypeError("Can't call method on "+p);return p}},"./node_modules/core-js/internals/set-global.js":function(i,p,e){var n=e("./node_modules/core-js/internals/global.js");i.exports=function(s,r){try{Object.defineProperty(n,s,{value:r,configurable:!0,writable:!0})}catch{n[s]=r}return r}},"./node_modules/core-js/internals/set-to-string-tag.js":function(i,p,e){var n=e("./node_modules/core-js/internals/object-define-property.js").f,s=e("./node_modules/core-js/internals/has.js"),r=e("./node_modules/core-js/internals/well-known-symbol.js"),d=r("toStringTag");i.exports=function(u,f,l){u&&!s(u=l?u:u.prototype,d)&&n(u,d,{configurable:!0,value:f})}},"./node_modules/core-js/internals/shared-key.js":function(i,p,e){var n=e("./node_modules/core-js/internals/shared.js"),s=e("./node_modules/core-js/internals/uid.js"),r=n("keys");i.exports=function(d){return r[d]||(r[d]=s(d))}},"./node_modules/core-js/internals/shared-store.js":function(i,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/set-global.js"),r="__core-js_shared__",d=n[r]||s(r,{});i.exports=d},"./node_modules/core-js/internals/shared.js":function(i,p,e){var n=e("./node_modules/core-js/internals/is-pure.js"),s=e("./node_modules/core-js/internals/shared-store.js");(i.exports=function(r,d){return s[r]||(s[r]=d!==void 0?d:{})})("versions",[]).push({version:"3.16.0",mode:n?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-html-forced.js":function(i,p,e){var n=e("./node_modules/core-js/internals/fails.js");i.exports=function(s){return n(function(){var r=""[s]('"');return r!==r.toLowerCase()||r.split('"').length>3})}},"./node_modules/core-js/internals/string-multibyte.js":function(i,p,e){var n=e("./node_modules/core-js/internals/to-integer.js"),s=e("./node_modules/core-js/internals/to-string.js"),r=e("./node_modules/core-js/internals/require-object-coercible.js"),d=function(u){return function(f,l){var a=s(r(f)),o=n(l),c=a.length,m,j;return o<0||o>=c?u?"":void 0:(m=a.charCodeAt(o),m<55296||m>56319||o+1===c||(j=a.charCodeAt(o+1))<56320||j>57343?u?a.charAt(o):m:u?a.slice(o,o+2):(m-55296<<10)+(j-56320)+65536)}};i.exports={codeAt:d(!1),charAt:d(!0)}},"./node_modules/core-js/internals/string-trim.js":function(i,p,e){var n=e("./node_modules/core-js/internals/require-object-coercible.js"),s=e("./node_modules/core-js/internals/to-string.js"),r=e("./node_modules/core-js/internals/whitespaces.js"),d="["+r+"]",u=RegExp("^"+d+d+"*"),f=RegExp(d+d+"*$"),l=function(a){return function(o){var c=s(n(o));return a&1&&(c=c.replace(u,"")),a&2&&(c=c.replace(f,"")),c}};i.exports={start:l(1),end:l(2),trim:l(3)}},"./node_modules/core-js/internals/to-absolute-index.js":function(i,p,e){var n=e("./node_modules/core-js/internals/to-integer.js"),s=Math.max,r=Math.min;i.exports=function(d,u){var f=n(d);return f<0?s(f+u,0):r(f,u)}},"./node_modules/core-js/internals/to-indexed-object.js":function(i,p,e){var n=e("./node_modules/core-js/internals/indexed-object.js"),s=e("./node_modules/core-js/internals/require-object-coercible.js");i.exports=function(r){return n(s(r))}},"./node_modules/core-js/internals/to-integer.js":function(i){var p=Math.ceil,e=Math.floor;i.exports=function(n){return isNaN(n=+n)?0:(n>0?e:p)(n)}},"./node_modules/core-js/internals/to-length.js":function(i,p,e){var n=e("./node_modules/core-js/internals/to-integer.js"),s=Math.min;i.exports=function(r){return r>0?s(n(r),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(i,p,e){var n=e("./node_modules/core-js/internals/require-object-coercible.js");i.exports=function(s){return Object(n(s))}},"./node_modules/core-js/internals/to-primitive.js":function(i,p,e){var n=e("./node_modules/core-js/internals/is-object.js"),s=e("./node_modules/core-js/internals/is-symbol.js"),r=e("./node_modules/core-js/internals/ordinary-to-primitive.js"),d=e("./node_modules/core-js/internals/well-known-symbol.js"),u=d("toPrimitive");i.exports=function(f,l){if(!n(f)||s(f))return f;var a=f[u],o;if(a!==void 0){if(l===void 0&&(l="default"),o=a.call(f,l),!n(o)||s(o))return o;throw TypeError("Can't convert object to primitive value")}return l===void 0&&(l="number"),r(f,l)}},"./node_modules/core-js/internals/to-property-key.js":function(i,p,e){var n=e("./node_modules/core-js/internals/to-primitive.js"),s=e("./node_modules/core-js/internals/is-symbol.js");i.exports=function(r){var d=n(r,"string");return s(d)?d:String(d)}},"./node_modules/core-js/internals/to-string-tag-support.js":function(i,p,e){var n=e("./node_modules/core-js/internals/well-known-symbol.js"),s=n("toStringTag"),r={};r[s]="z",i.exports=String(r)==="[object z]"},"./node_modules/core-js/internals/to-string.js":function(i,p,e){var n=e("./node_modules/core-js/internals/is-symbol.js");i.exports=function(s){if(n(s))throw TypeError("Cannot convert a Symbol value to a string");return String(s)}},"./node_modules/core-js/internals/uid.js":function(i){var p=0,e=Math.random();i.exports=function(n){return"Symbol("+String(n===void 0?"":n)+")_"+(++p+e).toString(36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(i,p,e){var n=e("./node_modules/core-js/internals/native-symbol.js");i.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(i,p,e){var n=e("./node_modules/core-js/internals/well-known-symbol.js");p.f=n},"./node_modules/core-js/internals/well-known-symbol.js":function(i,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/shared.js"),r=e("./node_modules/core-js/internals/has.js"),d=e("./node_modules/core-js/internals/uid.js"),u=e("./node_modules/core-js/internals/native-symbol.js"),f=e("./node_modules/core-js/internals/use-symbol-as-uid.js"),l=s("wks"),a=n.Symbol,o=f?a:a&&a.withoutSetter||d;i.exports=function(c){return(!r(l,c)||!(u||typeof l[c]=="string"))&&(u&&r(a,c)?l[c]=a[c]:l[c]=o("Symbol."+c)),l[c]}},"./node_modules/core-js/internals/whitespaces.js":function(i){i.exports=`	
\v\f\r \u2028\u2029\uFEFF`},"./node_modules/core-js/modules/es.array.concat.js":function(i,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/fails.js"),r=e("./node_modules/core-js/internals/is-array.js"),d=e("./node_modules/core-js/internals/is-object.js"),u=e("./node_modules/core-js/internals/to-object.js"),f=e("./node_modules/core-js/internals/to-length.js"),l=e("./node_modules/core-js/internals/create-property.js"),a=e("./node_modules/core-js/internals/array-species-create.js"),o=e("./node_modules/core-js/internals/array-method-has-species-support.js"),c=e("./node_modules/core-js/internals/well-known-symbol.js"),m=e("./node_modules/core-js/internals/engine-v8-version.js"),j=c("isConcatSpreadable"),b=9007199254740991,N="Maximum allowed index exceeded",T=m>=51||!s(function(){var I=[];return I[j]=!1,I.concat()[0]!==I}),w=o("concat"),C=function(I){if(!d(I))return!1;var y=I[j];return y!==void 0?!!y:r(I)},R=!T||!w;n({target:"Array",proto:!0,forced:R},{concat:function(y){var h=u(this),E=a(h,0),L=0,K,P,g,G,D;for(K=-1,g=arguments.length;K<g;K++)if(D=K===-1?h:arguments[K],C(D)){if(G=f(D.length),L+G>b)throw TypeError(N);for(P=0;P<G;P++,L++)P in D&&l(E,L,D[P])}else{if(L>=b)throw TypeError(N);l(E,L++,D)}return E.length=L,E}})},"./node_modules/core-js/modules/es.array.iterator.js":function(i,p,e){var n=e("./node_modules/core-js/internals/to-indexed-object.js"),s=e("./node_modules/core-js/internals/add-to-unscopables.js"),r=e("./node_modules/core-js/internals/iterators.js"),d=e("./node_modules/core-js/internals/internal-state.js"),u=e("./node_modules/core-js/internals/define-iterator.js"),f="Array Iterator",l=d.set,a=d.getterFor(f);i.exports=u(Array,"Array",function(o,c){l(this,{type:f,target:n(o),index:0,kind:c})},function(){var o=a(this),c=o.target,m=o.kind,j=o.index++;return!c||j>=c.length?(o.target=void 0,{value:void 0,done:!0}):m=="keys"?{value:j,done:!1}:m=="values"?{value:c[j],done:!1}:{value:[j,c[j]],done:!1}},"values"),r.Arguments=r.Array,s("keys"),s("values"),s("entries")},"./node_modules/core-js/modules/es.array.join.js":function(i,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/indexed-object.js"),r=e("./node_modules/core-js/internals/to-indexed-object.js"),d=e("./node_modules/core-js/internals/array-method-is-strict.js"),u=[].join,f=s!=Object,l=d("join",",");n({target:"Array",proto:!0,forced:f||!l},{join:function(o){return u.call(r(this),o===void 0?",":o)}})},"./node_modules/core-js/modules/es.array.map.js":function(i,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/array-iteration.js").map,r=e("./node_modules/core-js/internals/array-method-has-species-support.js"),d=r("map");n({target:"Array",proto:!0,forced:!d},{map:function(f){return s(this,f,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":function(i,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/is-object.js"),r=e("./node_modules/core-js/internals/is-array.js"),d=e("./node_modules/core-js/internals/to-absolute-index.js"),u=e("./node_modules/core-js/internals/to-length.js"),f=e("./node_modules/core-js/internals/to-indexed-object.js"),l=e("./node_modules/core-js/internals/create-property.js"),a=e("./node_modules/core-js/internals/well-known-symbol.js"),o=e("./node_modules/core-js/internals/array-method-has-species-support.js"),c=o("slice"),m=a("species"),j=[].slice,b=Math.max;n({target:"Array",proto:!0,forced:!c},{slice:function(T,w){var C=f(this),R=u(C.length),I=d(T,R),y=d(w===void 0?R:w,R),h,E,L;if(r(C)&&(h=C.constructor,typeof h=="function"&&(h===Array||r(h.prototype))?h=void 0:s(h)&&(h=h[m],h===null&&(h=void 0)),h===Array||h===void 0))return j.call(C,I,y);for(E=new(h===void 0?Array:h)(b(y-I,0)),L=0;I<y;I++,L++)I in C&&l(E,L,C[I]);return E.length=L,E}})},"./node_modules/core-js/modules/es.function.name.js":function(i,p,e){var n=e("./node_modules/core-js/internals/descriptors.js"),s=e("./node_modules/core-js/internals/object-define-property.js").f,r=Function.prototype,d=r.toString,u=/^\s*function ([^ (]*)/,f="name";n&&!(f in r)&&s(r,f,{configurable:!0,get:function(){try{return d.call(this).match(u)[1]}catch{return""}}})},"./node_modules/core-js/modules/es.number.constructor.js":function(i,p,e){var n=e("./node_modules/core-js/internals/descriptors.js"),s=e("./node_modules/core-js/internals/global.js"),r=e("./node_modules/core-js/internals/is-forced.js"),d=e("./node_modules/core-js/internals/redefine.js"),u=e("./node_modules/core-js/internals/has.js"),f=e("./node_modules/core-js/internals/classof-raw.js"),l=e("./node_modules/core-js/internals/inherit-if-required.js"),a=e("./node_modules/core-js/internals/is-symbol.js"),o=e("./node_modules/core-js/internals/to-primitive.js"),c=e("./node_modules/core-js/internals/fails.js"),m=e("./node_modules/core-js/internals/object-create.js"),j=e("./node_modules/core-js/internals/object-get-own-property-names.js").f,b=e("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,N=e("./node_modules/core-js/internals/object-define-property.js").f,T=e("./node_modules/core-js/internals/string-trim.js").trim,w="Number",C=s[w],R=C.prototype,I=f(m(R))==w,y=function(P){if(a(P))throw TypeError("Cannot convert a Symbol value to a number");var g=o(P,"number"),G,D,re,x,A,B,M,U;if(typeof g=="string"&&g.length>2){if(g=T(g),G=g.charCodeAt(0),G===43||G===45){if(D=g.charCodeAt(2),D===88||D===120)return NaN}else if(G===48){switch(g.charCodeAt(1)){case 66:case 98:re=2,x=49;break;case 79:case 111:re=8,x=55;break;default:return+g}for(A=g.slice(2),B=A.length,M=0;M<B;M++)if(U=A.charCodeAt(M),U<48||U>x)return NaN;return parseInt(A,re)}}return+g};if(r(w,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var h=function(g){var G=arguments.length<1?0:g,D=this;return D instanceof h&&(I?c(function(){R.valueOf.call(D)}):f(D)!=w)?l(new C(y(G)),D,h):y(G)},E=n?j(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),L=0,K;E.length>L;L++)u(C,K=E[L])&&!u(h,K)&&N(h,K,b(C,K));h.prototype=R,R.constructor=h,d(s,w,h)}},"./node_modules/core-js/modules/es.object.assign.js":function(i,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/object-assign.js");n({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},"./node_modules/core-js/modules/es.object.keys.js":function(i,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/to-object.js"),r=e("./node_modules/core-js/internals/object-keys.js"),d=e("./node_modules/core-js/internals/fails.js"),u=d(function(){r(1)});n({target:"Object",stat:!0,forced:u},{keys:function(l){return r(s(l))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(i,p,e){var n=e("./node_modules/core-js/internals/to-string-tag-support.js"),s=e("./node_modules/core-js/internals/redefine.js"),r=e("./node_modules/core-js/internals/object-to-string.js");n||s(Object.prototype,"toString",r,{unsafe:!0})},"./node_modules/core-js/modules/es.regexp.to-string.js":function(i,p,e){var n=e("./node_modules/core-js/internals/redefine.js"),s=e("./node_modules/core-js/internals/an-object.js"),r=e("./node_modules/core-js/internals/to-string.js"),d=e("./node_modules/core-js/internals/fails.js"),u=e("./node_modules/core-js/internals/regexp-flags.js"),f="toString",l=RegExp.prototype,a=l[f],o=d(function(){return a.call({source:"a",flags:"b"})!="/a/b"}),c=a.name!=f;(o||c)&&n(RegExp.prototype,f,function(){var j=s(this),b=r(j.source),N=j.flags,T=r(N===void 0&&j instanceof RegExp&&!("flags"in l)?u.call(j):N);return"/"+b+"/"+T},{unsafe:!0})},"./node_modules/core-js/modules/es.string.iterator.js":function(i,p,e){var n=e("./node_modules/core-js/internals/string-multibyte.js").charAt,s=e("./node_modules/core-js/internals/to-string.js"),r=e("./node_modules/core-js/internals/internal-state.js"),d=e("./node_modules/core-js/internals/define-iterator.js"),u="String Iterator",f=r.set,l=r.getterFor(u);d(String,"String",function(a){f(this,{type:u,string:s(a),index:0})},function(){var o=l(this),c=o.string,m=o.index,j;return m>=c.length?{value:void 0,done:!0}:(j=n(c,m),o.index+=j.length,{value:j,done:!1})})},"./node_modules/core-js/modules/es.string.link.js":function(i,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/create-html.js"),r=e("./node_modules/core-js/internals/string-html-forced.js");n({target:"String",proto:!0,forced:r("link")},{link:function(u){return s(this,"a","href",u)}})},"./node_modules/core-js/modules/es.symbol.description.js":function(i,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/descriptors.js"),r=e("./node_modules/core-js/internals/global.js"),d=e("./node_modules/core-js/internals/has.js"),u=e("./node_modules/core-js/internals/is-object.js"),f=e("./node_modules/core-js/internals/object-define-property.js").f,l=e("./node_modules/core-js/internals/copy-constructor-properties.js"),a=r.Symbol;if(s&&typeof a=="function"&&(!("description"in a.prototype)||a().description!==void 0)){var o={},c=function(){var w=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),C=this instanceof c?new a(w):w===void 0?a():a(w);return w===""&&(o[C]=!0),C};l(c,a);var m=c.prototype=a.prototype;m.constructor=c;var j=m.toString,b=String(a("test"))=="Symbol(test)",N=/^Symbol\((.*)\)[^)]+$/;f(m,"description",{configurable:!0,get:function(){var w=u(this)?this.valueOf():this,C=j.call(w);if(d(o,w))return"";var R=b?C.slice(7,-1):C.replace(N,"$1");return R===""?void 0:R}}),n({global:!0,forced:!0},{Symbol:c})}},"./node_modules/core-js/modules/es.symbol.iterator.js":function(i,p,e){var n=e("./node_modules/core-js/internals/define-well-known-symbol.js");n("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(i,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/global.js"),r=e("./node_modules/core-js/internals/get-built-in.js"),d=e("./node_modules/core-js/internals/is-pure.js"),u=e("./node_modules/core-js/internals/descriptors.js"),f=e("./node_modules/core-js/internals/native-symbol.js"),l=e("./node_modules/core-js/internals/fails.js"),a=e("./node_modules/core-js/internals/has.js"),o=e("./node_modules/core-js/internals/is-array.js"),c=e("./node_modules/core-js/internals/is-object.js"),m=e("./node_modules/core-js/internals/is-symbol.js"),j=e("./node_modules/core-js/internals/an-object.js"),b=e("./node_modules/core-js/internals/to-object.js"),N=e("./node_modules/core-js/internals/to-indexed-object.js"),T=e("./node_modules/core-js/internals/to-property-key.js"),w=e("./node_modules/core-js/internals/to-string.js"),C=e("./node_modules/core-js/internals/create-property-descriptor.js"),R=e("./node_modules/core-js/internals/object-create.js"),I=e("./node_modules/core-js/internals/object-keys.js"),y=e("./node_modules/core-js/internals/object-get-own-property-names.js"),h=e("./node_modules/core-js/internals/object-get-own-property-names-external.js"),E=e("./node_modules/core-js/internals/object-get-own-property-symbols.js"),L=e("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),K=e("./node_modules/core-js/internals/object-define-property.js"),P=e("./node_modules/core-js/internals/object-property-is-enumerable.js"),g=e("./node_modules/core-js/internals/create-non-enumerable-property.js"),G=e("./node_modules/core-js/internals/redefine.js"),D=e("./node_modules/core-js/internals/shared.js"),re=e("./node_modules/core-js/internals/shared-key.js"),x=e("./node_modules/core-js/internals/hidden-keys.js"),A=e("./node_modules/core-js/internals/uid.js"),B=e("./node_modules/core-js/internals/well-known-symbol.js"),M=e("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),U=e("./node_modules/core-js/internals/define-well-known-symbol.js"),W=e("./node_modules/core-js/internals/set-to-string-tag.js"),te=e("./node_modules/core-js/internals/internal-state.js"),q=e("./node_modules/core-js/internals/array-iteration.js").forEach,V=re("hidden"),le="Symbol",me="prototype",Oe=B("toPrimitive"),Ne=te.set,Ie=te.getterFor(le),ge=Object[me],xe=s.Symbol,ee=r("JSON","stringify"),ce=L.f,de=K.f,pe=h.f,we=P.f,ve=D("symbols"),Se=D("op-symbols"),Pe=D("string-to-symbol-registry"),je=D("symbol-to-string-registry"),fe=D("wks"),v=s.QObject,S=!v||!v[me]||!v[me].findChild,O=u&&l(function(){return R(de({},"a",{get:function(){return de(this,"a",{value:7}).a}})).a!=7})?function(ie,$,Y){var se=ce(ge,$);se&&delete ge[$],de(ie,$,Y),se&&ie!==ge&&de(ge,$,se)}:de,F=function(ie,$){var Y=ve[ie]=R(xe[me]);return Ne(Y,{type:le,tag:ie,description:$}),u||(Y.description=$),Y},z=function($,Y,se){$===ge&&z(Se,Y,se),j($);var ue=T(Y);return j(se),a(ve,ue)?(se.enumerable?(a($,V)&&$[V][ue]&&($[V][ue]=!1),se=R(se,{enumerable:C(0,!1)})):(a($,V)||de($,V,C(1,{})),$[V][ue]=!0),O($,ue,se)):de($,ue,se)},Z=function($,Y){j($);var se=N(Y),ue=I(se).concat(Te(se));return q(ue,function(be){(!u||Ce.call(se,be))&&z($,be,se[be])}),$},he=function($,Y){return Y===void 0?R($):Z(R($),Y)},Ce=function($){var Y=T($),se=we.call(this,Y);return this===ge&&a(ve,Y)&&!a(Se,Y)?!1:se||!a(this,Y)||!a(ve,Y)||a(this,V)&&this[V][Y]?se:!0},Ee=function($,Y){var se=N($),ue=T(Y);if(!(se===ge&&a(ve,ue)&&!a(Se,ue))){var be=ce(se,ue);return be&&a(ve,ue)&&!(a(se,V)&&se[V][ue])&&(be.enumerable=!0),be}},Re=function($){var Y=pe(N($)),se=[];return q(Y,function(ue){!a(ve,ue)&&!a(x,ue)&&se.push(ue)}),se},Te=function($){var Y=$===ge,se=pe(Y?Se:N($)),ue=[];return q(se,function(be){a(ve,be)&&(!Y||a(ge,be))&&ue.push(ve[be])}),ue};if(f||(xe=function(){if(this instanceof xe)throw TypeError("Symbol is not a constructor");var $=!arguments.length||arguments[0]===void 0?void 0:w(arguments[0]),Y=A($),se=function(ue){this===ge&&se.call(Se,ue),a(this,V)&&a(this[V],Y)&&(this[V][Y]=!1),O(this,Y,C(1,ue))};return u&&S&&O(ge,Y,{configurable:!0,set:se}),F(Y,$)},G(xe[me],"toString",function(){return Ie(this).tag}),G(xe,"withoutSetter",function(ie){return F(A(ie),ie)}),P.f=Ce,K.f=z,L.f=Ee,y.f=h.f=Re,E.f=Te,M.f=function(ie){return F(B(ie),ie)},u&&(de(xe[me],"description",{configurable:!0,get:function(){return Ie(this).description}}),d||G(ge,"propertyIsEnumerable",Ce,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:xe}),q(I(fe),function(ie){U(ie)}),n({target:le,stat:!0,forced:!f},{for:function(ie){var $=w(ie);if(a(Pe,$))return Pe[$];var Y=xe($);return Pe[$]=Y,je[Y]=$,Y},keyFor:function($){if(!m($))throw TypeError($+" is not a symbol");if(a(je,$))return je[$]},useSetter:function(){S=!0},useSimple:function(){S=!1}}),n({target:"Object",stat:!0,forced:!f,sham:!u},{create:he,defineProperty:z,defineProperties:Z,getOwnPropertyDescriptor:Ee}),n({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Re,getOwnPropertySymbols:Te}),n({target:"Object",stat:!0,forced:l(function(){E.f(1)})},{getOwnPropertySymbols:function($){return E.f(b($))}}),ee){var He=!f||l(function(){var ie=xe();return ee([ie])!="[null]"||ee({a:ie})!="{}"||ee(Object(ie))!="{}"});n({target:"JSON",stat:!0,forced:He},{stringify:function($,Y,se){for(var ue=[$],be=1,$e;arguments.length>be;)ue.push(arguments[be++]);if($e=Y,!(!c(Y)&&$===void 0||m($)))return o(Y)||(Y=function(Ye,Le){if(typeof $e=="function"&&(Le=$e.call(this,Ye,Le)),!m(Le))return Le}),ue[1]=Y,ee.apply(null,ue)}})}xe[me][Oe]||g(xe[me],Oe,xe[me].valueOf),W(xe,le),x[V]=!0},"./node_modules/core-js/modules/web.dom-collections.for-each.js":function(i,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/dom-iterables.js"),r=e("./node_modules/core-js/internals/array-for-each.js"),d=e("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var u in s){var f=n[u],l=f&&f.prototype;if(l&&l.forEach!==r)try{d(l,"forEach",r)}catch{l.forEach=r}}},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(i,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/dom-iterables.js"),r=e("./node_modules/core-js/modules/es.array.iterator.js"),d=e("./node_modules/core-js/internals/create-non-enumerable-property.js"),u=e("./node_modules/core-js/internals/well-known-symbol.js"),f=u("iterator"),l=u("toStringTag"),a=r.values;for(var o in s){var c=n[o],m=c&&c.prototype;if(m){if(m[f]!==a)try{d(m,f,a)}catch{m[f]=a}if(m[l]||d(m,l,o),s[o]){for(var j in r)if(m[j]!==r[j])try{d(m,j,r[j])}catch{m[j]=r[j]}}}}},"./node_modules/es6-promise/dist/es6-promise.js":function(i){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(p,e){i.exports=e()})(this,function(){function p(v){var S=typeof v;return v!==null&&(S==="object"||S==="function")}function e(v){return typeof v=="function"}var n=void 0;Array.isArray?n=Array.isArray:n=function(v){return Object.prototype.toString.call(v)==="[object Array]"};var s=n,r=0,d=void 0,u=void 0,f=function(S,O){I[r]=S,I[r+1]=O,r+=2,r===2&&(u?u(y):E())};function l(v){u=v}function a(v){f=v}var o=typeof window<"u"?window:void 0,c=o||{},m=c.MutationObserver||c.WebKitMutationObserver,j=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",b=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function N(){return function(){return process.nextTick(y)}}function T(){return typeof d<"u"?function(){d(y)}:R()}function w(){var v=0,S=new m(y),O=document.createTextNode("");return S.observe(O,{characterData:!0}),function(){O.data=v=++v%2}}function C(){var v=new MessageChannel;return v.port1.onmessage=y,function(){return v.port2.postMessage(0)}}function R(){var v=setTimeout;return function(){return v(y,1)}}var I=new Array(1e3);function y(){for(var v=0;v<r;v+=2){var S=I[v],O=I[v+1];S(O),I[v]=void 0,I[v+1]=void 0}r=0}function h(){try{var v=Function("return this")().require("vertx");return d=v.runOnLoop||v.runOnContext,T()}catch{return R()}}var E=void 0;j?E=N():m?E=w():b?E=C():o===void 0?E=h():E=R();function L(v,S){var O=this,F=new this.constructor(g);F[P]===void 0&&ee(F);var z=O._state;if(z){var Z=arguments[z-1];f(function(){return Ne(z,F,Z,O._result)})}else me(O,F,v,S);return F}function K(v){var S=this;if(v&&typeof v=="object"&&v.constructor===S)return v;var O=new S(g);return te(O,v),O}var P=Math.random().toString(36).substring(2);function g(){}var G=void 0,D=1,re=2;function x(){return new TypeError("You cannot resolve a promise with itself")}function A(){return new TypeError("A promises callback cannot return that same promise.")}function B(v,S,O,F){try{v.call(S,O,F)}catch(z){return z}}function M(v,S,O){f(function(F){var z=!1,Z=B(O,S,function(he){z||(z=!0,S!==he?te(F,he):V(F,he))},function(he){z||(z=!0,le(F,he))},"Settle: "+(F._label||" unknown promise"));!z&&Z&&(z=!0,le(F,Z))},v)}function U(v,S){S._state===D?V(v,S._result):S._state===re?le(v,S._result):me(S,void 0,function(O){return te(v,O)},function(O){return le(v,O)})}function W(v,S,O){S.constructor===v.constructor&&O===L&&S.constructor.resolve===K?U(v,S):O===void 0?V(v,S):e(O)?M(v,S,O):V(v,S)}function te(v,S){if(v===S)le(v,x());else if(p(S)){var O=void 0;try{O=S.then}catch(F){le(v,F);return}W(v,S,O)}else V(v,S)}function q(v){v._onerror&&v._onerror(v._result),Oe(v)}function V(v,S){v._state===G&&(v._result=S,v._state=D,v._subscribers.length!==0&&f(Oe,v))}function le(v,S){v._state===G&&(v._state=re,v._result=S,f(q,v))}function me(v,S,O,F){var z=v._subscribers,Z=z.length;v._onerror=null,z[Z]=S,z[Z+D]=O,z[Z+re]=F,Z===0&&v._state&&f(Oe,v)}function Oe(v){var S=v._subscribers,O=v._state;if(S.length!==0){for(var F=void 0,z=void 0,Z=v._result,he=0;he<S.length;he+=3)F=S[he],z=S[he+O],F?Ne(O,F,z,Z):z(Z);v._subscribers.length=0}}function Ne(v,S,O,F){var z=e(O),Z=void 0,he=void 0,Ce=!0;if(z){try{Z=O(F)}catch(Ee){Ce=!1,he=Ee}if(S===Z){le(S,A());return}}else Z=F;S._state!==G||(z&&Ce?te(S,Z):Ce===!1?le(S,he):v===D?V(S,Z):v===re&&le(S,Z))}function Ie(v,S){try{S(function(F){te(v,F)},function(F){le(v,F)})}catch(O){le(v,O)}}var ge=0;function xe(){return ge++}function ee(v){v[P]=ge++,v._state=void 0,v._result=void 0,v._subscribers=[]}function ce(){return new Error("Array Methods must be provided an Array")}var de=function(){function v(S,O){this._instanceConstructor=S,this.promise=new S(g),this.promise[P]||ee(this.promise),s(O)?(this.length=O.length,this._remaining=O.length,this._result=new Array(this.length),this.length===0?V(this.promise,this._result):(this.length=this.length||0,this._enumerate(O),this._remaining===0&&V(this.promise,this._result))):le(this.promise,ce())}return v.prototype._enumerate=function(O){for(var F=0;this._state===G&&F<O.length;F++)this._eachEntry(O[F],F)},v.prototype._eachEntry=function(O,F){var z=this._instanceConstructor,Z=z.resolve;if(Z===K){var he=void 0,Ce=void 0,Ee=!1;try{he=O.then}catch(Te){Ee=!0,Ce=Te}if(he===L&&O._state!==G)this._settledAt(O._state,F,O._result);else if(typeof he!="function")this._remaining--,this._result[F]=O;else if(z===je){var Re=new z(g);Ee?le(Re,Ce):W(Re,O,he),this._willSettleAt(Re,F)}else this._willSettleAt(new z(function(Te){return Te(O)}),F)}else this._willSettleAt(Z(O),F)},v.prototype._settledAt=function(O,F,z){var Z=this.promise;Z._state===G&&(this._remaining--,O===re?le(Z,z):this._result[F]=z),this._remaining===0&&V(Z,this._result)},v.prototype._willSettleAt=function(O,F){var z=this;me(O,void 0,function(Z){return z._settledAt(D,F,Z)},function(Z){return z._settledAt(re,F,Z)})},v}();function pe(v){return new de(this,v).promise}function we(v){var S=this;return s(v)?new S(function(O,F){for(var z=v.length,Z=0;Z<z;Z++)S.resolve(v[Z]).then(O,F)}):new S(function(O,F){return F(new TypeError("You must pass an array to race."))})}function ve(v){var S=this,O=new S(g);return le(O,v),O}function Se(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Pe(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var je=function(){function v(S){this[P]=xe(),this._result=this._state=void 0,this._subscribers=[],g!==S&&(typeof S!="function"&&Se(),this instanceof v?Ie(this,S):Pe())}return v.prototype.catch=function(O){return this.then(null,O)},v.prototype.finally=function(O){var F=this,z=F.constructor;return e(O)?F.then(function(Z){return z.resolve(O()).then(function(){return Z})},function(Z){return z.resolve(O()).then(function(){throw Z})}):F.then(O,O)},v}();je.prototype.then=L,je.all=pe,je.race=we,je.resolve=K,je.reject=ve,je._setScheduler=l,je._setAsap=a,je._asap=f;function fe(){var v=void 0;if(typeof Me<"u")v=Me;else if(typeof self<"u")v=self;else try{v=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var S=v.Promise;if(S){var O=null;try{O=Object.prototype.toString.call(S.resolve())}catch{}if(O==="[object Promise]"&&!S.cast)return}v.Promise=je}return je.polyfill=fe,je.Promise=je,je})},html2canvas:function(i){i.exports=H},jspdf:function(i){i.exports=oe}},Q={};function X(i){var p=Q[i];if(p!==void 0)return p.exports;var e=Q[i]={exports:{}};return k[i].call(e.exports,e,e.exports,X),e.exports}(function(){X.n=function(i){var p=i&&i.__esModule?function(){return i.default}:function(){return i};return X.d(p,{a:p}),p}})(),function(){X.d=function(i,p){for(var e in p)X.o(p,e)&&!X.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:p[e]})}}(),function(){X.o=function(i,p){return Object.prototype.hasOwnProperty.call(i,p)}}(),function(){X.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})}}();var ae={};return function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/X.r(ae);var i=X("./src/worker.js");X("./src/plugin/jspdf-plugin.js"),X("./src/plugin/pagebreaks.js"),X("./src/plugin/hyperlinks.js");var p=function e(n,s){var r=new e.Worker(s);return n?r.from(n).save():r};p.Worker=i.default,ae.default=p}(),ae=ae.default,ae}()})})(We);var ct=We.exports;const dt=Qe(ct),ut=({title:J,activePageIndex:_,setActivePageIndex:oe,pages:H,formatDiscordMessage:k})=>{const Q=(p,e="png")=>`${J?J.replace(/\s+/g,"-"):"Voyage_Log"}_page${p+1}.${e}`;return{generatePDF:async()=>{const p=_;for(let e=0;e<H.length;e++){oe(e),await new Promise(d=>setTimeout(d,100));const n=document.getElementById("visible-page");if(!n)continue;const r={margin:0,filename:Q(e,"pdf"),image:{type:"jpeg",quality:.98},html2canvas:{scale:2,width:816,height:1056},jsPDF:{unit:"px",format:[816,1056],orientation:"portrait"}};await dt().set(r).from(n).save()}oe(p)},generateImages:async()=>{const p=_;for(let e=0;e<H.length;e++){oe(e),await new Promise(r=>setTimeout(r,100));const n=document.getElementById("visible-page");if(!n)continue;(await qe(n,{scale:2,useCORS:!0})).toBlob(r=>{if(r){const d=URL.createObjectURL(r),u=document.createElement("a");u.href=d,u.download=Q(e,"png"),u.click(),URL.revokeObjectURL(d)}},"image/png")}oe(p)},copyToClipboard:()=>{navigator.clipboard.writeText(k()),alert("Copied to clipboard!")}}},Je=ne.createContext(void 0),mt=({children:J})=>{const _=at(),[oe,H]=ne.useState(0),[k]=ne.useState([]),{generatePDF:Q,generateImages:X,copyToClipboard:ae}=ut({title:_.title,activePageIndex:oe,setActivePageIndex:H,pages:k,formatDiscordMessage:_.formatDiscordMessage}),i={..._,generatePDF:Q,generateImages:X,copyToClipboard:ae};return t.jsx(Je.Provider,{value:i,children:J})},Ae=()=>{const J=ne.useContext(Je);if(J===void 0)throw new Error("useLog must be used within a LogProvider");return J},ft=()=>{const{isModalOpen:J,setIsModalOpen:_,titleFont:oe,bodyFont:H,setTitleFont:k,setBodyFont:Q,parchment:X,setParchment:ae,frame:i,setFrame:p,loadTestingData:e}=Ae(),n=()=>_(!1);return J?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50",children:t.jsxs("div",{className:"bg-[#2a2a2a] p-6 rounded-lg shadow-lg w-1/3 text-white",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Settings"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title Font"}),t.jsxs("select",{value:oe,onChange:s=>k(s.target.value),className:"w-full p-2 bg-gray-700 rounded border border-gray-600 text-white",children:[t.jsx("option",{value:"Charm",children:"Charm (Default)"}),t.jsx("option",{value:"Quintessential",children:"Quintessential"}),t.jsx("option",{value:"Felipa",children:"Felipa"}),t.jsx("option",{value:"Parisienne",children:"Parisienne"}),t.jsx("option",{value:"Jim Nightshade",children:"Jim Nightshade"}),t.jsx("option",{value:"Niconne",children:"Niconne"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Log Entry Font"}),t.jsxs("select",{value:H,onChange:s=>Q(s.target.value),className:"w-full p-2 bg-gray-700 rounded border border-gray-600 text-white",children:[t.jsx("option",{value:"Charm",children:"Charm (Default)"}),t.jsx("option",{value:"Quintessential",children:"Quintessential"}),t.jsx("option",{value:"Felipa",children:"Felipa"}),t.jsx("option",{value:"Parisienne",children:"Parisienne"}),t.jsx("option",{value:"Jim Nightshade",children:"Jim Nightshade"}),t.jsx("option",{value:"Niconne",children:"Niconne"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Parchment"}),t.jsxs("select",{value:X,onChange:s=>ae(Number(s.target.value)),className:"w-full p-2 bg-gray-700 rounded border border-gray-600 text-white",children:[t.jsx("option",{value:1,children:"1"}),t.jsx("option",{value:2,children:"2"}),t.jsx("option",{value:3,children:"3"}),t.jsx("option",{value:4,children:"4"}),t.jsx("option",{value:5,children:"5"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Frame"}),t.jsxs("select",{value:i,onChange:s=>p(Number(s.target.value)),className:"w-full p-2 bg-gray-700 rounded border border-gray-600 text-white",children:[t.jsx("option",{value:0,children:"None"}),t.jsx("option",{value:1,children:"1"}),t.jsx("option",{value:2,children:"2"}),t.jsx("option",{value:3,children:"3"}),t.jsx("option",{value:4,children:"4"}),t.jsx("option",{value:5,children:"5"})]})]})]}),t.jsxs("div",{className:"mt-6 flex justify-between",children:[t.jsx("button",{onClick:()=>{e(),n()},className:"bg-yellow-500 hover:bg-yellow-600 text-black font-bold py-2 px-4 rounded",children:"Load Testing Data"}),t.jsx("button",{onClick:n,className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded",children:"Close"})]})]})}):null},pt=()=>{const{isCopyModalOpen:J,setIsCopyModalOpen:_,formatDiscordMessage:oe,copyToClipboard:H}=Ae(),k=()=>_(!1);return J?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50",children:t.jsxs("div",{className:"bg-[#2a2a2a] p-6 rounded-lg shadow-lg w-1/3 text-white",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Discord Message"}),t.jsx("textarea",{className:"w-full p-2 bg-gray-700 rounded border border-gray-600 text-white h-64",defaultValue:oe(),readOnly:!0}),t.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[t.jsx("button",{onClick:H,className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded",children:"Copy"}),t.jsx("button",{onClick:k,className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded",children:"Close"})]})]})}):null};function ye(J){const _=globalThis.__BASE_URL__;return _?`${_.replace(/\/$/,"")}/${J.replace(/^\//,"")}`:`${"/logging-tool/".replace(/\/$/,"")}/${J.replace(/^\//,"")}`}const jt=()=>{const{setIsModalOpen:J}=Ae(),_=()=>J(!0);return t.jsxs("header",{className:"bg-[#2a2a2a] py-1 px-4 pr-8 text-center flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{className:"w-20 h-20",src:ye("USN_Logo.png"),alt:"",onError:oe=>{const H=oe.currentTarget;H.dataset.attempt?H.dataset.attempt==="1"&&(H.dataset.attempt="2",H.src="/USN_Logo.png"):(H.dataset.attempt="1",H.src="USN_Logo.png")}}),t.jsx("h1",{className:"text-3xl font-bold text-amber-500",children:"Voyage Logging Tool"})]}),t.jsx("button",{onClick:_,className:"bg-gray-700 hover:bg-gray-800 text-white font-bold py-2 px-4 rounded",children:"Settings"})]})},vt=()=>{const{selectedShip:J,title:_,signature:oe,subtitle:H,mode:k,events:Q,titleFont:X,bodyFont:ae,parchment:i,frame:p,crew:e,gold:n,doubloons:s,ancientCoins:r,fishCaught:d,dives:u,formatList:f,body:l,voyageNumber:a}=Ae(),o=y=>y===1?"parchment.png":`parchment${y}.png`,c=y=>y===0?null:`frame${y}.png`,m=()=>{const y=o(i);try{return ye(y)}catch{return y}},j=()=>{const y=c(p);if(!y)return null;try{return ye(y)}catch{return y}};let b=[];try{b=JSON.parse(e||"[]")}catch{b=[]}const N=["Recruit","Seaman","Marine","Lance Corporal","Able Seaman","Corporal","Junior Petty Officer","Staff Sergeant","Petty Officer","Gunnery Sergeant","Chief Petty Officer","Master Sergeant","Senior Chief Petty Officer","Second Lieutenant","Midshipman","Marine Captain","Lieutenant","Major","Lieutenant Commander","Lieutenant Colonel","Commander","Colonel","Captain","Brigadier General","Commodore","Major General","Rear Admiral","Vice Admiral","Admiral"];b=b.filter(y=>y.name&&y.rank).sort((y,h)=>{const E=N.indexOf(y.rank);return N.indexOf(h.rank)-E});const T={Gullinbursti:ye("ships/gullinbursti.png"),Jormungandr:ye("ships/jormungandr.png"),Freyr:ye("ships/freyr.png"),Gjallarhorn:ye("ships/gjallarhorn.png"),Odin:ye("ships/odin.png")},C=((y,h=950)=>{const E=[];let L=0;for(;L<y.length;){let K=L+h;if(K<y.length){let P=K;for(let g=K;g>L+h*.7;g--)if(y[g]===`
`&&y[g-1]===`
`){P=g+1;break}if(P===K)for(let g=K;g>L+h*.7;g--){const G=y[g],D=y[g+1];if((G==="."||G==="!"||G==="?")&&(D===" "||D===`
`)){P=g+1;break}}if(P===K)for(let g=K;g>L+h*.8;g--){const G=y[g];if(G===" "||G===`
`){P=g+1;break}}K=P}E.push(y.slice(L,K)),L=K}return E.length>0?E:[""]})(l||"",950),R=y=>{if(!y)return"";const h=Number(y);if(!Number.isFinite(h))return y;const E=h%100;if(E>=11&&E<=13)return`${h}th`;const L=h%10;return L===1?`${h}st`:L===2?`${h}nd`:L===3?`${h}rd`:`${h}th`},I=(y=0)=>{const h=C[y]||"",E=y===0,L=y===C.length-1,K=a&&J?`${R(a)} Voyage Log of the USS ${J}`:_||"Log Title";return t.jsxs("div",{className:"rounded-lg mb-8 preview-page",style:{width:816,height:1190,boxShadow:"0 0 20px rgba(0,0,0,0.3)",position:"relative",backgroundImage:`url(${m()})`,backgroundSize:"cover"},children:[p>0&&j()&&t.jsx("img",{src:j(),alt:"Frame",crossOrigin:"anonymous",className:"absolute pointer-events-none",style:{top:0,left:5,width:"100%",height:"100%",objectFit:"cover",zIndex:1},onError:P=>{const g=P.currentTarget;g.dataset.attempt||(g.dataset.attempt="1",g.src=`frame${p}.png`)}}),t.jsx("img",{src:T[J],onError:P=>{const g=P.currentTarget;g.dataset.attempt?g.dataset.attempt==="1"&&(g.dataset.attempt="2",g.src="ships/gullinbursti.png"):(g.dataset.attempt="1",g.src=ye("ships/gullinbursti.png"))},alt:"Ship Logo",crossOrigin:"anonymous",className:"absolute inset-0 m-auto",style:{width:"50%",height:"auto",opacity:.15,zIndex:0}}),t.jsxs("div",{id:"writing-area",className:`p-12 pb-8 h-full flex flex-col relative z-10 ${E?"":"pt-16"}`,children:[E&&t.jsx("h2",{className:"text-6xl text-center ml-16 mr-16 mt-12 mb-8 whitespace-pre-wrap",style:{fontFamily:`'${X}', cursive`,fontWeight:700,color:"#262626"},children:K}),t.jsx("div",{className:"text-base whitespace-pre-wrap leading-relaxed p-2",style:{fontFamily:`'${ae}', cursive`,fontSize:"30px",color:"#262626"},children:h||"Your log entry will appear here..."}),L&&k==="patrol"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-6 ml-2 mt-8 flex-shrink-0",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-3xl mb-2",style:{fontFamily:`'${X}', cursive`,fontWeight:700,color:"#262626"},children:"Notable Events"}),t.jsx("ul",{className:"list-none text-xl",style:{fontFamily:`'${ae}', cursive`,columns:1,columnGap:"1rem",breakInside:"avoid-column",color:"#262626"},children:f(Q).map((P,g)=>t.jsx("li",{style:{breakInside:"avoid-column"},children:P},g))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-3xl mb-2",style:{fontFamily:`'${X}', cursive`,fontWeight:700,color:"#262626"},children:"Crew Manifest"}),t.jsxs("ul",{className:"list-none text-xl space-y-1",style:{fontFamily:`'${ae}', cursive`,color:"#262626"},children:[b.length===0&&t.jsx("li",{children:"No crew assigned"}),b.map(P=>{const g=P.isRep?" [REP]":"";return t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxs("span",{className:"font-semibold",children:[P.rank," ",P.name,g," -"]}),t.jsx("span",{className:"ml-1",children:P.role})]},P.name)})]})]})]}),t.jsxs("div",{className:"flex justify-between items-end mt-8 flex-shrink-0",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:ye("gold.webp"),alt:"Gold",crossOrigin:"anonymous",className:"w-8 h-8",onError:P=>{const g=P.currentTarget;g.dataset.attempt||(g.dataset.attempt="1",g.src="gold.webp")}}),t.jsx("span",{className:"text-3xl",style:{fontFamily:`'${ae}', cursive`,color:"#262626"},children:n||"0"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:ye("doubloon.webp"),alt:"Doubloons",crossOrigin:"anonymous",className:"w-8 h-8",onError:P=>{const g=P.currentTarget;g.dataset.attempt||(g.dataset.attempt="1",g.src="doubloon.webp")}}),t.jsx("span",{className:"text-3xl",style:{fontFamily:`'${ae}', cursive`,color:"#262626"},children:s||"0"})]}),r&&parseInt(r)>0&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:ye("ANCI.webp"),alt:"Ancient Coins",crossOrigin:"anonymous",className:"w-8 h-8",onError:P=>{const g=P.currentTarget;g.dataset.attempt||(g.dataset.attempt="1",g.src="ANCI.webp")}}),t.jsx("span",{className:"text-3xl",style:{fontFamily:`'${ae}', cursive`,color:"#262626"},children:r})]}),d&&parseInt(d)>0&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:ye("FISH.webp"),alt:"Fish",crossOrigin:"anonymous",className:"w-8 h-8",onError:P=>{const g=P.currentTarget;g.dataset.attempt||(g.dataset.attempt="1",g.src="FISH.webp")}}),t.jsx("span",{className:"text-3xl",style:{fontFamily:`'${ae}', cursive`,color:"#262626"},children:d})]})]}),t.jsx("div",{className:"flex-1 text-right",children:oe&&(()=>{try{const g=JSON.parse(e||"[]").find(G=>G.id===oe);if(g)return t.jsxs("div",{children:[t.jsxs("span",{className:"text-5xl",style:{fontFamily:`'${X}', cursive`,fontWeight:700,color:"#262626"},children:[g.rank," ",g.name]}),H&&t.jsx("div",{className:"mt-2",children:t.jsx("span",{className:"text-3xl",style:{fontFamily:`'${ae}', cursive`,color:"#262626"},children:H})})]})}catch{}return null})()})]})]}),L&&k==="skirmish"&&t.jsxs("div",{className:"p-2",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-3xl mb-2",style:{fontFamily:`'${X}', cursive`,fontWeight:700,color:"#262626"},children:"Skirmish Dives"}),t.jsxs("div",{className:"text-xl leading-relaxed p-2",style:{fontFamily:`'${ae}', cursive`,color:"#262626"},children:[u.length===0&&t.jsx("div",{children:"No dives recorded for this skirmish."}),t.jsx("div",{className:"grid grid-cols-1",children:u.map((P,g)=>t.jsxs("div",{className:"mb-3",children:[t.jsxs("strong",{className:"flex items-center gap-2",children:[t.jsxs("span",{children:[g+1,"."]}),t.jsx("img",{className:"w-8 h-8",src:ye(`${P.ourTeam.toLowerCase()}.webp`),alt:"",onError:G=>{const D=G.currentTarget;D.dataset.attempt||(D.dataset.attempt="1",D.src=`${P.ourTeam.toLowerCase()}.webp`)}}),t.jsx("span",{children:P.ourTeam}),t.jsx("span",{children:"vs"}),t.jsx("span",{children:P.enemyTeam}),t.jsx("img",{className:"w-8 h-8",src:ye(`${P.enemyTeam.toLowerCase()}.webp`),alt:"",onError:G=>{const D=G.currentTarget;D.dataset.attempt||(D.dataset.attempt="1",D.src=`${P.enemyTeam.toLowerCase()}.webp`)}}),t.jsxs("span",{children:["(",P.outcome,")"]})]}),P.notes&&t.jsx("div",{className:"ml-4 italic",children:P.notes})]},g))})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-3xl mb-2",style:{fontFamily:`'${X}', cursive`,fontWeight:700,color:"#262626"},children:"Crew Manifest"}),t.jsxs("ul",{className:"list-none text-xl space-y-1",style:{fontFamily:`'${ae}', cursive`,color:"#262626"},children:[b.length===0&&t.jsx("li",{children:"No crew assigned"}),b.map(P=>t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxs("span",{className:"font-semibold",children:[P.rank," ",P.name,P.isRep?" [REP]":""," -"]}),t.jsx("span",{className:"ml-1",children:P.role})]},P.name))]})]})]}),t.jsx("div",{className:"flex justify-end items-center mt-8",children:t.jsx("div",{className:"flex-1 text-right",children:oe&&(()=>{try{const g=JSON.parse(e||"[]").find(G=>G.id===oe);if(g)return t.jsxs("div",{children:[t.jsxs("span",{className:"text-5xl",style:{fontFamily:`'${X}', cursive`,fontWeight:700,color:"#262626"},children:[g.rank," ",g.name]}),H&&t.jsx("div",{className:"mt-2",children:t.jsx("span",{className:"text-3xl",style:{fontFamily:`'${ae}', cursive`,color:"#262626"},children:H})})]})}catch{}return null})()})})]})]})]})};return t.jsx("div",{className:"w-1/2","data-testid":"log-preview",children:C.map((y,h)=>t.jsx("div",{children:I(h)},h))})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ht={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=J=>J.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ge=(J,_)=>{const oe=ne.forwardRef(({color:H="currentColor",size:k=24,strokeWidth:Q=2,absoluteStrokeWidth:X,className:ae="",children:i,...p},e)=>ne.createElement("svg",{ref:e,...ht,width:k,height:k,stroke:H,strokeWidth:X?Number(Q)*24/Number(k):Q,className:["lucide",`lucide-${gt(J)}`,ae].join(" "),...p},[..._.map(([n,s])=>ne.createElement(n,s)),...Array.isArray(i)?i:[i]]));return oe.displayName=`${J}`,oe};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=Ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=Ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),St=()=>{const{mode:J,setMode:_,selectedShip:oe,setSelectedShip:H,events:k,setEvents:Q,crew:X,setCrew:ae,gold:i,setGold:p,doubloons:e,setDoubloons:n,startgold:s,setStartgold:r,endgold:d,setEndgold:u,ancientCoins:f,setAncientCoins:l,fishCaught:a,setFishCaught:o,dives:c,updateDive:m,removeDive:j,addNewDive:b,resetState:N,setIsCopyModalOpen:T,signature:w,setSignature:C,ourTeam:R,setOurTeam:I,body:y,setBody:h,voyageNumber:E,setVoyageNumber:L,subtitle:K,setSubtitle:P,title:g,setTitle:G}=Ae(),[D,re]=Fe.useState([{id:String(Date.now()),name:"",discord:"",rank:"",role:"",isRep:!1},{id:String(Date.now()+1),name:"",discord:"",rank:"",role:"",isRep:!1}]);return Fe.useEffect(()=>{k||Q("1x ")},[]),Fe.useEffect(()=>{try{const x=JSON.parse(X||"[]");Array.isArray(x)&&x.length>0&&re(x)}catch{}},[]),Fe.useEffect(()=>{try{ae(JSON.stringify(D))}catch(x){console.error("Failed to serialize crew:",x)}},[D,ae]),t.jsx("div",{className:"w-1/2 overflow-y-auto overflow-x-hidden mb-96",children:t.jsx("div",{className:"w-full bg-[#2a2a2a] p-6 rounded-lg",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{children:t.jsxs("div",{className:"flex items-end gap-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{htmlFor:"ship-select",className:"block text-sm font-medium mb-2",children:"Select Ship"}),t.jsxs("select",{id:"ship-select",value:oe,onChange:x=>H(x.target.value),className:"w-full p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white",children:[t.jsx("option",{value:"Gullinbursti",children:"Gullinbursti"}),t.jsx("option",{value:"Jormungandr",children:"Jormungandr"}),t.jsx("option",{value:"Freyr",children:"Freyr"}),t.jsx("option",{value:"Gjallarhorn",children:"Gjallarhorn"}),t.jsx("option",{value:"Odin",children:"Odin"})]})]}),t.jsxs("div",{className:"w-28",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Voyage #"}),t.jsx("input",{type:"number",value:E,onChange:x=>L(x.target.value),className:"w-full p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"#"})]})]})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Crew & Roles"}),t.jsxs("div",{className:"space-y-2",children:[D.map((x,A)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("select",{value:x.rank,onChange:B=>re(M=>M.map((U,W)=>W===A?{...U,rank:B.target.value}:U)),className:`w-36 p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-sm ${x.rank===""?"text-gray-400":"text-white"}`,children:[t.jsx("option",{value:"",disabled:!0,children:"Rank"}),t.jsx("option",{value:"Recruit",children:"Recruit"}),t.jsx("option",{value:"Apprentice",children:"Apprentice"}),t.jsx("option",{value:"Seaman",children:"Seaman"}),t.jsx("option",{value:"Seawoman",children:"Seawoman"}),t.jsx("option",{value:"Marine",children:"Marine"}),t.jsx("option",{value:"Lance Corporal",children:"Lance Corporal"}),t.jsx("option",{value:"Able Seaman",children:"Able Seaman"}),t.jsx("option",{value:"Able Seawoman",children:"Able Seawoman"}),t.jsx("option",{value:"Corporal",children:"Corporal"}),t.jsx("option",{value:"Junior Petty Officer",children:"Junior Petty Officer"}),t.jsx("option",{value:"Staff Sergeant",children:"Staff Sergeant"}),t.jsx("option",{value:"Petty Officer",children:"Petty Officer"}),t.jsx("option",{value:"Gunnery Sergeant",children:"Gunnery Sergeant"}),t.jsx("option",{value:"Chief Petty Officer",children:"Chief Petty Officer"}),t.jsx("option",{value:"Master Sergeant",children:"Master Sergeant"}),t.jsx("option",{value:"Senior Chief Petty Officer",children:"Senior Chief Petty Officer"}),t.jsx("option",{value:"Second Lieutenant",children:"Second Lieutenant"}),t.jsx("option",{value:"Midshipman",children:"Midshipman"}),t.jsx("option",{value:"Midshipwoman",children:"Midshipwoman"}),t.jsx("option",{value:"Marine Captain",children:"Marine Captain"}),t.jsx("option",{value:"Lieutenant",children:"Lieutenant"}),t.jsx("option",{value:"Major",children:"Major"}),t.jsx("option",{value:"Lieutenant Commander",children:"Lieutenant Commander"}),t.jsx("option",{value:"Lieutenant Colonel",children:"Lieutenant Colonel"}),t.jsx("option",{value:"Commander",children:"Commander"}),t.jsx("option",{value:"Colonel",children:"Colonel"}),t.jsx("option",{value:"Captain",children:"Captain"}),t.jsx("option",{value:"Brigadier General",children:"Brigadier General"}),t.jsx("option",{value:"Commodore",children:"Commodore"}),t.jsx("option",{value:"Major General",children:"Major General"}),t.jsx("option",{value:"Rear Admiral",children:"Rear Admiral"}),t.jsx("option",{value:"Vice Admiral",children:"Vice Admiral"}),t.jsx("option",{value:"Admiral",children:"Admiral"})]}),t.jsx("input",{type:"text",value:x.name,onChange:B=>re(M=>M.map((U,W)=>W===A?{...U,name:B.target.value}:U)),className:"w-40 p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white text-sm",placeholder:"Name"}),t.jsx("input",{type:"text",value:x.discord,onChange:B=>re(M=>M.map((U,W)=>W===A?{...U,discord:B.target.value}:U)),className:"w-40 p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white text-sm",placeholder:"Discord ID"}),t.jsxs("select",{value:x.role,onChange:B=>re(M=>M.map((U,W)=>W===A?{...U,role:B.target.value}:U)),className:`w-24 p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-sm ${x.role===""?"text-gray-400":"text-white"}`,children:[t.jsx("option",{value:"",disabled:!0,children:"Role"}),t.jsx("option",{value:"Helm",children:"Helm"}),t.jsx("option",{value:"Gunner",children:"Gunner"}),t.jsx("option",{value:"Carpenter",children:"Carpenter"}),t.jsx("option",{value:"Flex",children:"Flex"})]}),t.jsxs("label",{className:"flex items-center gap-1 text-white text-xs whitespace-nowrap flex-shrink-0",children:[t.jsx("input",{type:"checkbox",checked:x.isRep||!1,onChange:B=>re(M=>M.map((U,W)=>W===A?{...U,isRep:B.target.checked}:U)),className:"w-4 h-4"}),"REP"]}),t.jsx("button",{onClick:()=>re(B=>B.filter((M,U)=>U!==A)),className:"text-red-400 text-sm px-1 flex-shrink-0","aria-label":`Remove crew member ${A+1}`,children:"X"})]},x.id||A)),t.jsx("div",{children:t.jsx("button",{onClick:()=>re(x=>[...x,{id:String(Date.now()),name:"",discord:"",rank:"",role:"",isRep:!1}]),className:"mt-2 bg-green-700 hover:bg-green-600 text-white px-2 py-1 rounded text-sm",children:"Add Crew Member"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mode"}),t.jsxs("select",{value:J,onChange:x=>_(x.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",children:[t.jsx("option",{value:"patrol",children:"Patrol"}),t.jsx("option",{value:"skirmish",children:"Skirmish"})]})]}),J==="patrol"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Events"}),t.jsxs("div",{className:"space-y-2",children:[k.split(`
`).filter(x=>x.trim()).map((x,A)=>{const B=x.match(/^(\d+)x\s*(.*)$/),M=B?B[1]:"1",U=B?B[2]:x;return t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"number",value:M,onChange:W=>{const te=k.split(`
`).filter(me=>me.trim()),q=W.target.value||"1",V=te[A].match(/^(\d+)x\s*(.*)$/),le=V?V[2]:te[A];te[A]=`${q}x ${le}`,Q(te.join(`
`))},min:"1",className:"w-16 p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white text-center"}),t.jsx("span",{className:"self-center text-white",children:"x"}),t.jsx("input",{type:"text",value:U,onChange:W=>{const te=k.split(`
`).filter(le=>le.trim()),q=te[A].match(/^(\d+)x\s*(.*)$/),V=q?q[1]:"1";te[A]=`${V}x ${W.target.value}`,Q(te.join(`
`))},className:"flex-1 p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white placeholder-gray-400",placeholder:"Event..."}),t.jsx("button",{onClick:()=>{const W=k.split(`
`).filter(te=>te.trim()).filter((te,q)=>q!==A);Q(W.join(`
`))},className:"text-red-400 text-sm px-2","aria-label":`Remove event ${A+1}`,children:"X"})]},A)}),t.jsx("button",{onClick:()=>{const x="1x ";Q(k?k+`
`+x:x)},className:"mt-2 bg-green-700 hover:bg-green-600 text-white px-2 py-1 rounded text-sm",children:"Add Event"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Gold"}),t.jsx("input",{type:"text",value:s,onChange:x=>r(x.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Amount..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"End Gold"}),t.jsx("input",{type:"text",value:d,onChange:x=>u(x.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Amount..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Gold Earned"}),t.jsx("input",{type:"text",value:i,onChange:x=>p(x.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Amount..."})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Doubloons"}),t.jsx("input",{type:"text",value:e,onChange:x=>n(x.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Amount..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Ancient Coins"}),t.jsx("input",{type:"text",value:f,onChange:x=>l(x.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Amount..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Fish Caught"}),t.jsx("input",{type:"text",value:a,onChange:x=>o(x.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Amount..."})]})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Your Team"}),t.jsxs("select",{value:R,onChange:x=>{const A=x.target.value;I(A),c.forEach((B,M)=>{m(M,{ourTeam:A})})},className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",children:[t.jsx("option",{value:"Athena",children:"Athena"}),t.jsx("option",{value:"Reaper",children:"Reaper"})]})]}),J==="skirmish"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Skirmish Dives"}),t.jsxs("div",{className:"space-y-3",children:[c.map((x,A)=>t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx("img",{src:ye(`${x.ourTeam.toLowerCase()}.webp`),alt:x.ourTeam,className:"w-6 h-6",onError:B=>{const M=B.currentTarget;M.dataset.attempt?M.dataset.attempt==="1"&&(M.dataset.attempt="2",M.src=`/${x.ourTeam.toLowerCase()}.webp`):(M.dataset.attempt="1",M.src=`${x.ourTeam.toLowerCase()}.webp`)}}),t.jsxs("select",{value:x.ourTeam,onChange:B=>m(A,{ourTeam:B.target.value}),className:"flex-1 p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white",children:[t.jsx("option",{value:"Athena",children:"Athena"}),t.jsx("option",{value:"Reaper",children:"Reaper"})]}),t.jsx("span",{className:"text-white",children:"vs"}),t.jsx("img",{src:ye(`${x.enemyTeam.toLowerCase()}.webp`),alt:x.enemyTeam,className:"w-6 h-6",onError:B=>{const M=B.currentTarget;M.dataset.attempt?M.dataset.attempt==="1"&&(M.dataset.attempt="2",M.src=`/${x.enemyTeam.toLowerCase()}.webp`):(M.dataset.attempt="1",M.src=`${x.enemyTeam.toLowerCase()}.webp`)}}),t.jsxs("select",{value:x.enemyTeam,onChange:B=>m(A,{enemyTeam:B.target.value}),className:"flex-1 p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white",children:[t.jsx("option",{value:"Athena",children:"Athena"}),t.jsx("option",{value:"Reaper",children:"Reaper"})]}),t.jsxs("select",{value:x.outcome,onChange:B=>m(A,{outcome:B.target.value}),className:"flex-1 p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white",children:[t.jsx("option",{value:"win",children:"Win"}),t.jsx("option",{value:"loss",children:"Loss"})]}),t.jsx("button",{onClick:()=>j(A),className:"text-red-400 text-sm px-2","aria-label":`Remove dive ${A+1}`,children:"X"})]}),t.jsx("input",{type:"text",value:x.notes,onChange:B=>m(A,{notes:B.target.value}),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Notes (optional)"})]},A)),t.jsx("button",{onClick:b,className:"mt-2 bg-green-700 hover:bg-green-600 text-white px-2 py-1 rounded text-sm",children:"Add Dive"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),t.jsx("input",{type:"text",value:g,onChange:x=>G(x.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Enter log title..."}),t.jsx("label",{className:"block text-sm font-medium mb-2 mt-4",children:"Log Entry"}),t.jsx("textarea",{value:y,onChange:x=>h(x.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white h-32",placeholder:"Write your log entry..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Host"}),t.jsxs("select",{value:w,onChange:x=>C(x.target.value),className:"w-full p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white",children:[t.jsx("option",{value:"",disabled:!0,style:{color:"#888"},children:"Select Host"}),D.map(x=>t.jsxs("option",{value:x.id,children:[x.name||"Unnamed"," - ",x.rank||"No Rank"]},x.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tagline"}),t.jsx("input",{type:"text",value:K,onChange:x=>P(x.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Enter tagline..."})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxs("button",{onClick:()=>{N(),re([{id:String(Date.now()),name:"",discord:"",rank:"",role:"",isRep:!1},{id:String(Date.now()+1),name:"",discord:"",rank:"",role:"",isRep:!1}])},className:"w-full hover:opacity-90 text-white font-bold py-2 px-4 rounded flex items-center justify-center gap-2",style:{backgroundColor:"#c0392b"},children:[t.jsx(bt,{size:20}),"Reset"]}),t.jsxs("button",{onClick:()=>T(!0),className:"w-full hover:opacity-90 text-white font-bold py-2 px-4 rounded flex items-center justify-center gap-2",style:{backgroundColor:"#5865F2"},children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M19.27 5.33C17.94 4.71 16.5 4.26 15 4a.09.09 0 0 0-.07.03c-.18.33-.39.76-.53 1.09a16.09 16.09 0 0 0-4.8 0c-.14-.34-.35-.76-.54-1.09c-.01-.02-.04-.03-.07-.03c-1.5.26-2.93.71-4.27 1.33c-.01 0-.02.01-.03.02c-2.72 4.07-3.47 8.03-3.1 11.95c0 .02.01.04.03.05c1.8 1.32 3.53 2.12 5.24 2.65c.03.01.06 0 .07-.02c.4-.55.76-1.13 1.07-1.74c.02-.04 0-.08-.04-.09c-.57-.22-1.11-.48-1.64-.78c-.04-.02-.04-.08-.01-.11c.11-.08.22-.17.33-.25c.02-.02.05-.02.07-.01c3.44 1.57 7.15 1.57 10.55 0c.02-.01.05-.01.07.01c.11.09.22.17.33.26c.04.03.04.09-.01.11c-.52.31-1.07.56-1.64.78c-.04.01-.05.06-.04.09c.32.61.68 1.19 1.07 1.74c.03.01.06.02.09.01c1.72-.53 3.45-1.33 5.25-2.65c.02-.01.03-.03.03-.05c.44-4.53-.73-8.46-3.1-11.95c-.01-.01-.02-.02-.04-.02zM8.52 14.91c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.84 2.12-1.89 2.12zm6.97 0c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.83 2.12-1.89 2.12z"})}),"Copy Discord"]}),t.jsxs("button",{onClick:async()=>{const x=(await ke(async()=>{const{default:U}=await import("./pdf-BvPGsvip.js").then(W=>W.h);return{default:U}},[])).default,A=document.querySelectorAll(".preview-page");if(A.length===0){alert("No preview found");return}const M=E?(U=>{if(U===""||U==null)return"";const W=Number(U);if(!Number.isFinite(W))return U;const te=W%100;if(te>=11&&te<=13)return`${W}th`;const q=W%10;return q===1?`${W}st`:q===2?`${W}nd`:q===3?`${W}rd`:`${W}th`})(E):"nth";for(let U=0;U<A.length;U++){const te=(await x(A[U],{scale:2,useCORS:!0,allowTaint:!0})).toDataURL("image/png"),q=document.createElement("a");q.download=A.length>1?`USS ${oe} - ${M} Voyage Log - Page ${U+1}.png`:`USS ${oe} - ${M} Voyage Log.png`,q.href=te,q.click()}},className:"w-full hover:opacity-90 text-white font-bold py-2 px-4 rounded flex items-center justify-center gap-2",style:{backgroundColor:"#27ae60"},children:[t.jsx(xt,{size:20}),"Generate Image"]}),t.jsxs("button",{onClick:async()=>{const x=(await ke(async()=>{const{default:q}=await import("./pdf-BvPGsvip.js").then(V=>V.h);return{default:q}},[])).default,{jsPDF:A}=await ke(async()=>{const{jsPDF:q}=await import("./pdf-BvPGsvip.js").then(V=>V.j);return{jsPDF:q}},[]),B=document.querySelectorAll(".preview-page");if(B.length===0){alert("No preview found");return}const M=new A({orientation:"portrait",unit:"mm",format:"a4"});for(let q=0;q<B.length;q++){const V=await x(B[q],{scale:2,useCORS:!0,allowTaint:!0}),le=V.toDataURL("image/png"),me=M.internal.pageSize.getWidth(),Oe=me,Ne=V.height*me/V.width;q>0&&M.addPage(),M.addImage(le,"PNG",0,0,Oe,Ne)}const W=E?(q=>{if(q===""||q==null)return"";const V=Number(q);if(!Number.isFinite(V))return q;const le=V%100;if(le>=11&&le<=13)return`${V}th`;const me=V%10;return me===1?`${V}st`:me===2?`${V}nd`:me===3?`${V}rd`:`${V}th`})(E):"nth",te=`USS ${oe} - ${W} Voyage Log.pdf`;M.save(te)},className:"w-full hover:opacity-90 text-white font-bold py-2 px-4 rounded flex items-center justify-center gap-2",style:{backgroundColor:"#2c5aa0"},children:[t.jsx(yt,{size:20}),"Generate PDF"]})]})]})})})};function wt(){return t.jsx(mt,{children:t.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-white",children:[t.jsx("div",{role:"banner",children:t.jsx(jt,{})}),t.jsx(ft,{"data-testid":"settings-modal"}),t.jsx(pt,{"data-testid":"copy-modal"}),t.jsxs("main",{className:"container mx-auto p-4 flex gap-4",children:[t.jsx(St,{"data-testid":"editor"}),t.jsx(vt,{"data-testid":"log-preview"})]})]})})}ze(document.getElementById("root")).render(t.jsx(ne.StrictMode,{children:t.jsx(wt,{})}));
