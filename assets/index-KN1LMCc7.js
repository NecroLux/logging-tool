import{r as Q,a as Xe,g as Ke,c as Re,b as Qe,R as De}from"./vendor-CyBwq7db.js";import{j as Ze,h as _e,a as qe,_ as ke}from"./pdf-SPbSAGJ1.js";(function(){const J=document.createElement("link").relList;if(J&&J.supports&&J.supports("modulepreload"))return;for(const L of document.querySelectorAll('link[rel="modulepreload"]'))Z(L);new MutationObserver(L=>{for(const U of L)if(U.type==="childList")for(const Y of U.addedNodes)Y.tagName==="LINK"&&Y.rel==="modulepreload"&&Z(Y)}).observe(document,{childList:!0,subtree:!0});function oe(L){const U={};return L.integrity&&(U.integrity=L.integrity),L.referrerPolicy&&(U.referrerPolicy=L.referrerPolicy),L.crossOrigin==="use-credentials"?U.credentials="include":L.crossOrigin==="anonymous"?U.credentials="omit":U.credentials="same-origin",U}function Z(L){if(L.ep)return;L.ep=!0;const U=oe(L);fetch(L.href,U)}})();var Ue={exports:{}},Me={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var et=Q,tt=Symbol.for("react.element"),rt=Symbol.for("react.fragment"),nt=Object.prototype.hasOwnProperty,ot=et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,st={key:!0,ref:!0,__self:!0,__source:!0};function Ve(K,J,oe){var Z,L={},U=null,Y=null;oe!==void 0&&(U=""+oe),J.key!==void 0&&(U=""+J.key),J.ref!==void 0&&(Y=J.ref);for(Z in J)nt.call(J,Z)&&!st.hasOwnProperty(Z)&&(L[Z]=J[Z]);if(K&&K.defaultProps)for(Z in J=K.defaultProps,J)L[Z]===void 0&&(L[Z]=J[Z]);return{$$typeof:tt,type:K,key:U,ref:Y,props:L,_owner:ot.current}}Me.Fragment=rt;Me.jsx=Ve;Me.jsxs=Ve;Ue.exports=Me;var i=Ue.exports,ze,$e=Xe;ze=$e.createRoot,$e.hydrateRoot;function at(){const[K,J]=Q.useState("patrol"),[oe,Z]=Q.useState(""),[L,U]=Q.useState(""),[Y,ce]=Q.useState(""),[a,p]=Q.useState(""),[e,n]=Q.useState("Berserker"),[s,t]=Q.useState(""),[u,f]=Q.useState(""),[d,l]=Q.useState(""),[o,r]=Q.useState(""),[c,m]=Q.useState(""),[j,x]=Q.useState(""),[O,I]=Q.useState("Athena"),[g,b]=Q.useState([]),[E,P]=Q.useState(!1),[A,h]=Q.useState(!1),[C,D]=Q.useState("Satisfy"),[G,z]=Q.useState("Indie_Flower"),[y,T]=Q.useState(""),[N,F]=Q.useState(""),[B,H]=Q.useState("");Q.useEffect(()=>{const ee=localStorage.getItem("mode");ee&&J(ee);const ne=localStorage.getItem("voyageNumber");ne&&T(ne);const _=localStorage.getItem("ancientCoins");_&&F(_);const te=localStorage.getItem("fishCaught");te&&H(te)},[]),Q.useEffect(()=>{u===""&&f(JSON.stringify([{id:String(Date.now()),name:"",discord:"",rank:"",role:""}]))},[]);const le=(ee,ne)=>{let _;return(...te)=>{_&&clearTimeout(_),_=setTimeout(()=>ee(...te),ne)}};Q.useEffect(()=>{le(()=>{localStorage.setItem("mode",K),localStorage.setItem("body",L),localStorage.setItem("signature",Y),localStorage.setItem("subtitle",a),localStorage.setItem("events",s),localStorage.setItem("crew",u),localStorage.setItem("gold",d),localStorage.setItem("doubloons",o),localStorage.setItem("ourTeam",O),localStorage.setItem("dives",JSON.stringify(g)),localStorage.setItem("selectedShip",e),localStorage.setItem("titleFont",C),localStorage.setItem("bodyFont",G),localStorage.setItem("voyageNumber",y),localStorage.setItem("ancientCoins",N),localStorage.setItem("fishCaught",B)},500)()},[K,L,Y,a,s,u,d,o,O,g,e,C,G,y,N,B]);const W=()=>{const ee={ourTeam:O,enemyTeam:O==="Athena"?"Reaper":"Athena",outcome:"win",notes:""};b([...g,ee])},X=(ee,ne)=>{b(g.map((_,te)=>te===ee?{..._,...ne}:_))},fe=ee=>{b(g.filter((ne,_)=>_!==ee))},se=()=>{Z("Log Title"),U(""),ce(""),p(""),t(""),f(""),l(""),r(""),I("Athena"),b([]),T(""),F(""),H(""),m(""),x(""),n("Berserker")},ye=ee=>ee?ee.split(`
`).filter(ne=>ne.trim()!==""):[],ae=ee=>{const ne=Number(ee);if(!Number.isFinite(ne)||ne===0)return"nth";const _=ne%100;if(_>=11&&_<=13)return`${ne}th`;const te=ne%10;return te===1?`${ne}st`:te===2?`${ne}nd`:te===3?`${ne}rd`:`${ne}th`},de=()=>{let ee=[];try{ee=JSON.parse(u||"[]")}catch{ee=[]}const ne=["Recruit","Seaman","Marine","Lance Corporal","Able Seaman","Corporal","Junior Petty Officer","Staff Sergeant","Petty Officer","Gunnery Sergeant","Chief Petty Officer","Master Sergeant","Senior Chief Petty Officer","Second Lieutenant","Midshipman","Marine Captain","Lieutenant","Major","Lieutenant Commander","Lieutenant Colonel","Commander","Colonel","Captain","Brigadier General","Commodore","Major General","Rear Admiral","Vice Admiral","Admiral"];ee.sort((ue,xe)=>{const je=ne.indexOf(ue.rank);return ne.indexOf(xe.rank)-je});const _={Helm:":Wheel:",Cannons:":Cannon:",Carpenter:":Planks:",Flex:":SwordFight:"},te=ee.filter(ue=>ue.discord&&ue.role).map(ue=>{const xe=_[ue.role]||"",je=ue.isRep?" [REP]":"";return`<@${ue.discord}> - ${ue.role} ${xe}${je}`.trim()}).join(`
`),be=(s||"").split(`
`).filter(Boolean).join(`
`),Se=e==="Berserker"?"":", auxiliary to the USS Berserker",he=y?ae(y):"nth";if(K==="patrol"){const ue=[];return ue.push(`:Gold: Gold: ${d||"0"}`),ue.push(`:Doubloons: Doubloons: ${o||"0"}`),N&&parseInt(N)>0&&ue.push(`:AncientCoin: Ancient Coins: ${N}`),B&&parseInt(B)>0&&ue.push(`:fish: Fish: ${B}`),`<@${Y}>'s log of the ${he} voyage (Patrol) aboard the USS ${e}${Se}.

**Entry Log**
${L||""}

**Loot Confiscated:**
${ue.join(`
`)}

**Events:**
${be||"None"}

**Crew:**
${te||"No crew assigned"}

:Berserker: For The Honor And The Glory :Berserker:`}else{const ue=g.length?g.map((xe,je)=>`${je+1}. ${xe.ourTeam} vs ${xe.enemyTeam} (${xe.outcome})${xe.notes?` - ${xe.notes}`:""}`).join(`
`):"No dives recorded";return`<@${Y}>'s log of the ${he} voyage (Skirmish) aboard the USS ${e}${Se}.

**Entry Log**
${L||""}

**Team:** ${O}

**Crew:**
${te||"No crew assigned"}

**Dives:**
${ue}

:Berserker: For The Honor And The Glory :Berserker:`}},ve=Q.useRef(null);return Q.useEffect(()=>{const ee=Se=>{if(!Se)return 0;const he=parseFloat(Se.replace(/[^0-9.-]/g,""));return Number.isFinite(he)?he:0},ne=ee(c),te=ee(j)-ne,be=te?String(te):"";(d===""||ve.current===d)&&(l(be),ve.current=be)},[c,j]),{mode:K,setMode:J,selectedShip:e,setSelectedShip:n,events:s,setEvents:t,crew:u,setCrew:f,gold:d,setGold:l,doubloons:o,setDoubloons:r,startgold:c,setStartgold:m,endgold:j,setEndgold:x,signature:Y,setSignature:ce,subtitle:a,setSubtitle:p,title:oe,setTitle:Z,ourTeam:O,setOurTeam:I,body:L,setBody:U,titleFont:C,setTitleFont:D,bodyFont:G,setBodyFont:z,formatList:ye,voyageNumber:y,setVoyageNumber:T,formatDiscordMessage:de,isModalOpen:E,setIsModalOpen:P,isCopyModalOpen:A,setIsCopyModalOpen:h,ancientCoins:N,setAncientCoins:F,fishCaught:B,setFishCaught:H,dives:g,updateDive:X,removeDive:fe,addNewDive:W,resetState:se,loadTestingData:()=>{const ee=[{id:"1",name:"John Blackhook",discord:"123456789",rank:"Admiral",role:"Helm",isRep:!1},{id:"2",name:"Ruper Ironside",discord:"234567890",rank:"Captain",role:"Cannons",isRep:!1},{id:"3",name:"Dirk Wavecrest",discord:"345678901",rank:"Lieutenant",role:"Carpenter",isRep:!1},{id:"4",name:"Jorg Stormbreaker",discord:"456789012",rank:"Seaman",role:"Flex",isRep:!1},{id:"5",name:"Erik Saltbeard",discord:"567890123",rank:"Marine",role:"Helm",isRep:!0}];K==="patrol"?(T("5"),U("Set sail at dawn under favorable winds. Encountered three merchant vessels and one skeleton galleon. All encounters resolved favorably. Crew performed excellently throughout the expedition. Returned to port with full holds and morale high."),ce("123456789"),t(`Merchant Vessel Encountered
Skeleton Galleon Vanquished
Kraken Tentacle Spotted
Legendary Treasure Map Found`),l("5,250"),r("180"),m("1,000"),x("6,250"),F("25"),H("12")):(T("3"),U("Competed in intense skirmish battles against rival crews. Team displayed exceptional coordination and tactical prowess. Multiple close matches showcased the skill of our sailors."),ce("123456789"),I("Athena"),b([{ourTeam:"Athena",enemyTeam:"Reaper",outcome:"win",notes:"Superior cannon work and smart positioning"},{ourTeam:"Athena",enemyTeam:"Reaper",outcome:"loss",notes:"Caught off guard by their anchor strategy"},{ourTeam:"Athena",enemyTeam:"Reaper",outcome:"win",notes:"Excellent teamwork, clean victory"}])),f(JSON.stringify(ee)),setTimeout(()=>{f("[]"),setTimeout(()=>{f(JSON.stringify(ee))},10)},10)}}}var He={exports:{}};const it=Ke(Ze),lt=Ke(_e);/*!
 * html2pdf.js v0.10.2
 * Copyright (c) 2024 Erik Koopmans
 * Released under the MIT License.
 */(function(K,J){(function(Z,L){K.exports=L(it,lt)})(self,function(oe,Z){return function(){var L={"./src/plugin/hyperlinks.js":function(a,p,e){e.r(p),e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),e("./node_modules/core-js/modules/es.string.link.js");var n=e("./src/worker.js"),s=e("./src/utils.js"),t=[],u={toContainer:n.default.prototype.toContainer,toPdf:n.default.prototype.toPdf};n.default.prototype.toContainer=function(){return u.toContainer.call(this).then(function(){if(this.opt.enableLinks){var l=this.prop.container,o=l.querySelectorAll("a"),r=(0,s.unitConvert)(l.getBoundingClientRect(),this.prop.pageSize.k);t=[],Array.prototype.forEach.call(o,function(c){for(var m=c.getClientRects(),j=0;j<m.length;j++){var x=(0,s.unitConvert)(m[j],this.prop.pageSize.k);x.left-=r.left,x.top-=r.top;var O=Math.floor(x.top/this.prop.pageSize.inner.height)+1,I=this.opt.margin[0]+x.top%this.prop.pageSize.inner.height,g=this.opt.margin[1]+x.left;t.push({page:O,top:I,left:g,clientRect:x,link:c})}},this)}})},n.default.prototype.toPdf=function(){return u.toPdf.call(this).then(function(){if(this.opt.enableLinks){t.forEach(function(o){this.prop.pdf.setPage(o.page),this.prop.pdf.link(o.left,o.top,o.clientRect.width,o.clientRect.height,{url:o.link.href})},this);var l=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(l)}})}},"./src/plugin/jspdf-plugin.js":function(a,p,e){e.r(p),e("./node_modules/core-js/modules/es.symbol.js"),e("./node_modules/core-js/modules/es.symbol.description.js"),e("./node_modules/core-js/modules/es.object.to-string.js"),e("./node_modules/core-js/modules/es.symbol.iterator.js"),e("./node_modules/core-js/modules/es.array.iterator.js"),e("./node_modules/core-js/modules/es.string.iterator.js"),e("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=e("jspdf");function s(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(f){return typeof f}:s=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},s(t)}n.jsPDF.getPageSize=function(t,u,f){if(s(t)==="object"){var d=t;t=d.orientation,u=d.unit||u,f=d.format||f}u=u||"mm",f=f||"a4",t=(""+(t||"P")).toLowerCase();var l=(""+f).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":var r=1;break;case"mm":var r=72/25.4;break;case"cm":var r=72/2.54;break;case"in":var r=72;break;case"px":var r=72/96;break;case"pc":var r=12;break;case"em":var r=12;break;case"ex":var r=6;break;default:throw"Invalid unit: "+u}if(o.hasOwnProperty(l))var c=o[l][1]/r,m=o[l][0]/r;else try{var c=f[1],m=f[0]}catch{throw new Error("Invalid format: "+f)}if(t==="p"||t==="portrait"){if(t="p",m>c){var j=m;m=c,c=j}}else if(t==="l"||t==="landscape"){if(t="l",c>m){var j=m;m=c,c=j}}else throw"Invalid orientation: "+t;var x={width:m,height:c,unit:u,k:r};return x},p.default=n.jsPDF},"./src/plugin/pagebreaks.js":function(a,p,e){e.r(p),e("./node_modules/core-js/modules/es.array.concat.js"),e("./node_modules/core-js/modules/es.array.slice.js"),e("./node_modules/core-js/modules/es.array.join.js"),e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),e("./node_modules/core-js/modules/es.object.keys.js");var n=e("./src/worker.js"),s=e("./src/utils.js"),t={toContainer:n.default.prototype.toContainer};n.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},n.default.prototype.toContainer=function(){return t.toContainer.call(this).then(function(){var d=this.prop.container,l=this.prop.pageSize.inner.px.height,o=[].concat(this.opt.pagebreak.mode),r={avoidAll:o.indexOf("avoid-all")!==-1,css:o.indexOf("css")!==-1,legacy:o.indexOf("legacy")!==-1},c={},m=this;["before","after","avoid"].forEach(function(O){var I=r.avoidAll&&O==="avoid";c[O]=I?[]:[].concat(m.opt.pagebreak[O]||[]),c[O].length>0&&(c[O]=Array.prototype.slice.call(d.querySelectorAll(c[O].join(", "))))});var j=d.querySelectorAll(".html2pdf__page-break");j=Array.prototype.slice.call(j);var x=d.querySelectorAll("*");Array.prototype.forEach.call(x,function(I){var g={before:!1,after:r.legacy&&j.indexOf(I)!==-1,avoid:r.avoidAll};if(r.css){var b=window.getComputedStyle(I),E=["always","page","left","right"],P=["avoid","avoid-page"];g={before:g.before||E.indexOf(b.breakBefore||b.pageBreakBefore)!==-1,after:g.after||E.indexOf(b.breakAfter||b.pageBreakAfter)!==-1,avoid:g.avoid||P.indexOf(b.breakInside||b.pageBreakInside)!==-1}}Object.keys(g).forEach(function(z){g[z]=g[z]||c[z].indexOf(I)!==-1});var A=I.getBoundingClientRect();if(g.avoid&&!g.before){var h=Math.floor(A.top/l),C=Math.floor(A.bottom/l),D=Math.abs(A.bottom-A.top)/l;C!==h&&D<=1&&(g.before=!0)}if(g.before){var G=(0,s.createElement)("div",{style:{display:"block",height:l-A.top%l+"px"}});I.parentNode.insertBefore(G,I)}if(g.after){var G=(0,s.createElement)("div",{style:{display:"block",height:l-A.bottom%l+"px"}});I.parentNode.insertBefore(G,I.nextSibling)}})})}},"./src/utils.js":function(a,p,e){e.r(p),e.d(p,{objType:function(){return s},createElement:function(){return t},cloneNode:function(){return u},unitConvert:function(){return f},toPx:function(){return d}}),e("./node_modules/core-js/modules/es.number.constructor.js"),e("./node_modules/core-js/modules/es.symbol.js"),e("./node_modules/core-js/modules/es.symbol.description.js"),e("./node_modules/core-js/modules/es.object.to-string.js"),e("./node_modules/core-js/modules/es.symbol.iterator.js"),e("./node_modules/core-js/modules/es.array.iterator.js"),e("./node_modules/core-js/modules/es.string.iterator.js"),e("./node_modules/core-js/modules/web.dom-collections.iterator.js");function n(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(r){return typeof r}:n=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n(l)}var s=function(o){var r=n(o);return r==="undefined"?"undefined":r==="string"||o instanceof String?"string":r==="number"||o instanceof Number?"number":r==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":r==="object"?"object":"unknown"},t=function(o,r){var c=document.createElement(o);if(r.className&&(c.className=r.className),r.innerHTML){c.innerHTML=r.innerHTML;for(var m=c.getElementsByTagName("script"),j=m.length;j-- >0;null)m[j].parentNode.removeChild(m[j])}for(var x in r.style)c.style[x]=r.style[x];return c},u=function l(o,r){for(var c=o.nodeType===3?document.createTextNode(o.nodeValue):o.cloneNode(!1),m=o.firstChild;m;m=m.nextSibling)(r===!0||m.nodeType!==1||m.nodeName!=="SCRIPT")&&c.appendChild(l(m,r));return o.nodeType===1&&(o.nodeName==="CANVAS"?(c.width=o.width,c.height=o.height,c.getContext("2d").drawImage(o,0,0)):(o.nodeName==="TEXTAREA"||o.nodeName==="SELECT")&&(c.value=o.value),c.addEventListener("load",function(){c.scrollTop=o.scrollTop,c.scrollLeft=o.scrollLeft},!0)),c},f=function(o,r){if(s(o)==="number")return o*72/96/r;var c={};for(var m in o)c[m]=o[m]*72/96/r;return c},d=function(o,r){return Math.floor(o*r/72*96)}},"./src/worker.js":function(a,p,e){e.r(p),e("./node_modules/core-js/modules/es.object.assign.js"),e("./node_modules/core-js/modules/es.array.map.js"),e("./node_modules/core-js/modules/es.object.keys.js"),e("./node_modules/core-js/modules/es.array.concat.js"),e("./node_modules/core-js/modules/es.object.to-string.js"),e("./node_modules/core-js/modules/es.regexp.to-string.js"),e("./node_modules/core-js/modules/es.function.name.js"),e("./node_modules/core-js/modules/web.dom-collections.for-each.js");var n=e("jspdf"),s=e("html2canvas"),t=e("./src/utils.js"),u=e("./node_modules/es6-promise/dist/es6-promise.js"),f=e.n(u),d=f().Promise,l=function o(r){var c=Object.assign(o.convert(d.resolve()),JSON.parse(JSON.stringify(o.template))),m=o.convert(d.resolve(),c);return m=m.setProgress(1,o,1,[o]),m=m.set(r),m};l.prototype=Object.create(d.prototype),l.prototype.constructor=l,l.convert=function(r,c){return r.__proto__=c||l.prototype,r},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},l.prototype.from=function(r,c){function m(j){switch((0,t.objType)(j)){case"string":return"string";case"element":return j.nodeName.toLowerCase&&j.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(c=c||m(r),c){case"string":return this.set({src:(0,t.createElement)("div",{innerHTML:r})});case"element":return this.set({src:r});case"canvas":return this.set({canvas:r});case"img":return this.set({img:r});default:return this.error("Unknown source type.")}})},l.prototype.to=function(r){switch(r){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){var r=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(r).then(function(){var m={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},j={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};m.opacity=0;var x=(0,t.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,t.createElement)("div",{className:"html2pdf__overlay",style:m}),this.prop.container=(0,t.createElement)("div",{className:"html2pdf__container",style:j}),this.prop.container.appendChild(x),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},l.prototype.toCanvas=function(){var r=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(r).then(function(){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,s(this.prop.container,m)}).then(function(m){var j=this.opt.html2canvas.onrendered||function(){};j(m),this.prop.canvas=m,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){var r=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(r).then(function(){var m=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=m})},l.prototype.toPdf=function(){var r=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(r).then(function(){var m=this.prop.canvas,j=this.opt,x=m.height,O=Math.floor(m.width*this.prop.pageSize.inner.ratio),I=Math.ceil(x/O),g=this.prop.pageSize.inner.height,b=document.createElement("canvas"),E=b.getContext("2d");b.width=m.width,b.height=O,this.prop.pdf=this.prop.pdf||new n.jsPDF(j.jsPDF);for(var P=0;P<I;P++){P===I-1&&x%O!==0&&(b.height=x%O,g=b.height*this.prop.pageSize.inner.width/b.width);var A=b.width,h=b.height;E.fillStyle="white",E.fillRect(0,0,A,h),E.drawImage(m,0,P*O,A,h,0,0,A,h),P&&this.prop.pdf.addPage();var C=b.toDataURL("image/"+j.image.type,j.image.quality);this.prop.pdf.addImage(C,j.image.type,j.margin[1],j.margin[0],this.prop.pageSize.inner.width,g)}})},l.prototype.output=function(r,c,m){return m=m||"pdf",m.toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(r,c):this.outputPdf(r,c)},l.prototype.outputPdf=function(r,c){var m=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(m).then(function(){return this.prop.pdf.output(r,c)})},l.prototype.outputImg=function(r,c){var m=[function(){return this.prop.img||this.toImg()}];return this.thenList(m).then(function(){switch(r){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+r+'" is not supported.'}})},l.prototype.save=function(r){var c=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(c).set(r?{filename:r}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.set=function(r){if((0,t.objType)(r)!=="object")return this;var c=Object.keys(r||{}).map(function(m){switch(m){case"margin":return this.setMargin.bind(this,r.margin);case"jsPDF":return function(){return this.opt.jsPDF=r.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,r.pageSize);default:return m in l.template.prop?function(){this.prop[m]=r[m]}:function(){this.opt[m]=r[m]}}},this);return this.then(function(){return this.thenList(c)})},l.prototype.get=function(r,c){return this.then(function(){var j=r in l.template.prop?this.prop[r]:this.opt[r];return c?c(j):j})},l.prototype.setMargin=function(r){return this.then(function(){switch((0,t.objType)(r)){case"number":r=[r,r,r,r];case"array":if(r.length===2&&(r=[r[0],r[1],r[0],r[1]]),r.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=r}).then(this.setPageSize)},l.prototype.setPageSize=function(r){return this.then(function(){r=r||n.jsPDF.getPageSize(this.opt.jsPDF),r.hasOwnProperty("inner")||(r.inner={width:r.width-this.opt.margin[1]-this.opt.margin[3],height:r.height-this.opt.margin[0]-this.opt.margin[2]},r.inner.px={width:(0,t.toPx)(r.inner.width,r.k),height:(0,t.toPx)(r.inner.height,r.k)},r.inner.ratio=r.inner.height/r.inner.width),this.prop.pageSize=r})},l.prototype.setProgress=function(r,c,m,j){return r!=null&&(this.progress.val=r),c!=null&&(this.progress.state=c),m!=null&&(this.progress.n=m),j!=null&&(this.progress.stack=j),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(r,c,m,j){return this.setProgress(r?this.progress.val+r:null,c||null,m?this.progress.n+m:null,j?this.progress.stack.concat(j):null)},l.prototype.then=function(r,c){var m=this;return this.thenCore(r,c,function(x,O){return m.updateProgress(null,null,1,[x]),d.prototype.then.call(this,function(g){return m.updateProgress(null,x),g}).then(x,O).then(function(g){return m.updateProgress(1),g})})},l.prototype.thenCore=function(r,c,m){m=m||d.prototype.then;var j=this;r&&(r=r.bind(j)),c&&(c=c.bind(j));var x=d.toString().indexOf("[native code]")!==-1&&d.name==="Promise",O=x?j:l.convert(Object.assign({},j),d.prototype),I=m.call(O,r,c);return l.convert(I,j.__proto__)},l.prototype.thenExternal=function(r,c){return d.prototype.then.call(this,r,c)},l.prototype.thenList=function(r){var c=this;return r.forEach(function(j){c=c.thenCore(j)}),c},l.prototype.catch=function(o){o&&(o=o.bind(this));var r=d.prototype.catch.call(this,o);return l.convert(r,this)},l.prototype.catchExternal=function(r){return d.prototype.catch.call(this,r)},l.prototype.error=function(r){return this.then(function(){throw new Error(r)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,p.default=l},"./node_modules/core-js/internals/a-function.js":function(a){a.exports=function(p){if(typeof p!="function")throw TypeError(String(p)+" is not a function");return p}},"./node_modules/core-js/internals/a-possible-prototype.js":function(a,p,e){var n=e("./node_modules/core-js/internals/is-object.js");a.exports=function(s){if(!n(s)&&s!==null)throw TypeError("Can't set "+String(s)+" as a prototype");return s}},"./node_modules/core-js/internals/add-to-unscopables.js":function(a,p,e){var n=e("./node_modules/core-js/internals/well-known-symbol.js"),s=e("./node_modules/core-js/internals/object-create.js"),t=e("./node_modules/core-js/internals/object-define-property.js"),u=n("unscopables"),f=Array.prototype;f[u]==null&&t.f(f,u,{configurable:!0,value:s(null)}),a.exports=function(d){f[u][d]=!0}},"./node_modules/core-js/internals/an-object.js":function(a,p,e){var n=e("./node_modules/core-js/internals/is-object.js");a.exports=function(s){if(!n(s))throw TypeError(String(s)+" is not an object");return s}},"./node_modules/core-js/internals/array-for-each.js":function(a,p,e){var n=e("./node_modules/core-js/internals/array-iteration.js").forEach,s=e("./node_modules/core-js/internals/array-method-is-strict.js"),t=s("forEach");a.exports=t?[].forEach:function(f){return n(this,f,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-includes.js":function(a,p,e){var n=e("./node_modules/core-js/internals/to-indexed-object.js"),s=e("./node_modules/core-js/internals/to-length.js"),t=e("./node_modules/core-js/internals/to-absolute-index.js"),u=function(f){return function(d,l,o){var r=n(d),c=s(r.length),m=t(o,c),j;if(f&&l!=l){for(;c>m;)if(j=r[m++],j!=j)return!0}else for(;c>m;m++)if((f||m in r)&&r[m]===l)return f||m||0;return!f&&-1}};a.exports={includes:u(!0),indexOf:u(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(a,p,e){var n=e("./node_modules/core-js/internals/function-bind-context.js"),s=e("./node_modules/core-js/internals/indexed-object.js"),t=e("./node_modules/core-js/internals/to-object.js"),u=e("./node_modules/core-js/internals/to-length.js"),f=e("./node_modules/core-js/internals/array-species-create.js"),d=[].push,l=function(o){var r=o==1,c=o==2,m=o==3,j=o==4,x=o==6,O=o==7,I=o==5||x;return function(g,b,E,P){for(var A=t(g),h=s(A),C=n(b,E,3),D=u(h.length),G=0,z=P||f,y=r?z(g,D):c||O?z(g,0):void 0,T,N;D>G;G++)if((I||G in h)&&(T=h[G],N=C(T,G,A),o))if(r)y[G]=N;else if(N)switch(o){case 3:return!0;case 5:return T;case 6:return G;case 2:d.call(y,T)}else switch(o){case 4:return!1;case 7:d.call(y,T)}return x?-1:m||j?j:y}};a.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(a,p,e){var n=e("./node_modules/core-js/internals/fails.js"),s=e("./node_modules/core-js/internals/well-known-symbol.js"),t=e("./node_modules/core-js/internals/engine-v8-version.js"),u=s("species");a.exports=function(f){return t>=51||!n(function(){var d=[],l=d.constructor={};return l[u]=function(){return{foo:1}},d[f](Boolean).foo!==1})}},"./node_modules/core-js/internals/array-method-is-strict.js":function(a,p,e){var n=e("./node_modules/core-js/internals/fails.js");a.exports=function(s,t){var u=[][s];return!!u&&n(function(){u.call(null,t||function(){throw 1},1)})}},"./node_modules/core-js/internals/array-species-constructor.js":function(a,p,e){var n=e("./node_modules/core-js/internals/is-object.js"),s=e("./node_modules/core-js/internals/is-array.js"),t=e("./node_modules/core-js/internals/well-known-symbol.js"),u=t("species");a.exports=function(f){var d;return s(f)&&(d=f.constructor,typeof d=="function"&&(d===Array||s(d.prototype))?d=void 0:n(d)&&(d=d[u],d===null&&(d=void 0))),d===void 0?Array:d}},"./node_modules/core-js/internals/array-species-create.js":function(a,p,e){var n=e("./node_modules/core-js/internals/array-species-constructor.js");a.exports=function(s,t){return new(n(s))(t===0?0:t)}},"./node_modules/core-js/internals/classof-raw.js":function(a){var p={}.toString;a.exports=function(e){return p.call(e).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(a,p,e){var n=e("./node_modules/core-js/internals/to-string-tag-support.js"),s=e("./node_modules/core-js/internals/classof-raw.js"),t=e("./node_modules/core-js/internals/well-known-symbol.js"),u=t("toStringTag"),f=s(function(){return arguments}())=="Arguments",d=function(l,o){try{return l[o]}catch{}};a.exports=n?s:function(l){var o,r,c;return l===void 0?"Undefined":l===null?"Null":typeof(r=d(o=Object(l),u))=="string"?r:f?s(o):(c=s(o))=="Object"&&typeof o.callee=="function"?"Arguments":c}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(a,p,e){var n=e("./node_modules/core-js/internals/has.js"),s=e("./node_modules/core-js/internals/own-keys.js"),t=e("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),u=e("./node_modules/core-js/internals/object-define-property.js");a.exports=function(f,d){for(var l=s(d),o=u.f,r=t.f,c=0;c<l.length;c++){var m=l[c];n(f,m)||o(f,m,r(d,m))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(a,p,e){var n=e("./node_modules/core-js/internals/fails.js");a.exports=!n(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},"./node_modules/core-js/internals/create-html.js":function(a,p,e){var n=e("./node_modules/core-js/internals/require-object-coercible.js"),s=e("./node_modules/core-js/internals/to-string.js"),t=/"/g;a.exports=function(u,f,d,l){var o=s(n(u)),r="<"+f;return d!==""&&(r+=" "+d+'="'+s(l).replace(t,"&quot;")+'"'),r+">"+o+"</"+f+">"}},"./node_modules/core-js/internals/create-iterator-constructor.js":function(a,p,e){var n=e("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,s=e("./node_modules/core-js/internals/object-create.js"),t=e("./node_modules/core-js/internals/create-property-descriptor.js"),u=e("./node_modules/core-js/internals/set-to-string-tag.js"),f=e("./node_modules/core-js/internals/iterators.js"),d=function(){return this};a.exports=function(l,o,r){var c=o+" Iterator";return l.prototype=s(n,{next:t(1,r)}),u(l,c,!1,!0),f[c]=d,l}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(a,p,e){var n=e("./node_modules/core-js/internals/descriptors.js"),s=e("./node_modules/core-js/internals/object-define-property.js"),t=e("./node_modules/core-js/internals/create-property-descriptor.js");a.exports=n?function(u,f,d){return s.f(u,f,t(1,d))}:function(u,f,d){return u[f]=d,u}},"./node_modules/core-js/internals/create-property-descriptor.js":function(a){a.exports=function(p,e){return{enumerable:!(p&1),configurable:!(p&2),writable:!(p&4),value:e}}},"./node_modules/core-js/internals/create-property.js":function(a,p,e){var n=e("./node_modules/core-js/internals/to-property-key.js"),s=e("./node_modules/core-js/internals/object-define-property.js"),t=e("./node_modules/core-js/internals/create-property-descriptor.js");a.exports=function(u,f,d){var l=n(f);l in u?s.f(u,l,t(0,d)):u[l]=d}},"./node_modules/core-js/internals/define-iterator.js":function(a,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/create-iterator-constructor.js"),t=e("./node_modules/core-js/internals/object-get-prototype-of.js"),u=e("./node_modules/core-js/internals/object-set-prototype-of.js"),f=e("./node_modules/core-js/internals/set-to-string-tag.js"),d=e("./node_modules/core-js/internals/create-non-enumerable-property.js"),l=e("./node_modules/core-js/internals/redefine.js"),o=e("./node_modules/core-js/internals/well-known-symbol.js"),r=e("./node_modules/core-js/internals/is-pure.js"),c=e("./node_modules/core-js/internals/iterators.js"),m=e("./node_modules/core-js/internals/iterators-core.js"),j=m.IteratorPrototype,x=m.BUGGY_SAFARI_ITERATORS,O=o("iterator"),I="keys",g="values",b="entries",E=function(){return this};a.exports=function(P,A,h,C,D,G,z){s(h,A,C);var y=function(se){if(se===D&&H)return H;if(!x&&se in F)return F[se];switch(se){case I:return function(){return new h(this,se)};case g:return function(){return new h(this,se)};case b:return function(){return new h(this,se)}}return function(){return new h(this)}},T=A+" Iterator",N=!1,F=P.prototype,B=F[O]||F["@@iterator"]||D&&F[D],H=!x&&B||y(D),le=A=="Array"&&F.entries||B,W,X,fe;if(le&&(W=t(le.call(new P)),j!==Object.prototype&&W.next&&(!r&&t(W)!==j&&(u?u(W,j):typeof W[O]!="function"&&d(W,O,E)),f(W,T,!0,!0),r&&(c[T]=E))),D==g&&B&&B.name!==g&&(N=!0,H=function(){return B.call(this)}),(!r||z)&&F[O]!==H&&d(F,O,H),c[A]=H,D)if(X={values:y(g),keys:G?H:y(I),entries:y(b)},z)for(fe in X)(x||N||!(fe in F))&&l(F,fe,X[fe]);else n({target:A,proto:!0,forced:x||N},X);return X}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(a,p,e){var n=e("./node_modules/core-js/internals/path.js"),s=e("./node_modules/core-js/internals/has.js"),t=e("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),u=e("./node_modules/core-js/internals/object-define-property.js").f;a.exports=function(f){var d=n.Symbol||(n.Symbol={});s(d,f)||u(d,f,{value:t.f(f)})}},"./node_modules/core-js/internals/descriptors.js":function(a,p,e){var n=e("./node_modules/core-js/internals/fails.js");a.exports=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"./node_modules/core-js/internals/document-create-element.js":function(a,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/is-object.js"),t=n.document,u=s(t)&&s(t.createElement);a.exports=function(f){return u?t.createElement(f):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(a){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/engine-user-agent.js":function(a,p,e){var n=e("./node_modules/core-js/internals/get-built-in.js");a.exports=n("navigator","userAgent")||""},"./node_modules/core-js/internals/engine-v8-version.js":function(a,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/engine-user-agent.js"),t=n.process,u=n.Deno,f=t&&t.versions||u&&u.version,d=f&&f.v8,l,o;d?(l=d.split("."),o=l[0]<4?1:l[0]+l[1]):s&&(l=s.match(/Edge\/(\d+)/),(!l||l[1]>=74)&&(l=s.match(/Chrome\/(\d+)/),l&&(o=l[1]))),a.exports=o&&+o},"./node_modules/core-js/internals/enum-bug-keys.js":function(a){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(a,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,t=e("./node_modules/core-js/internals/create-non-enumerable-property.js"),u=e("./node_modules/core-js/internals/redefine.js"),f=e("./node_modules/core-js/internals/set-global.js"),d=e("./node_modules/core-js/internals/copy-constructor-properties.js"),l=e("./node_modules/core-js/internals/is-forced.js");a.exports=function(o,r){var c=o.target,m=o.global,j=o.stat,x,O,I,g,b,E;if(m?O=n:j?O=n[c]||f(c,{}):O=(n[c]||{}).prototype,O)for(I in r){if(b=r[I],o.noTargetGet?(E=s(O,I),g=E&&E.value):g=O[I],x=l(m?I:c+(j?".":"#")+I,o.forced),!x&&g!==void 0){if(typeof b==typeof g)continue;d(b,g)}(o.sham||g&&g.sham)&&t(b,"sham",!0),u(O,I,b,o)}}},"./node_modules/core-js/internals/fails.js":function(a){a.exports=function(p){try{return!!p()}catch{return!0}}},"./node_modules/core-js/internals/function-bind-context.js":function(a,p,e){var n=e("./node_modules/core-js/internals/a-function.js");a.exports=function(s,t,u){if(n(s),t===void 0)return s;switch(u){case 0:return function(){return s.call(t)};case 1:return function(f){return s.call(t,f)};case 2:return function(f,d){return s.call(t,f,d)};case 3:return function(f,d,l){return s.call(t,f,d,l)}}return function(){return s.apply(t,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(a,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=function(t){return typeof t=="function"?t:void 0};a.exports=function(t,u){return arguments.length<2?s(n[t]):n[t]&&n[t][u]}},"./node_modules/core-js/internals/global.js":function(a){var p=function(e){return e&&e.Math==Math&&e};a.exports=p(typeof globalThis=="object"&&globalThis)||p(typeof window=="object"&&window)||p(typeof self=="object"&&self)||p(typeof Re=="object"&&Re)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has.js":function(a,p,e){var n=e("./node_modules/core-js/internals/to-object.js"),s={}.hasOwnProperty;a.exports=Object.hasOwn||function(u,f){return s.call(n(u),f)}},"./node_modules/core-js/internals/hidden-keys.js":function(a){a.exports={}},"./node_modules/core-js/internals/html.js":function(a,p,e){var n=e("./node_modules/core-js/internals/get-built-in.js");a.exports=n("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(a,p,e){var n=e("./node_modules/core-js/internals/descriptors.js"),s=e("./node_modules/core-js/internals/fails.js"),t=e("./node_modules/core-js/internals/document-create-element.js");a.exports=!n&&!s(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(a,p,e){var n=e("./node_modules/core-js/internals/fails.js"),s=e("./node_modules/core-js/internals/classof-raw.js"),t="".split;a.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return s(u)=="String"?t.call(u,""):Object(u)}:Object},"./node_modules/core-js/internals/inherit-if-required.js":function(a,p,e){var n=e("./node_modules/core-js/internals/is-object.js"),s=e("./node_modules/core-js/internals/object-set-prototype-of.js");a.exports=function(t,u,f){var d,l;return s&&typeof(d=u.constructor)=="function"&&d!==f&&n(l=d.prototype)&&l!==f.prototype&&s(t,l),t}},"./node_modules/core-js/internals/inspect-source.js":function(a,p,e){var n=e("./node_modules/core-js/internals/shared-store.js"),s=Function.toString;typeof n.inspectSource!="function"&&(n.inspectSource=function(t){return s.call(t)}),a.exports=n.inspectSource},"./node_modules/core-js/internals/internal-state.js":function(a,p,e){var n=e("./node_modules/core-js/internals/native-weak-map.js"),s=e("./node_modules/core-js/internals/global.js"),t=e("./node_modules/core-js/internals/is-object.js"),u=e("./node_modules/core-js/internals/create-non-enumerable-property.js"),f=e("./node_modules/core-js/internals/has.js"),d=e("./node_modules/core-js/internals/shared-store.js"),l=e("./node_modules/core-js/internals/shared-key.js"),o=e("./node_modules/core-js/internals/hidden-keys.js"),r="Object already initialized",c=s.WeakMap,m,j,x,O=function(h){return x(h)?j(h):m(h,{})},I=function(h){return function(C){var D;if(!t(C)||(D=j(C)).type!==h)throw TypeError("Incompatible receiver, "+h+" required");return D}};if(n||d.state){var g=d.state||(d.state=new c),b=g.get,E=g.has,P=g.set;m=function(h,C){if(E.call(g,h))throw new TypeError(r);return C.facade=h,P.call(g,h,C),C},j=function(h){return b.call(g,h)||{}},x=function(h){return E.call(g,h)}}else{var A=l("state");o[A]=!0,m=function(h,C){if(f(h,A))throw new TypeError(r);return C.facade=h,u(h,A,C),C},j=function(h){return f(h,A)?h[A]:{}},x=function(h){return f(h,A)}}a.exports={set:m,get:j,has:x,enforce:O,getterFor:I}},"./node_modules/core-js/internals/is-array.js":function(a,p,e){var n=e("./node_modules/core-js/internals/classof-raw.js");a.exports=Array.isArray||function(t){return n(t)=="Array"}},"./node_modules/core-js/internals/is-forced.js":function(a,p,e){var n=e("./node_modules/core-js/internals/fails.js"),s=/#|\.prototype\./,t=function(o,r){var c=f[u(o)];return c==l?!0:c==d?!1:typeof r=="function"?n(r):!!r},u=t.normalize=function(o){return String(o).replace(s,".").toLowerCase()},f=t.data={},d=t.NATIVE="N",l=t.POLYFILL="P";a.exports=t},"./node_modules/core-js/internals/is-object.js":function(a){a.exports=function(p){return typeof p=="object"?p!==null:typeof p=="function"}},"./node_modules/core-js/internals/is-pure.js":function(a){a.exports=!1},"./node_modules/core-js/internals/is-symbol.js":function(a,p,e){var n=e("./node_modules/core-js/internals/get-built-in.js"),s=e("./node_modules/core-js/internals/use-symbol-as-uid.js");a.exports=s?function(t){return typeof t=="symbol"}:function(t){var u=n("Symbol");return typeof u=="function"&&Object(t)instanceof u}},"./node_modules/core-js/internals/iterators-core.js":function(a,p,e){var n=e("./node_modules/core-js/internals/fails.js"),s=e("./node_modules/core-js/internals/object-get-prototype-of.js"),t=e("./node_modules/core-js/internals/create-non-enumerable-property.js"),u=e("./node_modules/core-js/internals/has.js"),f=e("./node_modules/core-js/internals/well-known-symbol.js"),d=e("./node_modules/core-js/internals/is-pure.js"),l=f("iterator"),o=!1,r=function(){return this},c,m,j;[].keys&&(j=[].keys(),"next"in j?(m=s(s(j)),m!==Object.prototype&&(c=m)):o=!0);var x=c==null||n(function(){var O={};return c[l].call(O)!==O});x&&(c={}),(!d||x)&&!u(c,l)&&t(c,l,r),a.exports={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:o}},"./node_modules/core-js/internals/iterators.js":function(a){a.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(a,p,e){var n=e("./node_modules/core-js/internals/engine-v8-version.js"),s=e("./node_modules/core-js/internals/fails.js");a.exports=!!Object.getOwnPropertySymbols&&!s(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41})},"./node_modules/core-js/internals/native-weak-map.js":function(a,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/inspect-source.js"),t=n.WeakMap;a.exports=typeof t=="function"&&/native code/.test(s(t))},"./node_modules/core-js/internals/object-assign.js":function(a,p,e){var n=e("./node_modules/core-js/internals/descriptors.js"),s=e("./node_modules/core-js/internals/fails.js"),t=e("./node_modules/core-js/internals/object-keys.js"),u=e("./node_modules/core-js/internals/object-get-own-property-symbols.js"),f=e("./node_modules/core-js/internals/object-property-is-enumerable.js"),d=e("./node_modules/core-js/internals/to-object.js"),l=e("./node_modules/core-js/internals/indexed-object.js"),o=Object.assign,r=Object.defineProperty;a.exports=!o||s(function(){if(n&&o({b:1},o(r({},"a",{enumerable:!0,get:function(){r(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var c={},m={},j=Symbol(),x="abcdefghijklmnopqrst";return c[j]=7,x.split("").forEach(function(O){m[O]=O}),o({},c)[j]!=7||t(o({},m)).join("")!=x})?function(m,j){for(var x=d(m),O=arguments.length,I=1,g=u.f,b=f.f;O>I;)for(var E=l(arguments[I++]),P=g?t(E).concat(g(E)):t(E),A=P.length,h=0,C;A>h;)C=P[h++],(!n||b.call(E,C))&&(x[C]=E[C]);return x}:o},"./node_modules/core-js/internals/object-create.js":function(a,p,e){var n=e("./node_modules/core-js/internals/an-object.js"),s=e("./node_modules/core-js/internals/object-define-properties.js"),t=e("./node_modules/core-js/internals/enum-bug-keys.js"),u=e("./node_modules/core-js/internals/hidden-keys.js"),f=e("./node_modules/core-js/internals/html.js"),d=e("./node_modules/core-js/internals/document-create-element.js"),l=e("./node_modules/core-js/internals/shared-key.js"),o=">",r="<",c="prototype",m="script",j=l("IE_PROTO"),x=function(){},O=function(P){return r+m+o+P+r+"/"+m+o},I=function(P){P.write(O("")),P.close();var A=P.parentWindow.Object;return P=null,A},g=function(){var P=d("iframe"),A="java"+m+":",h;if(P.style)return P.style.display="none",f.appendChild(P),P.src=String(A),h=P.contentWindow.document,h.open(),h.write(O("document.F=Object")),h.close(),h.F},b,E=function(){try{b=new ActiveXObject("htmlfile")}catch{}E=document.domain&&b?I(b):g()||I(b);for(var P=t.length;P--;)delete E[c][t[P]];return E()};u[j]=!0,a.exports=Object.create||function(A,h){var C;return A!==null?(x[c]=n(A),C=new x,x[c]=null,C[j]=A):C=E(),h===void 0?C:s(C,h)}},"./node_modules/core-js/internals/object-define-properties.js":function(a,p,e){var n=e("./node_modules/core-js/internals/descriptors.js"),s=e("./node_modules/core-js/internals/object-define-property.js"),t=e("./node_modules/core-js/internals/an-object.js"),u=e("./node_modules/core-js/internals/object-keys.js");a.exports=n?Object.defineProperties:function(d,l){t(d);for(var o=u(l),r=o.length,c=0,m;r>c;)s.f(d,m=o[c++],l[m]);return d}},"./node_modules/core-js/internals/object-define-property.js":function(a,p,e){var n=e("./node_modules/core-js/internals/descriptors.js"),s=e("./node_modules/core-js/internals/ie8-dom-define.js"),t=e("./node_modules/core-js/internals/an-object.js"),u=e("./node_modules/core-js/internals/to-property-key.js"),f=Object.defineProperty;p.f=n?f:function(l,o,r){if(t(l),o=u(o),t(r),s)try{return f(l,o,r)}catch{}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(l[o]=r.value),l}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(a,p,e){var n=e("./node_modules/core-js/internals/descriptors.js"),s=e("./node_modules/core-js/internals/object-property-is-enumerable.js"),t=e("./node_modules/core-js/internals/create-property-descriptor.js"),u=e("./node_modules/core-js/internals/to-indexed-object.js"),f=e("./node_modules/core-js/internals/to-property-key.js"),d=e("./node_modules/core-js/internals/has.js"),l=e("./node_modules/core-js/internals/ie8-dom-define.js"),o=Object.getOwnPropertyDescriptor;p.f=n?o:function(c,m){if(c=u(c),m=f(m),l)try{return o(c,m)}catch{}if(d(c,m))return t(!s.f.call(c,m),c[m])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(a,p,e){var n=e("./node_modules/core-js/internals/to-indexed-object.js"),s=e("./node_modules/core-js/internals/object-get-own-property-names.js").f,t={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(d){try{return s(d)}catch{return u.slice()}};a.exports.f=function(l){return u&&t.call(l)=="[object Window]"?f(l):s(n(l))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(a,p,e){var n=e("./node_modules/core-js/internals/object-keys-internal.js"),s=e("./node_modules/core-js/internals/enum-bug-keys.js"),t=s.concat("length","prototype");p.f=Object.getOwnPropertyNames||function(f){return n(f,t)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(a,p){p.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(a,p,e){var n=e("./node_modules/core-js/internals/has.js"),s=e("./node_modules/core-js/internals/to-object.js"),t=e("./node_modules/core-js/internals/shared-key.js"),u=e("./node_modules/core-js/internals/correct-prototype-getter.js"),f=t("IE_PROTO"),d=Object.prototype;a.exports=u?Object.getPrototypeOf:function(l){return l=s(l),n(l,f)?l[f]:typeof l.constructor=="function"&&l instanceof l.constructor?l.constructor.prototype:l instanceof Object?d:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(a,p,e){var n=e("./node_modules/core-js/internals/has.js"),s=e("./node_modules/core-js/internals/to-indexed-object.js"),t=e("./node_modules/core-js/internals/array-includes.js").indexOf,u=e("./node_modules/core-js/internals/hidden-keys.js");a.exports=function(f,d){var l=s(f),o=0,r=[],c;for(c in l)!n(u,c)&&n(l,c)&&r.push(c);for(;d.length>o;)n(l,c=d[o++])&&(~t(r,c)||r.push(c));return r}},"./node_modules/core-js/internals/object-keys.js":function(a,p,e){var n=e("./node_modules/core-js/internals/object-keys-internal.js"),s=e("./node_modules/core-js/internals/enum-bug-keys.js");a.exports=Object.keys||function(u){return n(u,s)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(a,p){var e={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,s=n&&!e.call({1:2},1);p.f=s?function(u){var f=n(this,u);return!!f&&f.enumerable}:e},"./node_modules/core-js/internals/object-set-prototype-of.js":function(a,p,e){var n=e("./node_modules/core-js/internals/an-object.js"),s=e("./node_modules/core-js/internals/a-possible-prototype.js");a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,u={},f;try{f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,f.call(u,[]),t=u instanceof Array}catch{}return function(l,o){return n(l),s(o),t?f.call(l,o):l.__proto__=o,l}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(a,p,e){var n=e("./node_modules/core-js/internals/to-string-tag-support.js"),s=e("./node_modules/core-js/internals/classof.js");a.exports=n?{}.toString:function(){return"[object "+s(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(a,p,e){var n=e("./node_modules/core-js/internals/is-object.js");a.exports=function(s,t){var u,f;if(t==="string"&&typeof(u=s.toString)=="function"&&!n(f=u.call(s))||typeof(u=s.valueOf)=="function"&&!n(f=u.call(s))||t!=="string"&&typeof(u=s.toString)=="function"&&!n(f=u.call(s)))return f;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(a,p,e){var n=e("./node_modules/core-js/internals/get-built-in.js"),s=e("./node_modules/core-js/internals/object-get-own-property-names.js"),t=e("./node_modules/core-js/internals/object-get-own-property-symbols.js"),u=e("./node_modules/core-js/internals/an-object.js");a.exports=n("Reflect","ownKeys")||function(d){var l=s.f(u(d)),o=t.f;return o?l.concat(o(d)):l}},"./node_modules/core-js/internals/path.js":function(a,p,e){var n=e("./node_modules/core-js/internals/global.js");a.exports=n},"./node_modules/core-js/internals/redefine.js":function(a,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/create-non-enumerable-property.js"),t=e("./node_modules/core-js/internals/has.js"),u=e("./node_modules/core-js/internals/set-global.js"),f=e("./node_modules/core-js/internals/inspect-source.js"),d=e("./node_modules/core-js/internals/internal-state.js"),l=d.get,o=d.enforce,r=String(String).split("String");(a.exports=function(c,m,j,x){var O=x?!!x.unsafe:!1,I=x?!!x.enumerable:!1,g=x?!!x.noTargetGet:!1,b;if(typeof j=="function"&&(typeof m=="string"&&!t(j,"name")&&s(j,"name",m),b=o(j),b.source||(b.source=r.join(typeof m=="string"?m:""))),c===n){I?c[m]=j:u(m,j);return}else O?!g&&c[m]&&(I=!0):delete c[m];I?c[m]=j:s(c,m,j)})(Function.prototype,"toString",function(){return typeof this=="function"&&l(this).source||f(this)})},"./node_modules/core-js/internals/regexp-flags.js":function(a,p,e){var n=e("./node_modules/core-js/internals/an-object.js");a.exports=function(){var s=n(this),t="";return s.global&&(t+="g"),s.ignoreCase&&(t+="i"),s.multiline&&(t+="m"),s.dotAll&&(t+="s"),s.unicode&&(t+="u"),s.sticky&&(t+="y"),t}},"./node_modules/core-js/internals/require-object-coercible.js":function(a){a.exports=function(p){if(p==null)throw TypeError("Can't call method on "+p);return p}},"./node_modules/core-js/internals/set-global.js":function(a,p,e){var n=e("./node_modules/core-js/internals/global.js");a.exports=function(s,t){try{Object.defineProperty(n,s,{value:t,configurable:!0,writable:!0})}catch{n[s]=t}return t}},"./node_modules/core-js/internals/set-to-string-tag.js":function(a,p,e){var n=e("./node_modules/core-js/internals/object-define-property.js").f,s=e("./node_modules/core-js/internals/has.js"),t=e("./node_modules/core-js/internals/well-known-symbol.js"),u=t("toStringTag");a.exports=function(f,d,l){f&&!s(f=l?f:f.prototype,u)&&n(f,u,{configurable:!0,value:d})}},"./node_modules/core-js/internals/shared-key.js":function(a,p,e){var n=e("./node_modules/core-js/internals/shared.js"),s=e("./node_modules/core-js/internals/uid.js"),t=n("keys");a.exports=function(u){return t[u]||(t[u]=s(u))}},"./node_modules/core-js/internals/shared-store.js":function(a,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/set-global.js"),t="__core-js_shared__",u=n[t]||s(t,{});a.exports=u},"./node_modules/core-js/internals/shared.js":function(a,p,e){var n=e("./node_modules/core-js/internals/is-pure.js"),s=e("./node_modules/core-js/internals/shared-store.js");(a.exports=function(t,u){return s[t]||(s[t]=u!==void 0?u:{})})("versions",[]).push({version:"3.16.0",mode:n?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-html-forced.js":function(a,p,e){var n=e("./node_modules/core-js/internals/fails.js");a.exports=function(s){return n(function(){var t=""[s]('"');return t!==t.toLowerCase()||t.split('"').length>3})}},"./node_modules/core-js/internals/string-multibyte.js":function(a,p,e){var n=e("./node_modules/core-js/internals/to-integer.js"),s=e("./node_modules/core-js/internals/to-string.js"),t=e("./node_modules/core-js/internals/require-object-coercible.js"),u=function(f){return function(d,l){var o=s(t(d)),r=n(l),c=o.length,m,j;return r<0||r>=c?f?"":void 0:(m=o.charCodeAt(r),m<55296||m>56319||r+1===c||(j=o.charCodeAt(r+1))<56320||j>57343?f?o.charAt(r):m:f?o.slice(r,r+2):(m-55296<<10)+(j-56320)+65536)}};a.exports={codeAt:u(!1),charAt:u(!0)}},"./node_modules/core-js/internals/string-trim.js":function(a,p,e){var n=e("./node_modules/core-js/internals/require-object-coercible.js"),s=e("./node_modules/core-js/internals/to-string.js"),t=e("./node_modules/core-js/internals/whitespaces.js"),u="["+t+"]",f=RegExp("^"+u+u+"*"),d=RegExp(u+u+"*$"),l=function(o){return function(r){var c=s(n(r));return o&1&&(c=c.replace(f,"")),o&2&&(c=c.replace(d,"")),c}};a.exports={start:l(1),end:l(2),trim:l(3)}},"./node_modules/core-js/internals/to-absolute-index.js":function(a,p,e){var n=e("./node_modules/core-js/internals/to-integer.js"),s=Math.max,t=Math.min;a.exports=function(u,f){var d=n(u);return d<0?s(d+f,0):t(d,f)}},"./node_modules/core-js/internals/to-indexed-object.js":function(a,p,e){var n=e("./node_modules/core-js/internals/indexed-object.js"),s=e("./node_modules/core-js/internals/require-object-coercible.js");a.exports=function(t){return n(s(t))}},"./node_modules/core-js/internals/to-integer.js":function(a){var p=Math.ceil,e=Math.floor;a.exports=function(n){return isNaN(n=+n)?0:(n>0?e:p)(n)}},"./node_modules/core-js/internals/to-length.js":function(a,p,e){var n=e("./node_modules/core-js/internals/to-integer.js"),s=Math.min;a.exports=function(t){return t>0?s(n(t),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(a,p,e){var n=e("./node_modules/core-js/internals/require-object-coercible.js");a.exports=function(s){return Object(n(s))}},"./node_modules/core-js/internals/to-primitive.js":function(a,p,e){var n=e("./node_modules/core-js/internals/is-object.js"),s=e("./node_modules/core-js/internals/is-symbol.js"),t=e("./node_modules/core-js/internals/ordinary-to-primitive.js"),u=e("./node_modules/core-js/internals/well-known-symbol.js"),f=u("toPrimitive");a.exports=function(d,l){if(!n(d)||s(d))return d;var o=d[f],r;if(o!==void 0){if(l===void 0&&(l="default"),r=o.call(d,l),!n(r)||s(r))return r;throw TypeError("Can't convert object to primitive value")}return l===void 0&&(l="number"),t(d,l)}},"./node_modules/core-js/internals/to-property-key.js":function(a,p,e){var n=e("./node_modules/core-js/internals/to-primitive.js"),s=e("./node_modules/core-js/internals/is-symbol.js");a.exports=function(t){var u=n(t,"string");return s(u)?u:String(u)}},"./node_modules/core-js/internals/to-string-tag-support.js":function(a,p,e){var n=e("./node_modules/core-js/internals/well-known-symbol.js"),s=n("toStringTag"),t={};t[s]="z",a.exports=String(t)==="[object z]"},"./node_modules/core-js/internals/to-string.js":function(a,p,e){var n=e("./node_modules/core-js/internals/is-symbol.js");a.exports=function(s){if(n(s))throw TypeError("Cannot convert a Symbol value to a string");return String(s)}},"./node_modules/core-js/internals/uid.js":function(a){var p=0,e=Math.random();a.exports=function(n){return"Symbol("+String(n===void 0?"":n)+")_"+(++p+e).toString(36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(a,p,e){var n=e("./node_modules/core-js/internals/native-symbol.js");a.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(a,p,e){var n=e("./node_modules/core-js/internals/well-known-symbol.js");p.f=n},"./node_modules/core-js/internals/well-known-symbol.js":function(a,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/shared.js"),t=e("./node_modules/core-js/internals/has.js"),u=e("./node_modules/core-js/internals/uid.js"),f=e("./node_modules/core-js/internals/native-symbol.js"),d=e("./node_modules/core-js/internals/use-symbol-as-uid.js"),l=s("wks"),o=n.Symbol,r=d?o:o&&o.withoutSetter||u;a.exports=function(c){return(!t(l,c)||!(f||typeof l[c]=="string"))&&(f&&t(o,c)?l[c]=o[c]:l[c]=r("Symbol."+c)),l[c]}},"./node_modules/core-js/internals/whitespaces.js":function(a){a.exports=`	
\v\f\r \u2028\u2029\uFEFF`},"./node_modules/core-js/modules/es.array.concat.js":function(a,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/fails.js"),t=e("./node_modules/core-js/internals/is-array.js"),u=e("./node_modules/core-js/internals/is-object.js"),f=e("./node_modules/core-js/internals/to-object.js"),d=e("./node_modules/core-js/internals/to-length.js"),l=e("./node_modules/core-js/internals/create-property.js"),o=e("./node_modules/core-js/internals/array-species-create.js"),r=e("./node_modules/core-js/internals/array-method-has-species-support.js"),c=e("./node_modules/core-js/internals/well-known-symbol.js"),m=e("./node_modules/core-js/internals/engine-v8-version.js"),j=c("isConcatSpreadable"),x=9007199254740991,O="Maximum allowed index exceeded",I=m>=51||!s(function(){var P=[];return P[j]=!1,P.concat()[0]!==P}),g=r("concat"),b=function(P){if(!u(P))return!1;var A=P[j];return A!==void 0?!!A:t(P)},E=!I||!g;n({target:"Array",proto:!0,forced:E},{concat:function(A){var h=f(this),C=o(h,0),D=0,G,z,y,T,N;for(G=-1,y=arguments.length;G<y;G++)if(N=G===-1?h:arguments[G],b(N)){if(T=d(N.length),D+T>x)throw TypeError(O);for(z=0;z<T;z++,D++)z in N&&l(C,D,N[z])}else{if(D>=x)throw TypeError(O);l(C,D++,N)}return C.length=D,C}})},"./node_modules/core-js/modules/es.array.iterator.js":function(a,p,e){var n=e("./node_modules/core-js/internals/to-indexed-object.js"),s=e("./node_modules/core-js/internals/add-to-unscopables.js"),t=e("./node_modules/core-js/internals/iterators.js"),u=e("./node_modules/core-js/internals/internal-state.js"),f=e("./node_modules/core-js/internals/define-iterator.js"),d="Array Iterator",l=u.set,o=u.getterFor(d);a.exports=f(Array,"Array",function(r,c){l(this,{type:d,target:n(r),index:0,kind:c})},function(){var r=o(this),c=r.target,m=r.kind,j=r.index++;return!c||j>=c.length?(r.target=void 0,{value:void 0,done:!0}):m=="keys"?{value:j,done:!1}:m=="values"?{value:c[j],done:!1}:{value:[j,c[j]],done:!1}},"values"),t.Arguments=t.Array,s("keys"),s("values"),s("entries")},"./node_modules/core-js/modules/es.array.join.js":function(a,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/indexed-object.js"),t=e("./node_modules/core-js/internals/to-indexed-object.js"),u=e("./node_modules/core-js/internals/array-method-is-strict.js"),f=[].join,d=s!=Object,l=u("join",",");n({target:"Array",proto:!0,forced:d||!l},{join:function(r){return f.call(t(this),r===void 0?",":r)}})},"./node_modules/core-js/modules/es.array.map.js":function(a,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/array-iteration.js").map,t=e("./node_modules/core-js/internals/array-method-has-species-support.js"),u=t("map");n({target:"Array",proto:!0,forced:!u},{map:function(d){return s(this,d,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":function(a,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/is-object.js"),t=e("./node_modules/core-js/internals/is-array.js"),u=e("./node_modules/core-js/internals/to-absolute-index.js"),f=e("./node_modules/core-js/internals/to-length.js"),d=e("./node_modules/core-js/internals/to-indexed-object.js"),l=e("./node_modules/core-js/internals/create-property.js"),o=e("./node_modules/core-js/internals/well-known-symbol.js"),r=e("./node_modules/core-js/internals/array-method-has-species-support.js"),c=r("slice"),m=o("species"),j=[].slice,x=Math.max;n({target:"Array",proto:!0,forced:!c},{slice:function(I,g){var b=d(this),E=f(b.length),P=u(I,E),A=u(g===void 0?E:g,E),h,C,D;if(t(b)&&(h=b.constructor,typeof h=="function"&&(h===Array||t(h.prototype))?h=void 0:s(h)&&(h=h[m],h===null&&(h=void 0)),h===Array||h===void 0))return j.call(b,P,A);for(C=new(h===void 0?Array:h)(x(A-P,0)),D=0;P<A;P++,D++)P in b&&l(C,D,b[P]);return C.length=D,C}})},"./node_modules/core-js/modules/es.function.name.js":function(a,p,e){var n=e("./node_modules/core-js/internals/descriptors.js"),s=e("./node_modules/core-js/internals/object-define-property.js").f,t=Function.prototype,u=t.toString,f=/^\s*function ([^ (]*)/,d="name";n&&!(d in t)&&s(t,d,{configurable:!0,get:function(){try{return u.call(this).match(f)[1]}catch{return""}}})},"./node_modules/core-js/modules/es.number.constructor.js":function(a,p,e){var n=e("./node_modules/core-js/internals/descriptors.js"),s=e("./node_modules/core-js/internals/global.js"),t=e("./node_modules/core-js/internals/is-forced.js"),u=e("./node_modules/core-js/internals/redefine.js"),f=e("./node_modules/core-js/internals/has.js"),d=e("./node_modules/core-js/internals/classof-raw.js"),l=e("./node_modules/core-js/internals/inherit-if-required.js"),o=e("./node_modules/core-js/internals/is-symbol.js"),r=e("./node_modules/core-js/internals/to-primitive.js"),c=e("./node_modules/core-js/internals/fails.js"),m=e("./node_modules/core-js/internals/object-create.js"),j=e("./node_modules/core-js/internals/object-get-own-property-names.js").f,x=e("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,O=e("./node_modules/core-js/internals/object-define-property.js").f,I=e("./node_modules/core-js/internals/string-trim.js").trim,g="Number",b=s[g],E=b.prototype,P=d(m(E))==g,A=function(z){if(o(z))throw TypeError("Cannot convert a Symbol value to a number");var y=r(z,"number"),T,N,F,B,H,le,W,X;if(typeof y=="string"&&y.length>2){if(y=I(y),T=y.charCodeAt(0),T===43||T===45){if(N=y.charCodeAt(2),N===88||N===120)return NaN}else if(T===48){switch(y.charCodeAt(1)){case 66:case 98:F=2,B=49;break;case 79:case 111:F=8,B=55;break;default:return+y}for(H=y.slice(2),le=H.length,W=0;W<le;W++)if(X=H.charCodeAt(W),X<48||X>B)return NaN;return parseInt(H,F)}}return+y};if(t(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var h=function(y){var T=arguments.length<1?0:y,N=this;return N instanceof h&&(P?c(function(){E.valueOf.call(N)}):d(N)!=g)?l(new b(A(T)),N,h):A(T)},C=n?j(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),D=0,G;C.length>D;D++)f(b,G=C[D])&&!f(h,G)&&O(h,G,x(b,G));h.prototype=E,E.constructor=h,u(s,g,h)}},"./node_modules/core-js/modules/es.object.assign.js":function(a,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/object-assign.js");n({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},"./node_modules/core-js/modules/es.object.keys.js":function(a,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/to-object.js"),t=e("./node_modules/core-js/internals/object-keys.js"),u=e("./node_modules/core-js/internals/fails.js"),f=u(function(){t(1)});n({target:"Object",stat:!0,forced:f},{keys:function(l){return t(s(l))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(a,p,e){var n=e("./node_modules/core-js/internals/to-string-tag-support.js"),s=e("./node_modules/core-js/internals/redefine.js"),t=e("./node_modules/core-js/internals/object-to-string.js");n||s(Object.prototype,"toString",t,{unsafe:!0})},"./node_modules/core-js/modules/es.regexp.to-string.js":function(a,p,e){var n=e("./node_modules/core-js/internals/redefine.js"),s=e("./node_modules/core-js/internals/an-object.js"),t=e("./node_modules/core-js/internals/to-string.js"),u=e("./node_modules/core-js/internals/fails.js"),f=e("./node_modules/core-js/internals/regexp-flags.js"),d="toString",l=RegExp.prototype,o=l[d],r=u(function(){return o.call({source:"a",flags:"b"})!="/a/b"}),c=o.name!=d;(r||c)&&n(RegExp.prototype,d,function(){var j=s(this),x=t(j.source),O=j.flags,I=t(O===void 0&&j instanceof RegExp&&!("flags"in l)?f.call(j):O);return"/"+x+"/"+I},{unsafe:!0})},"./node_modules/core-js/modules/es.string.iterator.js":function(a,p,e){var n=e("./node_modules/core-js/internals/string-multibyte.js").charAt,s=e("./node_modules/core-js/internals/to-string.js"),t=e("./node_modules/core-js/internals/internal-state.js"),u=e("./node_modules/core-js/internals/define-iterator.js"),f="String Iterator",d=t.set,l=t.getterFor(f);u(String,"String",function(o){d(this,{type:f,string:s(o),index:0})},function(){var r=l(this),c=r.string,m=r.index,j;return m>=c.length?{value:void 0,done:!0}:(j=n(c,m),r.index+=j.length,{value:j,done:!1})})},"./node_modules/core-js/modules/es.string.link.js":function(a,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/create-html.js"),t=e("./node_modules/core-js/internals/string-html-forced.js");n({target:"String",proto:!0,forced:t("link")},{link:function(f){return s(this,"a","href",f)}})},"./node_modules/core-js/modules/es.symbol.description.js":function(a,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/descriptors.js"),t=e("./node_modules/core-js/internals/global.js"),u=e("./node_modules/core-js/internals/has.js"),f=e("./node_modules/core-js/internals/is-object.js"),d=e("./node_modules/core-js/internals/object-define-property.js").f,l=e("./node_modules/core-js/internals/copy-constructor-properties.js"),o=t.Symbol;if(s&&typeof o=="function"&&(!("description"in o.prototype)||o().description!==void 0)){var r={},c=function(){var g=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),b=this instanceof c?new o(g):g===void 0?o():o(g);return g===""&&(r[b]=!0),b};l(c,o);var m=c.prototype=o.prototype;m.constructor=c;var j=m.toString,x=String(o("test"))=="Symbol(test)",O=/^Symbol\((.*)\)[^)]+$/;d(m,"description",{configurable:!0,get:function(){var g=f(this)?this.valueOf():this,b=j.call(g);if(u(r,g))return"";var E=x?b.slice(7,-1):b.replace(O,"$1");return E===""?void 0:E}}),n({global:!0,forced:!0},{Symbol:c})}},"./node_modules/core-js/modules/es.symbol.iterator.js":function(a,p,e){var n=e("./node_modules/core-js/internals/define-well-known-symbol.js");n("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(a,p,e){var n=e("./node_modules/core-js/internals/export.js"),s=e("./node_modules/core-js/internals/global.js"),t=e("./node_modules/core-js/internals/get-built-in.js"),u=e("./node_modules/core-js/internals/is-pure.js"),f=e("./node_modules/core-js/internals/descriptors.js"),d=e("./node_modules/core-js/internals/native-symbol.js"),l=e("./node_modules/core-js/internals/fails.js"),o=e("./node_modules/core-js/internals/has.js"),r=e("./node_modules/core-js/internals/is-array.js"),c=e("./node_modules/core-js/internals/is-object.js"),m=e("./node_modules/core-js/internals/is-symbol.js"),j=e("./node_modules/core-js/internals/an-object.js"),x=e("./node_modules/core-js/internals/to-object.js"),O=e("./node_modules/core-js/internals/to-indexed-object.js"),I=e("./node_modules/core-js/internals/to-property-key.js"),g=e("./node_modules/core-js/internals/to-string.js"),b=e("./node_modules/core-js/internals/create-property-descriptor.js"),E=e("./node_modules/core-js/internals/object-create.js"),P=e("./node_modules/core-js/internals/object-keys.js"),A=e("./node_modules/core-js/internals/object-get-own-property-names.js"),h=e("./node_modules/core-js/internals/object-get-own-property-names-external.js"),C=e("./node_modules/core-js/internals/object-get-own-property-symbols.js"),D=e("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),G=e("./node_modules/core-js/internals/object-define-property.js"),z=e("./node_modules/core-js/internals/object-property-is-enumerable.js"),y=e("./node_modules/core-js/internals/create-non-enumerable-property.js"),T=e("./node_modules/core-js/internals/redefine.js"),N=e("./node_modules/core-js/internals/shared.js"),F=e("./node_modules/core-js/internals/shared-key.js"),B=e("./node_modules/core-js/internals/hidden-keys.js"),H=e("./node_modules/core-js/internals/uid.js"),le=e("./node_modules/core-js/internals/well-known-symbol.js"),W=e("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),X=e("./node_modules/core-js/internals/define-well-known-symbol.js"),fe=e("./node_modules/core-js/internals/set-to-string-tag.js"),se=e("./node_modules/core-js/internals/internal-state.js"),ye=e("./node_modules/core-js/internals/array-iteration.js").forEach,ae=F("hidden"),de="Symbol",ve="prototype",Pe=le("toPrimitive"),ee=se.set,ne=se.getterFor(de),_=Object[ve],te=s.Symbol,be=t("JSON","stringify"),Se=D.f,he=G.f,ue=h.f,xe=z.f,je=N("symbols"),Oe=N("op-symbols"),Ie=N("string-to-symbol-registry"),pe=N("symbol-to-string-registry"),Le=N("wks"),v=s.QObject,S=!v||!v[ve]||!v[ve].findChild,w=f&&l(function(){return E(he({},"a",{get:function(){return he(this,"a",{value:7}).a}})).a!=7})?function(re,M,$){var q=Se(_,M);q&&delete _[M],he(re,M,$),q&&re!==_&&he(_,M,q)}:he,R=function(re,M){var $=je[re]=E(te[ve]);return ee($,{type:de,tag:re,description:M}),f||($.description=M),$},k=function(M,$,q){M===_&&k(Oe,$,q),j(M);var ie=I($);return j(q),o(je,ie)?(q.enumerable?(o(M,ae)&&M[ae][ie]&&(M[ae][ie]=!1),q=E(q,{enumerable:b(0,!1)})):(o(M,ae)||he(M,ae,b(1,{})),M[ae][ie]=!0),w(M,ie,q)):he(M,ie,q)},V=function(M,$){j(M);var q=O($),ie=P(q).concat(Ne(q));return ye(ie,function(ge){(!f||we.call(q,ge))&&k(M,ge,q[ge])}),M},me=function(M,$){return $===void 0?E(M):V(E(M),$)},we=function(M){var $=I(M),q=xe.call(this,$);return this===_&&o(je,$)&&!o(Oe,$)?!1:q||!o(this,$)||!o(je,$)||o(this,ae)&&this[ae][$]?q:!0},Ce=function(M,$){var q=O(M),ie=I($);if(!(q===_&&o(je,ie)&&!o(Oe,ie))){var ge=Se(q,ie);return ge&&o(je,ie)&&!(o(q,ae)&&q[ae][ie])&&(ge.enumerable=!0),ge}},Ee=function(M){var $=ue(O(M)),q=[];return ye($,function(ie){!o(je,ie)&&!o(B,ie)&&q.push(ie)}),q},Ne=function(M){var $=M===_,q=ue($?Oe:O(M)),ie=[];return ye(q,function(ge){o(je,ge)&&(!$||o(_,ge))&&ie.push(je[ge])}),ie};if(d||(te=function(){if(this instanceof te)throw TypeError("Symbol is not a constructor");var M=!arguments.length||arguments[0]===void 0?void 0:g(arguments[0]),$=H(M),q=function(ie){this===_&&q.call(Oe,ie),o(this,ae)&&o(this[ae],$)&&(this[ae][$]=!1),w(this,$,b(1,ie))};return f&&S&&w(_,$,{configurable:!0,set:q}),R($,M)},T(te[ve],"toString",function(){return ne(this).tag}),T(te,"withoutSetter",function(re){return R(H(re),re)}),z.f=we,G.f=k,D.f=Ce,A.f=h.f=Ee,C.f=Ne,W.f=function(re){return R(le(re),re)},f&&(he(te[ve],"description",{configurable:!0,get:function(){return ne(this).description}}),u||T(_,"propertyIsEnumerable",we,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:te}),ye(P(Le),function(re){X(re)}),n({target:de,stat:!0,forced:!d},{for:function(re){var M=g(re);if(o(Ie,M))return Ie[M];var $=te(M);return Ie[M]=$,pe[$]=M,$},keyFor:function(M){if(!m(M))throw TypeError(M+" is not a symbol");if(o(pe,M))return pe[M]},useSetter:function(){S=!0},useSimple:function(){S=!1}}),n({target:"Object",stat:!0,forced:!d,sham:!f},{create:me,defineProperty:k,defineProperties:V,getOwnPropertyDescriptor:Ce}),n({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:Ee,getOwnPropertySymbols:Ne}),n({target:"Object",stat:!0,forced:l(function(){C.f(1)})},{getOwnPropertySymbols:function(M){return C.f(x(M))}}),be){var Je=!d||l(function(){var re=te();return be([re])!="[null]"||be({a:re})!="{}"||be(Object(re))!="{}"});n({target:"JSON",stat:!0,forced:Je},{stringify:function(M,$,q){for(var ie=[M],ge=1,Fe;arguments.length>ge;)ie.push(arguments[ge++]);if(Fe=$,!(!c($)&&M===void 0||m(M)))return r($)||($=function(Ye,Ae){if(typeof Fe=="function"&&(Ae=Fe.call(this,Ye,Ae)),!m(Ae))return Ae}),ie[1]=$,be.apply(null,ie)}})}te[ve][Pe]||y(te[ve],Pe,te[ve].valueOf),fe(te,de),B[ae]=!0},"./node_modules/core-js/modules/web.dom-collections.for-each.js":function(a,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/dom-iterables.js"),t=e("./node_modules/core-js/internals/array-for-each.js"),u=e("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var f in s){var d=n[f],l=d&&d.prototype;if(l&&l.forEach!==t)try{u(l,"forEach",t)}catch{l.forEach=t}}},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(a,p,e){var n=e("./node_modules/core-js/internals/global.js"),s=e("./node_modules/core-js/internals/dom-iterables.js"),t=e("./node_modules/core-js/modules/es.array.iterator.js"),u=e("./node_modules/core-js/internals/create-non-enumerable-property.js"),f=e("./node_modules/core-js/internals/well-known-symbol.js"),d=f("iterator"),l=f("toStringTag"),o=t.values;for(var r in s){var c=n[r],m=c&&c.prototype;if(m){if(m[d]!==o)try{u(m,d,o)}catch{m[d]=o}if(m[l]||u(m,l,r),s[r]){for(var j in t)if(m[j]!==t[j])try{u(m,j,t[j])}catch{m[j]=t[j]}}}}},"./node_modules/es6-promise/dist/es6-promise.js":function(a){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(p,e){a.exports=e()})(this,function(){function p(v){var S=typeof v;return v!==null&&(S==="object"||S==="function")}function e(v){return typeof v=="function"}var n=void 0;Array.isArray?n=Array.isArray:n=function(v){return Object.prototype.toString.call(v)==="[object Array]"};var s=n,t=0,u=void 0,f=void 0,d=function(S,w){P[t]=S,P[t+1]=w,t+=2,t===2&&(f?f(A):C())};function l(v){f=v}function o(v){d=v}var r=typeof window<"u"?window:void 0,c=r||{},m=c.MutationObserver||c.WebKitMutationObserver,j=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",x=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function O(){return function(){return process.nextTick(A)}}function I(){return typeof u<"u"?function(){u(A)}:E()}function g(){var v=0,S=new m(A),w=document.createTextNode("");return S.observe(w,{characterData:!0}),function(){w.data=v=++v%2}}function b(){var v=new MessageChannel;return v.port1.onmessage=A,function(){return v.port2.postMessage(0)}}function E(){var v=setTimeout;return function(){return v(A,1)}}var P=new Array(1e3);function A(){for(var v=0;v<t;v+=2){var S=P[v],w=P[v+1];S(w),P[v]=void 0,P[v+1]=void 0}t=0}function h(){try{var v=Function("return this")().require("vertx");return u=v.runOnLoop||v.runOnContext,I()}catch{return E()}}var C=void 0;j?C=O():m?C=g():x?C=b():r===void 0?C=h():C=E();function D(v,S){var w=this,R=new this.constructor(y);R[z]===void 0&&be(R);var k=w._state;if(k){var V=arguments[k-1];d(function(){return ee(k,R,V,w._result)})}else ve(w,R,v,S);return R}function G(v){var S=this;if(v&&typeof v=="object"&&v.constructor===S)return v;var w=new S(y);return se(w,v),w}var z=Math.random().toString(36).substring(2);function y(){}var T=void 0,N=1,F=2;function B(){return new TypeError("You cannot resolve a promise with itself")}function H(){return new TypeError("A promises callback cannot return that same promise.")}function le(v,S,w,R){try{v.call(S,w,R)}catch(k){return k}}function W(v,S,w){d(function(R){var k=!1,V=le(w,S,function(me){k||(k=!0,S!==me?se(R,me):ae(R,me))},function(me){k||(k=!0,de(R,me))},"Settle: "+(R._label||" unknown promise"));!k&&V&&(k=!0,de(R,V))},v)}function X(v,S){S._state===N?ae(v,S._result):S._state===F?de(v,S._result):ve(S,void 0,function(w){return se(v,w)},function(w){return de(v,w)})}function fe(v,S,w){S.constructor===v.constructor&&w===D&&S.constructor.resolve===G?X(v,S):w===void 0?ae(v,S):e(w)?W(v,S,w):ae(v,S)}function se(v,S){if(v===S)de(v,B());else if(p(S)){var w=void 0;try{w=S.then}catch(R){de(v,R);return}fe(v,S,w)}else ae(v,S)}function ye(v){v._onerror&&v._onerror(v._result),Pe(v)}function ae(v,S){v._state===T&&(v._result=S,v._state=N,v._subscribers.length!==0&&d(Pe,v))}function de(v,S){v._state===T&&(v._state=F,v._result=S,d(ye,v))}function ve(v,S,w,R){var k=v._subscribers,V=k.length;v._onerror=null,k[V]=S,k[V+N]=w,k[V+F]=R,V===0&&v._state&&d(Pe,v)}function Pe(v){var S=v._subscribers,w=v._state;if(S.length!==0){for(var R=void 0,k=void 0,V=v._result,me=0;me<S.length;me+=3)R=S[me],k=S[me+w],R?ee(w,R,k,V):k(V);v._subscribers.length=0}}function ee(v,S,w,R){var k=e(w),V=void 0,me=void 0,we=!0;if(k){try{V=w(R)}catch(Ce){we=!1,me=Ce}if(S===V){de(S,H());return}}else V=R;S._state!==T||(k&&we?se(S,V):we===!1?de(S,me):v===N?ae(S,V):v===F&&de(S,V))}function ne(v,S){try{S(function(R){se(v,R)},function(R){de(v,R)})}catch(w){de(v,w)}}var _=0;function te(){return _++}function be(v){v[z]=_++,v._state=void 0,v._result=void 0,v._subscribers=[]}function Se(){return new Error("Array Methods must be provided an Array")}var he=function(){function v(S,w){this._instanceConstructor=S,this.promise=new S(y),this.promise[z]||be(this.promise),s(w)?(this.length=w.length,this._remaining=w.length,this._result=new Array(this.length),this.length===0?ae(this.promise,this._result):(this.length=this.length||0,this._enumerate(w),this._remaining===0&&ae(this.promise,this._result))):de(this.promise,Se())}return v.prototype._enumerate=function(w){for(var R=0;this._state===T&&R<w.length;R++)this._eachEntry(w[R],R)},v.prototype._eachEntry=function(w,R){var k=this._instanceConstructor,V=k.resolve;if(V===G){var me=void 0,we=void 0,Ce=!1;try{me=w.then}catch(Ne){Ce=!0,we=Ne}if(me===D&&w._state!==T)this._settledAt(w._state,R,w._result);else if(typeof me!="function")this._remaining--,this._result[R]=w;else if(k===pe){var Ee=new k(y);Ce?de(Ee,we):fe(Ee,w,me),this._willSettleAt(Ee,R)}else this._willSettleAt(new k(function(Ne){return Ne(w)}),R)}else this._willSettleAt(V(w),R)},v.prototype._settledAt=function(w,R,k){var V=this.promise;V._state===T&&(this._remaining--,w===F?de(V,k):this._result[R]=k),this._remaining===0&&ae(V,this._result)},v.prototype._willSettleAt=function(w,R){var k=this;ve(w,void 0,function(V){return k._settledAt(N,R,V)},function(V){return k._settledAt(F,R,V)})},v}();function ue(v){return new he(this,v).promise}function xe(v){var S=this;return s(v)?new S(function(w,R){for(var k=v.length,V=0;V<k;V++)S.resolve(v[V]).then(w,R)}):new S(function(w,R){return R(new TypeError("You must pass an array to race."))})}function je(v){var S=this,w=new S(y);return de(w,v),w}function Oe(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Ie(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var pe=function(){function v(S){this[z]=te(),this._result=this._state=void 0,this._subscribers=[],y!==S&&(typeof S!="function"&&Oe(),this instanceof v?ne(this,S):Ie())}return v.prototype.catch=function(w){return this.then(null,w)},v.prototype.finally=function(w){var R=this,k=R.constructor;return e(w)?R.then(function(V){return k.resolve(w()).then(function(){return V})},function(V){return k.resolve(w()).then(function(){throw V})}):R.then(w,w)},v}();pe.prototype.then=D,pe.all=ue,pe.race=xe,pe.resolve=G,pe.reject=je,pe._setScheduler=l,pe._setAsap=o,pe._asap=d;function Le(){var v=void 0;if(typeof Re<"u")v=Re;else if(typeof self<"u")v=self;else try{v=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var S=v.Promise;if(S){var w=null;try{w=Object.prototype.toString.call(S.resolve())}catch{}if(w==="[object Promise]"&&!S.cast)return}v.Promise=pe}return pe.polyfill=Le,pe.Promise=pe,pe})},html2canvas:function(a){a.exports=Z},jspdf:function(a){a.exports=oe}},U={};function Y(a){var p=U[a];if(p!==void 0)return p.exports;var e=U[a]={exports:{}};return L[a].call(e.exports,e,e.exports,Y),e.exports}(function(){Y.n=function(a){var p=a&&a.__esModule?function(){return a.default}:function(){return a};return Y.d(p,{a:p}),p}})(),function(){Y.d=function(a,p){for(var e in p)Y.o(p,e)&&!Y.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:p[e]})}}(),function(){Y.o=function(a,p){return Object.prototype.hasOwnProperty.call(a,p)}}(),function(){Y.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}();var ce={};return function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/Y.r(ce);var a=Y("./src/worker.js");Y("./src/plugin/jspdf-plugin.js"),Y("./src/plugin/pagebreaks.js"),Y("./src/plugin/hyperlinks.js");var p=function e(n,s){var t=new e.Worker(s);return n?t.from(n).save():t};p.Worker=a.default,ce.default=p}(),ce=ce.default,ce}()})})(He);var ct=He.exports;const dt=Qe(ct),ut=({title:K,activePageIndex:J,setActivePageIndex:oe,pages:Z,formatDiscordMessage:L})=>{const U=(p,e="png")=>`${K?K.replace(/\s+/g,"-"):"Voyage_Log"}_page${p+1}.${e}`;return{generatePDF:async()=>{const p=J;for(let e=0;e<Z.length;e++){oe(e),await new Promise(u=>setTimeout(u,100));const n=document.getElementById("visible-page");if(!n)continue;const t={margin:0,filename:U(e,"pdf"),image:{type:"jpeg",quality:.98},html2canvas:{scale:2,width:816,height:1056},jsPDF:{unit:"px",format:[816,1056],orientation:"portrait"}};await dt().set(t).from(n).save()}oe(p)},generateImages:async()=>{const p=J;for(let e=0;e<Z.length;e++){oe(e),await new Promise(t=>setTimeout(t,100));const n=document.getElementById("visible-page");if(!n)continue;(await qe(n,{scale:2,useCORS:!0})).toBlob(t=>{if(t){const u=URL.createObjectURL(t),f=document.createElement("a");f.href=u,f.download=U(e,"png"),f.click(),URL.revokeObjectURL(u)}},"image/png")}oe(p)},copyToClipboard:()=>{navigator.clipboard.writeText(L()),alert("Copied to clipboard!")}}},We=Q.createContext(void 0),ft=({children:K})=>{const J=at(),[oe,Z]=Q.useState(0),[L]=Q.useState([]),{generatePDF:U,generateImages:Y,copyToClipboard:ce}=ut({title:J.title,activePageIndex:oe,setActivePageIndex:Z,pages:L,formatDiscordMessage:J.formatDiscordMessage}),a={...J,generatePDF:U,generateImages:Y,copyToClipboard:ce};return i.jsx(We.Provider,{value:a,children:K})},Te=()=>{const K=Q.useContext(We);if(K===void 0)throw new Error("useLog must be used within a LogProvider");return K},mt=()=>{const{isModalOpen:K,setIsModalOpen:J,titleFont:oe,bodyFont:Z,setTitleFont:L,setBodyFont:U,loadTestingData:Y}=Te(),ce=()=>J(!1);return K?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50",children:i.jsxs("div",{className:"bg-[#2a2a2a] p-6 rounded-lg shadow-lg w-1/3 text-white",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Settings"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title Font"}),i.jsxs("select",{value:oe,onChange:a=>L(a.target.value),className:"w-full p-2 bg-gray-700 rounded border border-gray-600 text-white",children:[i.jsx("option",{value:"Satisfy",children:"Satisfy"}),i.jsx("option",{value:"Dancing_Script",children:"Dancing Script"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Log Entry Font"}),i.jsxs("select",{value:Z,onChange:a=>U(a.target.value),className:"w-full p-2 bg-gray-700 rounded border border-gray-600 text-white",children:[i.jsx("option",{value:"Satisfy",children:"Satisfy"}),i.jsx("option",{value:"Indie_Flower",children:"Indie Flower"}),i.jsx("option",{value:"Dancing_Script",children:"Dancing Script"})]})]})]}),i.jsxs("div",{className:"mt-6 flex justify-between",children:[i.jsx("button",{onClick:()=>{Y(),ce()},className:"bg-yellow-500 hover:bg-yellow-600 text-black font-bold py-2 px-4 rounded",children:"Load Testing Data"}),i.jsx("button",{onClick:ce,className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded",children:"Close"})]})]})}):null},pt=()=>{const{isCopyModalOpen:K,setIsCopyModalOpen:J,formatDiscordMessage:oe,copyToClipboard:Z}=Te(),L=()=>J(!1);return K?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50",children:i.jsxs("div",{className:"bg-[#2a2a2a] p-6 rounded-lg shadow-lg w-1/3 text-white",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Discord Message"}),i.jsx("textarea",{className:"w-full p-2 bg-gray-700 rounded border border-gray-600 text-white h-64",defaultValue:oe(),readOnly:!0}),i.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[i.jsx("button",{onClick:Z,className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded",children:"Copy"}),i.jsx("button",{onClick:L,className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded",children:"Close"})]})]})}):null},jt=()=>{const{setIsModalOpen:K}=Te(),J=()=>K(!0);return i.jsxs("header",{className:"bg-[#2a2a2a] py-1 px-4 pr-8 text-center flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("img",{className:"w-20 h-20",src:"/berserker-logging-tool/USN_Logo.png",alt:""}),i.jsx("h1",{className:"text-3xl font-bold text-amber-500",children:"Voyage Logging Tool"})]}),i.jsx("button",{onClick:J,className:"bg-gray-700 hover:bg-gray-800 text-white font-bold py-2 px-4 rounded",children:"Settings"})]})},vt=()=>{const{selectedShip:K,title:J,signature:oe,mode:Z,events:L,crew:U,gold:Y,doubloons:ce,ancientCoins:a,fishCaught:p,dives:e,titleFont:n,bodyFont:s,formatList:t,body:u,voyageNumber:f}=Te();console.log("Preview received crew:",U);let d=[];try{d=JSON.parse(U||"[]")}catch{d=[]}const l=["Recruit","Seaman","Marine","Lance Corporal","Able Seaman","Corporal","Junior Petty Officer","Staff Sergeant","Petty Officer","Gunnery Sergeant","Chief Petty Officer","Master Sergeant","Senior Chief Petty Officer","Second Lieutenant","Midshipman","Marine Captain","Lieutenant","Major","Lieutenant Commander","Lieutenant Colonel","Commander","Colonel","Captain","Brigadier General","Commodore","Major General","Rear Admiral","Vice Admiral","Admiral",""];d=d.filter(g=>g.name&&g.rank).sort((g,b)=>{const E=l.indexOf(g.rank);return l.indexOf(b.rank)-E});const o=d.find(g=>g.discord===oe),r=(o==null?void 0:o.name)||"Your Name",c=(o==null?void 0:o.rank)||"Your Rank",m={Berserker:"/berserker-logging-tool/ships/berserker.png",Jormungandr:"/berserker-logging-tool/ships/jormungandr.png",Freyr:"/berserker-logging-tool/ships/freyr.png",Gjallarhorn:"/berserker-logging-tool/ships/gjallarhorn.png",Odin:"/berserker-logging-tool/ships/odin.png"},x=((g,b=1500)=>{const E=[];for(let P=0;P<g.length;P+=b)E.push(g.slice(P,P+b));return E.length>0?E:[""]})(u||"",1500),O=g=>{if(g===""||g==null)return"";const b=Number(g);if(!Number.isFinite(b))return g;const E=b%100;if(E>=11&&E<=13)return`${b}th`;const P=b%10;return P===1?`${b}st`:P===2?`${b}nd`:P===3?`${b}rd`:`${b}th`},I=(g=0)=>{const b=x[g]||"",E=g===0,P=g===x.length-1,A=f&&K?`${O(f)} Voyage Log of the USS ${K}`:J||"Log Title";return i.jsxs("div",{className:"bg-[url('/parchment.png')] bg-cover rounded-lg pb-28 mb-8 preview-page",style:{width:"816px",height:"1190px",boxShadow:"0 0 20px rgba(0,0,0,0.3)",position:"relative"},children:[i.jsx("img",{src:m[K],onError:h=>{h.currentTarget.src="/berserker-logging-tool/ships/berserker.png"},alt:"Ship Logo",crossOrigin:"anonymous",className:"absolute inset-0 m-auto",style:{width:"50%",height:"auto",opacity:.15,zIndex:0}}),i.jsxs("div",{id:"writing-area",className:`p-12 h-full flex flex-col relative z-10 ${E?"":"pt-24"}`,children:[E?i.jsx("h2",{className:`text-5xl text-center ml-16 mr-16 mt-12 mb-8 font-['${n}'] text-black whitespace-pre-wrap`,children:A}):i.jsx("h2",{className:`text-5xl text-center ml-16 mr-16 mb-8 font-['${n}'] text-black whitespace-pre-wrap`,children:A}),i.jsx("div",{className:`font-['${s}'] text-base flex-grow whitespace-pre-wrap text-black leading-relaxed p-2`,children:b||"Your log entry will appear here..."}),P&&Z==="patrol"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-8 ml-6 mt-8 flex-shrink-0",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-['Satisfy'] text-2xl text-black mb-2",children:"Notable Events"}),i.jsx("ul",{className:"list-none font-['Indie_Flower'] text-lg text-black",style:{columns:"1",columnGap:"1rem",breakInside:"avoid-column"},children:t(L).map((h,C)=>i.jsx("li",{style:{breakInside:"avoid-column"},children:h},C))})]}),i.jsxs("div",{className:"col-span-1",children:[i.jsx("h3",{className:"font-['Satisfy'] text-2xl text-black mb-2",children:"Crew Manifest"}),i.jsxs("ul",{className:"list-none font-['Indie_Flower'] text-lg text-black space-y-1",children:[d.length===0&&i.jsx("li",{children:"No crew assigned"}),d.filter(h=>h.name&&h.rank).sort((h,C)=>{const D=l.indexOf(h.rank);return l.indexOf(C.rank)-D}).map(h=>{const C=h.isRep?" [REP]":"";return i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsxs("span",{className:"font-semibold",children:[h.rank," ",h.name,C]}),i.jsx("span",{children:h.role})]},h.name)})]})]})]}),i.jsxs("div",{className:"flex justify-between items-end mt-8 flex-shrink-0",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("img",{src:"/berserker-logging-tool/gold.webp",alt:"Gold",crossOrigin:"anonymous",className:"w-8 h-8"}),i.jsx("span",{className:"font-['Indie_Flower'] text-2xl text-black",children:Y||"0"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("img",{src:"/berserker-logging-tool/doubloon.webp",alt:"Doubloons",crossOrigin:"anonymous",className:"w-8 h-8"}),i.jsx("span",{className:"font-['Indie_Flower'] text-2xl text-black",children:ce||"0"})]}),a&&parseInt(a)>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("img",{src:"/berserker-logging-tool/ANCI.webp",alt:"Ancient Coins",crossOrigin:"anonymous",className:"w-8 h-8"}),i.jsx("span",{className:"font-['Indie_Flower'] text-2xl text-black",children:a})]}),p&&parseInt(p)>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("img",{src:"/berserker-logging-tool/FISH.webp",alt:"Fish",crossOrigin:"anonymous",className:"w-8 h-8"}),i.jsx("span",{className:"font-['Indie_Flower'] text-2xl text-black",children:p})]})]}),i.jsxs("div",{className:"font-['Dancing_Script'] text-5xl text-black font-bold whitespace-pre-wrap",style:{transform:"rotate(-4deg)",textShadow:"1px 1px 2px rgba(0,0,0,0.1)",marginRight:"2rem"},children:[r,i.jsx("div",{className:"text-3xl mt-2 text-right",children:c})]})]})]}),P&&Z==="skirmish"&&i.jsxs("div",{className:"p-2",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx("h3",{className:"font-['Satisfy'] text-2xl text-black mb-2",children:"Skirmish Dives"}),i.jsxs("div",{className:"font-['Indie_Flower'] text-xl text-black leading-relaxed p-2",children:[e.length===0&&i.jsx("div",{children:"No dives recorded for this skirmish."}),i.jsx("div",{className:"grid grid-cols-1",children:e.map((h,C)=>i.jsxs("div",{className:"mb-3",children:[i.jsxs("strong",{className:"flex items-center gap-2",children:[i.jsxs("span",{children:[C+1,"."]}),i.jsx("img",{className:"w-8 h-8",src:`/berserker-logging-tool/${h.ourTeam.toLocaleLowerCase()}.webp`,alt:""}),i.jsxs("span",{children:["USS ",K]}),i.jsxs("span",{children:["vs ",h.enemyTeam]}),i.jsx("img",{className:"w-8 h-8",src:`/berserker-logging-tool/${h.enemyTeam.toLocaleLowerCase()}.webp`,alt:""}),i.jsxs("span",{children:["(",h.outcome,")"]})]}),h.notes&&i.jsx("div",{className:"ml-4 italic",children:h.notes})]},C))})]})]}),i.jsxs("div",{className:"col-span-1",children:[i.jsx("h3",{className:"font-['Satisfy'] text-2xl text-black mb-2",children:"Crew Manifest"}),i.jsxs("ul",{className:"list-none font-['Indie_Flower'] text-lg text-black space-y-1",children:[d.length===0&&i.jsx("li",{children:"No crew assigned"}),d.filter(h=>h.name&&h.rank).sort((h,C)=>{const D=l.indexOf(h.rank);return l.indexOf(C.rank)-D}).map(h=>{const C=h.isRep?" [REP]":"";return i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsxs("span",{className:"font-semibold",children:[h.rank," ",h.name,C]}),i.jsx("span",{children:h.role})]},h.name)})]})]})]}),i.jsx("div",{className:"flex justify-end items-center mt-8",children:i.jsxs("div",{className:"font-['Dancing_Script'] text-5xl text-black font-bold whitespace-pre-wrap",style:{transform:"rotate(-4deg)",textShadow:"1px 1px 2px rgba(0,0,0,0.1)",marginRight:"2rem"},children:[r,i.jsx("div",{className:"text-3xl mt-2 text-right",children:c})]})})]})]})]})};return i.jsx("div",{className:"w-1/2","data-testid":"log-preview",children:x.map((g,b)=>i.jsx("div",{children:I(b)},b))})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ht={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=K=>K.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),yt=(K,J)=>{const oe=Q.forwardRef(({color:Z="currentColor",size:L=24,strokeWidth:U=2,absoluteStrokeWidth:Y,className:ce="",children:a,...p},e)=>Q.createElement("svg",{ref:e,...ht,width:L,height:L,stroke:Z,strokeWidth:Y?Number(U)*24/Number(L):U,className:["lucide",`lucide-${gt(K)}`,ce].join(" "),...p},[...J.map(([n,s])=>Q.createElement(n,s)),...Array.isArray(a)?a:[a]]));return oe.displayName=`${K}`,oe};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ge="/berserker-logging-tool/athena.webp",Be="/berserker-logging-tool/reaper.webp",xt=()=>{const{mode:K,setMode:J,selectedShip:oe,setSelectedShip:Z,events:L,setEvents:U,crew:Y,setCrew:ce,gold:a,setGold:p,doubloons:e,setDoubloons:n,startgold:s,setStartgold:t,endgold:u,setEndgold:f,ancientCoins:d,setAncientCoins:l,fishCaught:o,setFishCaught:r,dives:c,updateDive:m,removeDive:j,addNewDive:x,resetState:O,setIsCopyModalOpen:I,signature:g,setSignature:b,ourTeam:E,setOurTeam:P,body:A,setBody:h,voyageNumber:C,setVoyageNumber:D}=Te(),[G,z]=De.useState([]);return De.useEffect(()=>{try{const y=JSON.parse(Y||"[]");Array.isArray(y)&&z(y)}catch{z([])}},[]),De.useEffect(()=>{try{ce(JSON.stringify(G))}catch(y){console.error("Failed to serialize crew:",y)}},[G,ce]),i.jsx("div",{className:"w-1/2 overflow-y-auto mb-96",children:i.jsx("div",{className:"w-3/8 bg-[#2a2a2a] p-6 rounded-lg",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex items-end gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{htmlFor:"ship-select",className:"block text-sm font-medium mb-2",children:"Select Ship"}),i.jsxs("select",{id:"ship-select",value:oe,onChange:y=>Z(y.target.value),className:"w-full p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white",children:[i.jsx("option",{value:"Berserker",children:"Berserker"}),i.jsx("option",{value:"Jormungandr",children:"Jormungandr"}),i.jsx("option",{value:"Freyr",children:"Freyr"}),i.jsx("option",{value:"Gjallarhorn",children:"Gjallarhorn"}),i.jsx("option",{value:"Odin",children:"Odin"})]})]}),i.jsxs("div",{className:"w-28",children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Voyage #"}),i.jsx("input",{type:"number",value:C,onChange:y=>D(y.target.value),className:"w-full p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"#"})]})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Crew & Roles"}),i.jsxs("div",{className:"space-y-2",children:[G.map((y,T)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("select",{value:y.rank,onChange:N=>z(F=>F.map((B,H)=>H===T?{...B,rank:N.target.value}:B)),className:"w-32 p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white",children:[i.jsx("option",{value:"",disabled:!0,style:{color:"#888"},children:"Rank"}),i.jsx("option",{value:"Recruit",children:"Recruit"}),i.jsx("option",{value:"Seaman",children:"Seaman"}),i.jsx("option",{value:"Marine",children:"Marine"}),i.jsx("option",{value:"Lance Corporal",children:"Lance Corporal"}),i.jsx("option",{value:"Able Seaman",children:"Able Seaman"}),i.jsx("option",{value:"Corporal",children:"Corporal"}),i.jsx("option",{value:"Junior Petty Officer",children:"Junior Petty Officer"}),i.jsx("option",{value:"Staff Sergeant",children:"Staff Sergeant"}),i.jsx("option",{value:"Petty Officer",children:"Petty Officer"}),i.jsx("option",{value:"Gunnery Sergeant",children:"Gunnery Sergeant"}),i.jsx("option",{value:"Chief Petty Officer",children:"Chief Petty Officer"}),i.jsx("option",{value:"Master Sergeant",children:"Master Sergeant"}),i.jsx("option",{value:"Senior Chief Petty Officer",children:"Senior Chief Petty Officer"}),i.jsx("option",{value:"Second Lieutenant",children:"Second Lieutenant"}),i.jsx("option",{value:"Midshipman",children:"Midshipman"}),i.jsx("option",{value:"Marine Captain",children:"Marine Captain"}),i.jsx("option",{value:"Lieutenant",children:"Lieutenant"}),i.jsx("option",{value:"Major",children:"Major"}),i.jsx("option",{value:"Lieutenant Commander",children:"Lieutenant Commander"}),i.jsx("option",{value:"Lieutenant Colonel",children:"Lieutenant Colonel"}),i.jsx("option",{value:"Commander",children:"Commander"}),i.jsx("option",{value:"Colonel",children:"Colonel"}),i.jsx("option",{value:"Captain",children:"Captain"}),i.jsx("option",{value:"Brigadier General",children:"Brigadier General"}),i.jsx("option",{value:"Commodore",children:"Commodore"}),i.jsx("option",{value:"Major General",children:"Major General"}),i.jsx("option",{value:"Rear Admiral",children:"Rear Admiral"}),i.jsx("option",{value:"Vice Admiral",children:"Vice Admiral"}),i.jsx("option",{value:"Admiral",children:"Admiral"})]}),i.jsxs("select",{value:y.role,onChange:N=>z(F=>F.map((B,H)=>H===T?{...B,role:N.target.value}:B)),className:"w-32 p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white",children:[i.jsx("option",{value:"",disabled:!0,style:{color:"#888"},children:"Role"}),i.jsx("option",{value:"Helm",children:"Helm"}),i.jsx("option",{value:"Cannons",children:"Cannons"}),i.jsx("option",{value:"Carpenter",children:"Carpenter"}),i.jsx("option",{value:"Flex",children:"Flex"})]}),i.jsx("input",{type:"text",value:y.name,onChange:N=>z(F=>F.map((B,H)=>H===T?{...B,name:N.target.value}:B)),className:"flex-1 p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Name"}),i.jsx("input",{type:"text",value:y.discord,onChange:N=>z(F=>F.map((B,H)=>H===T?{...B,discord:N.target.value}:B)),className:"w-36 p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Discord ID"}),i.jsxs("label",{className:"flex items-center gap-1 text-white text-sm",children:[i.jsx("input",{type:"checkbox",checked:y.isRep||!1,onChange:N=>z(F=>F.map((B,H)=>H===T?{...B,isRep:N.target.checked}:B)),className:"w-4 h-4"}),"REP"]}),i.jsx("button",{onClick:()=>z(N=>N.filter((F,B)=>B!==T)),className:"text-red-400 text-sm px-2","aria-label":`Remove crew member ${T+1}`,children:"X"})]},y.id||T)),i.jsx("div",{children:i.jsx("button",{onClick:()=>z(y=>[...y,{id:String(Date.now()),name:"",discord:"",rank:"",role:"",isRep:!1}]),className:"mt-2 bg-green-700 hover:bg-green-600 text-white px-2 py-1 rounded text-sm",children:"Add Crew Member"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mode"}),i.jsxs("select",{value:K,onChange:y=>J(y.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",children:[i.jsx("option",{value:"patrol",children:"Patrol"}),i.jsx("option",{value:"skirmish",children:"Skirmish"})]})]}),K==="patrol"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Events"}),i.jsxs("div",{className:"space-y-2",children:[L.split(`
`).filter(y=>y.trim()).map((y,T)=>{const N=y.match(/^(\d+)x\s*(.*)$/),F=N?N[1]:"1",B=N?N[2]:y;return i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"number",value:F,onChange:H=>{const le=L.split(`
`).filter(se=>se.trim()),W=H.target.value||"1",X=le[T].match(/^(\d+)x\s*(.*)$/),fe=X?X[2]:le[T];le[T]=`${W}x ${fe}`,U(le.join(`
`))},min:"1",className:"w-16 p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white text-center"}),i.jsx("span",{className:"self-center text-white",children:"x"}),i.jsx("input",{type:"text",value:B,onChange:H=>{const le=L.split(`
`).filter(fe=>fe.trim()),W=le[T].match(/^(\d+)x\s*(.*)$/),X=W?W[1]:"1";le[T]=`${X}x ${H.target.value}`,U(le.join(`
`))},className:"flex-1 p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white placeholder-gray-400",placeholder:"Event..."}),i.jsx("button",{onClick:()=>{const H=L.split(`
`).filter(le=>le.trim()).filter((le,W)=>W!==T);U(H.join(`
`))},className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded",children:"Remove"})]},T)}),i.jsx("button",{onClick:()=>{const y="1x ";U(L?L+`
`+y:y)},className:"mt-2 bg-green-700 hover:bg-green-600 text-white px-2 py-1 rounded text-sm",children:"Add Event"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Gold"}),i.jsx("input",{type:"text",value:s,onChange:y=>t(y.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Amount..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"End Gold"}),i.jsx("input",{type:"text",value:u,onChange:y=>f(y.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Amount..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Gold Earned"}),i.jsx("input",{type:"text",value:a,onChange:y=>p(y.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Amount..."})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Doubloons"}),i.jsx("input",{type:"text",value:e,onChange:y=>n(y.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Amount..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Ancient Coins"}),i.jsx("input",{type:"text",value:d,onChange:y=>l(y.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Amount..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Fish Caught"}),i.jsx("input",{type:"text",value:o,onChange:y=>r(y.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Amount..."})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Your Team"}),i.jsxs("select",{value:E,onChange:y=>{const T=y.target.value;P(T),c.forEach((N,F)=>{m(F,{ourTeam:T})})},className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",children:[i.jsx("option",{value:"Athena",children:"Athena"}),i.jsx("option",{value:"Reaper",children:"Reaper"})]})]}),K==="skirmish"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Skirmish Dives"}),i.jsxs("div",{className:"space-y-3",children:[c.map((y,T)=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsx("img",{src:y.ourTeam==="Athena"?Ge:Be,alt:y.ourTeam,className:"w-6 h-6"}),i.jsxs("select",{value:y.ourTeam,onChange:N=>m(T,{ourTeam:N.target.value}),className:"flex-1 p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white",children:[i.jsx("option",{value:"Athena",children:"Athena"}),i.jsx("option",{value:"Reaper",children:"Reaper"})]}),i.jsx("span",{className:"text-white",children:"vs"}),i.jsx("img",{src:y.enemyTeam==="Athena"?Ge:Be,alt:y.enemyTeam,className:"w-6 h-6"}),i.jsxs("select",{value:y.enemyTeam,onChange:N=>m(T,{enemyTeam:N.target.value}),className:"flex-1 p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white",children:[i.jsx("option",{value:"Athena",children:"Athena"}),i.jsx("option",{value:"Reaper",children:"Reaper"})]}),i.jsxs("select",{value:y.outcome,onChange:N=>m(T,{outcome:N.target.value}),className:"flex-1 p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white",children:[i.jsx("option",{value:"win",children:"Win"}),i.jsx("option",{value:"loss",children:"Loss"})]}),i.jsx("button",{onClick:()=>j(T),className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded",children:"Remove"})]}),i.jsx("input",{type:"text",value:y.notes,onChange:N=>m(T,{notes:N.target.value}),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white",placeholder:"Notes (optional)"})]},T)),i.jsx("button",{onClick:x,className:"mt-2 bg-green-700 hover:bg-green-600 text-white px-2 py-1 rounded text-sm",children:"Add Dive"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Log Entry"}),i.jsx("textarea",{value:A,onChange:y=>h(y.target.value),className:"w-full p-2 bg-[#3a3a3a] rounded border border-gray-600 text-white h-32",placeholder:"Write your log entry..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Host"}),i.jsxs("select",{value:g,onChange:y=>b(y.target.value),className:"w-full p-2 h-10 bg-[#3a3a3a] rounded border border-gray-600 text-white",children:[i.jsx("option",{value:"",disabled:!0,style:{color:"#888"},children:"Select Host"}),G.map(y=>i.jsxs("option",{value:y.discord,children:[y.name," - ",y.rank]},y.id))]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx("button",{onClick:()=>{O(),z([])},className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded flex items-center justify-center gap-2",children:"Reset"}),i.jsx("button",{onClick:()=>I(!0),className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded flex items-center justify-center gap-2",children:"Copy Discord Message"}),i.jsxs("button",{onClick:async()=>{const y=(await ke(async()=>{const{default:W}=await import("./pdf-SPbSAGJ1.js").then(X=>X.h);return{default:W}},[])).default,{jsPDF:T}=await ke(async()=>{const{jsPDF:W}=await import("./pdf-SPbSAGJ1.js").then(X=>X.j);return{jsPDF:W}},[]),N=document.querySelectorAll(".preview-page");if(N.length===0){alert("No preview found");return}const F=new T({orientation:"portrait",unit:"mm",format:"a4"});for(let W=0;W<N.length;W++){const X=await y(N[W],{scale:2,useCORS:!0,allowTaint:!0}),fe=X.toDataURL("image/png"),se=F.internal.pageSize.getWidth(),ye=se,ae=X.height*se/X.width;W>0&&F.addPage(),F.addImage(fe,"PNG",0,0,ye,ae)}const H=C?(W=>{if(W===""||W==null)return"";const X=Number(W);if(!Number.isFinite(X))return W;const fe=X%100;if(fe>=11&&fe<=13)return`${X}th`;const se=X%10;return se===1?`${X}st`:se===2?`${X}nd`:se===3?`${X}rd`:`${X}th`})(C):"nth",le=`USS ${oe} - ${H} Voyage Log.pdf`;F.save(le)},className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded flex items-center justify-center gap-2",children:[i.jsx(bt,{size:20}),"Generate PDF"]})]})]})})})};function St(){return i.jsx(ft,{children:i.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-white",children:[i.jsx("div",{role:"banner",children:i.jsx(jt,{})}),i.jsx(mt,{"data-testid":"settings-modal"}),i.jsx(pt,{"data-testid":"copy-modal"}),i.jsxs("main",{className:"container mx-auto p-4 flex gap-4",children:[i.jsx(xt,{"data-testid":"editor"}),i.jsx(vt,{"data-testid":"log-preview"})]})]})})}ze(document.getElementById("root")).render(i.jsx(Q.StrictMode,{children:i.jsx(St,{})}));
